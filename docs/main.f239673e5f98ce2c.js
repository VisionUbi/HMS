"use strict";(self.webpackChunkHospitalManagement=self.webpackChunkHospitalManagement||[]).push([[179],{2011:(ct,Ie,F)=>{F.d(Ie,{Dh:()=>fe,GT:()=>he,cc:()=>xe,hO:()=>Ne,on:()=>H,pX:()=>ae,xv:()=>pe});var s=F(4650),ee=F(9260),P=F(2122);ct=F.hmd(ct);const oe=["ngOnDestroy"],ae=(me,tt,at,Te={})=>new Proxy(me,{get:(be,De)=>at.runOutsideAngular(()=>{var Ue;if(me[De])return!(null===(Ue=Te?.spy)||void 0===Ue)&&Ue.get&&Te.spy.get(De,me[De]),me[De];if(oe.indexOf(De)>-1)return()=>{};const He=tt.toPromise().then(U=>{const ge=U&&U[De];return"function"==typeof ge?ge.bind(U):ge&&ge.then?ge.then(Z=>at.run(()=>Z)):at.run(()=>ge)});return new Proxy(()=>{},{get:(U,ge)=>He[ge],apply:(U,ge,Z)=>He.then(J=>{var se;const re=J&&J(...Z);return!(null===(se=Te?.spy)||void 0===se)&&se.apply&&Te.spy.apply(De,Z,re),re})})})}),he=(me,tt)=>{tt.forEach(at=>{Object.getOwnPropertyNames(at.prototype||at).forEach(Te=>{Object.defineProperty(me.prototype,Te,Object.getOwnPropertyDescriptor(at.prototype||at,Te))})})};class te{constructor(tt){return tt}}const fe=new s.OlP("angularfire2.app.options"),pe=new s.OlP("angularfire2.app.name");function H(me,tt,at){const be="object"==typeof at&&at||{};be.name=be.name||"string"==typeof at&&at||"[DEFAULT]";const Ue=ee.Z.apps.filter(He=>He&&He.name===be.name)[0]||tt.runOutsideAngular(()=>ee.Z.initializeApp(me,be));try{JSON.stringify(me)!==JSON.stringify(Ue.options)&&j("error",`${Ue.name} Firebase App already initialized with different options${ct.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new te(Ue)}const j=(me,...tt)=>{(0,s.X6Q)()&&typeof console<"u"&&console[me](...tt)},W={provide:te,useFactory:H,deps:[fe,s.R0b,[new s.FiY,pe]]};let Ne=(()=>{class me{constructor(at){ee.Z.registerVersion("angularfire",P.q4.full,"core"),ee.Z.registerVersion("angularfire",P.q4.full,"app-compat"),ee.Z.registerVersion("angular",s.q4F.full,at.toString())}static initializeApp(at,Te){return{ngModule:me,providers:[{provide:fe,useValue:at},{provide:pe,useValue:Te}]}}}return me.\u0275fac=function(at){return new(at||me)(s.LFG(s.Lbi))},me.\u0275mod=s.oAB({type:me}),me.\u0275inj=s.cJS({providers:[W]}),me})();function xe(me,tt,at,Te,be){const[,De,Ue]=globalThis.\u0275AngularfireInstanceCache.find(He=>He[0]===me)||[];if(De)return function Ce(me,tt){try{return me.toString()===tt.toString()}catch{return me===tt}}(be,Ue)||(_e("error",`${tt} was already initialized on the ${at} Firebase App with different settings.${rt?" You may need to reload as Firebase is not HMR aware.":""}`),_e("warn",{is:be,was:Ue})),De;{const He=Te();return globalThis.\u0275AngularfireInstanceCache.push([me,He,be]),He}}const rt=!!ct.hot,_e=(me,...tt)=>{(0,s.X6Q)()&&typeof console<"u"&&console[me](...tt)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},2122:(ct,Ie,F)=>{F.d(Ie,{q4:()=>Ge,iC:()=>Ss,HU:()=>Bi,vb:()=>ls,JM:()=>sl});var s=F(4650),ee=F(259),P=F(5861),oe=F(9681),ae=F(2090),he=F(4859),te=F(1877),fe=F(8766);const pe="@firebase/installations",H="0.6.0",W=`w:${H}`,Ne="FIS_v2",tt=new ae.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function at(S){return S instanceof ae.ZR&&S.code.includes("request-failed")}function Te({projectId:S}){return`https://firebaseinstallations.googleapis.com/v1/projects/${S}/installations`}function be(S){return{token:S.token,requestStatus:2,expiresIn:J(S.expiresIn),creationTime:Date.now()}}function De(S,I){return Ue.apply(this,arguments)}function Ue(){return(Ue=(0,P.Z)(function*(S,I){const L=(yield I.json()).error;return tt.create("request-failed",{requestName:S,serverCode:L.code,serverMessage:L.message,serverStatus:L.status})})).apply(this,arguments)}function He({apiKey:S}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":S})}function U(S,{refreshToken:I}){const x=He(S);return x.append("Authorization",function se(S){return`${Ne} ${S}`}(I)),x}function ge(S){return Z.apply(this,arguments)}function Z(){return(Z=(0,P.Z)(function*(S){const I=yield S();return I.status>=500&&I.status<600?S():I})).apply(this,arguments)}function J(S){return Number(S.replace("s","000"))}function re(S,I){return Fe.apply(this,arguments)}function Fe(){return(Fe=(0,P.Z)(function*({appConfig:S,heartbeatServiceProvider:I},{fid:x}){const L=Te(S),K=He(S),ie=I.getImmediate({optional:!0});if(ie){const lt=yield ie.getHeartbeatsHeader();lt&&K.append("x-firebase-client",lt)}const Le={method:"POST",headers:K,body:JSON.stringify({fid:x,authVersion:Ne,appId:S.appId,sdkVersion:W})},Xe=yield ge(()=>fetch(L,Le));if(Xe.ok){const lt=yield Xe.json();return{fid:lt.fid||x,registrationStatus:2,refreshToken:lt.refreshToken,authToken:be(lt.authToken)}}throw yield De("Create Installation",Xe)})).apply(this,arguments)}function Re(S){return new Promise(I=>{setTimeout(I,S)})}const an=/^[cdef][\w-]{21}$/;function Ke(){try{const S=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(S),S[0]=112+S[0]%16;const x=function gn(S){return function pt(S){return btoa(String.fromCharCode(...S)).replace(/\+/g,"-").replace(/\//g,"_")}(S).substr(0,22)}(S);return an.test(x)?x:""}catch{return""}}function Rn(S){return`${S.appName}!${S.appId}`}const tn=new Map;function ln(S,I){const x=Rn(S);Dn(x,I),function ms(S,I){const x=function qi(){return!Nr&&"BroadcastChannel"in self&&(Nr=new BroadcastChannel("[Firebase] FID Change"),Nr.onmessage=S=>{Dn(S.data.key,S.data.fid)}),Nr}();x&&x.postMessage({key:S,fid:I}),function ir(){0===tn.size&&Nr&&(Nr.close(),Nr=null)}()}(x,I)}function Dn(S,I){const x=tn.get(S);if(x)for(const L of x)L(I)}let Nr=null;const wr="firebase-installations-store";let Cr=null;function La(){return Cr||(Cr=(0,fe.X3)("firebase-installations-database",1,{upgrade:(S,I)=>{0===I&&S.createObjectStore(wr)}})),Cr}function Je(S,I){return Fi.apply(this,arguments)}function Fi(){return(Fi=(0,P.Z)(function*(S,I){const x=Rn(S),K=(yield La()).transaction(wr,"readwrite"),ie=K.objectStore(wr),Ee=yield ie.get(x);return yield ie.put(I,x),yield K.done,(!Ee||Ee.fid!==I.fid)&&ln(S,I.fid),I})).apply(this,arguments)}function Bs(S){return ci.apply(this,arguments)}function ci(){return(ci=(0,P.Z)(function*(S){const I=Rn(S),L=(yield La()).transaction(wr,"readwrite");yield L.objectStore(wr).delete(I),yield L.done})).apply(this,arguments)}function Dr(S,I){return ts.apply(this,arguments)}function ts(){return(ts=(0,P.Z)(function*(S,I){const x=Rn(S),K=(yield La()).transaction(wr,"readwrite"),ie=K.objectStore(wr),Ee=yield ie.get(x),Le=I(Ee);return void 0===Le?yield ie.delete(x):yield ie.put(Le,x),yield K.done,Le&&(!Ee||Ee.fid!==Le.fid)&&ln(S,Le.fid),Le})).apply(this,arguments)}function Kn(S){return Xn.apply(this,arguments)}function Xn(){return(Xn=(0,P.Z)(function*(S){let I;const x=yield Dr(S.appConfig,L=>{const K=Tn(L),ie=wt(S,K);return I=ie.registrationPromise,ie.installationEntry});return""===x.fid?{installationEntry:yield I}:{installationEntry:x,registrationPromise:I}})).apply(this,arguments)}function Tn(S){return Pt(S||{fid:Ke(),registrationStatus:0})}function wt(S,I){if(0===I.registrationStatus){if(!navigator.onLine)return{installationEntry:I,registrationPromise:Promise.reject(tt.create("app-offline"))};const x={fid:I.fid,registrationStatus:1,registrationTime:Date.now()},L=function ut(S,I){return fn.apply(this,arguments)}(S,x);return{installationEntry:x,registrationPromise:L}}return 1===I.registrationStatus?{installationEntry:I,registrationPromise:Ii(S)}:{installationEntry:I}}function fn(){return(fn=(0,P.Z)(function*(S,I){try{const x=yield re(S,I);return Je(S.appConfig,x)}catch(x){throw at(x)&&409===x.customData.serverCode?yield Bs(S.appConfig):yield Je(S.appConfig,{fid:I.fid,registrationStatus:0}),x}})).apply(this,arguments)}function Ii(S){return ei.apply(this,arguments)}function ei(){return(ei=(0,P.Z)(function*(S){let I=yield rr(S.appConfig);for(;1===I.registrationStatus;)yield Re(100),I=yield rr(S.appConfig);if(0===I.registrationStatus){const{installationEntry:x,registrationPromise:L}=yield Kn(S);return L||x}return I})).apply(this,arguments)}function rr(S){return Dr(S,I=>{if(!I)throw tt.create("installation-not-found");return Pt(I)})}function Pt(S){return function Us(S){return 1===S.registrationStatus&&S.registrationTime+1e4<Date.now()}(S)?{fid:S.fid,registrationStatus:0}:S}function cn(S,I){return ns.apply(this,arguments)}function ns(){return(ns=(0,P.Z)(function*({appConfig:S,heartbeatServiceProvider:I},x){const L=un(S,x),K=U(S,x),ie=I.getImmediate({optional:!0});if(ie){const lt=yield ie.getHeartbeatsHeader();lt&&K.append("x-firebase-client",lt)}const Le={method:"POST",headers:K,body:JSON.stringify({installation:{sdkVersion:W,appId:S.appId}})},Xe=yield ge(()=>fetch(L,Le));if(Xe.ok)return be(yield Xe.json());throw yield De("Generate Auth Token",Xe)})).apply(this,arguments)}function un(S,{fid:I}){return`${Te(S)}/${I}/authTokens:generate`}function ui(S){return Zi.apply(this,arguments)}function Zi(){return(Zi=(0,P.Z)(function*(S,I=!1){let x;const L=yield Dr(S.appConfig,ie=>{if(!$t(ie))throw tt.create("not-registered");const Ee=ie.authToken;if(!I&&G(Ee))return ie;if(1===Ee.requestStatus)return x=it(S,I),ie;{if(!navigator.onLine)throw tt.create("app-offline");const Le=Y(ie);return x=kt(S,Le),Le}});return x?yield x:L.authToken})).apply(this,arguments)}function it(S,I){return Se.apply(this,arguments)}function Se(){return(Se=(0,P.Z)(function*(S,I){let x=yield nt(S.appConfig);for(;1===x.authToken.requestStatus;)yield Re(100),x=yield nt(S.appConfig);const L=x.authToken;return 0===L.requestStatus?ui(S,I):L})).apply(this,arguments)}function nt(S){return Dr(S,I=>{if(!$t(I))throw tt.create("not-registered");return function we(S){return 1===S.requestStatus&&S.requestTime+1e4<Date.now()}(I.authToken)?Object.assign(Object.assign({},I),{authToken:{requestStatus:0}}):I})}function kt(S,I){return Ft.apply(this,arguments)}function Ft(){return(Ft=(0,P.Z)(function*(S,I){try{const x=yield cn(S,I),L=Object.assign(Object.assign({},I),{authToken:x});return yield Je(S.appConfig,L),x}catch(x){if(!at(x)||401!==x.customData.serverCode&&404!==x.customData.serverCode){const L=Object.assign(Object.assign({},I),{authToken:{requestStatus:0}});yield Je(S.appConfig,L)}else yield Bs(S.appConfig);throw x}})).apply(this,arguments)}function $t(S){return void 0!==S&&2===S.registrationStatus}function G(S){return 2===S.requestStatus&&!function V(S){const I=Date.now();return I<S.creationTime||S.creationTime+S.expiresIn<I+36e5}(S)}function Y(S){const I={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},S),{authToken:I})}function $e(){return($e=(0,P.Z)(function*(S){const I=S,{installationEntry:x,registrationPromise:L}=yield Kn(I);return L?L.catch(console.error):ui(I).catch(console.error),x.fid})).apply(this,arguments)}function nn(){return(nn=(0,P.Z)(function*(S,I=!1){const x=S;return yield In(x),(yield ui(x,I)).token})).apply(this,arguments)}function In(S){return Xt.apply(this,arguments)}function Xt(){return(Xt=(0,P.Z)(function*(S){const{registrationPromise:I}=yield Kn(S);I&&(yield I)})).apply(this,arguments)}function Hs(S){return tt.create("missing-app-config-values",{valueName:S})}const Jo="installations",Fn=S=>{const I=S.getProvider("app").getImmediate(),x=function On(S){if(!S||!S.options)throw Hs("App Configuration");if(!S.name)throw Hs("App Name");const I=["projectId","apiKey","appId"];for(const x of I)if(!S.options[x])throw Hs(x);return{appName:S.name,projectId:S.options.projectId,apiKey:S.options.apiKey,appId:S.options.appId}}(I);return{app:I,appConfig:x,heartbeatServiceProvider:(0,oe._getProvider)(I,"heartbeat"),_delete:()=>Promise.resolve()}},go=S=>{const I=S.getProvider("app").getImmediate(),x=(0,oe._getProvider)(I,Jo).getImmediate();return{getId:()=>function Q(S){return $e.apply(this,arguments)}(x),getToken:K=>function mt(S){return nn.apply(this,arguments)}(x,K)}};(function kl(){(0,oe._registerComponent)(new he.wA(Jo,Fn,"PUBLIC")),(0,oe._registerComponent)(new he.wA("installations-internal",go,"PRIVATE"))})(),(0,oe.registerVersion)(pe,H),(0,oe.registerVersion)(pe,H,"esm2017");const is="@firebase/remote-config",ni=new ae.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class wf{constructor(I,x,L,K){this.client=I,this.storage=x,this.storageCache=L,this.logger=K}isCachedDataFresh(I,x){if(!x)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const L=Date.now()-x,K=L<=I;return this.logger.debug(`Config fetch cache check. Cache age millis: ${L}. Cache max age millis (minimumFetchIntervalMillis setting): ${I}. Is cache hit: ${K}.`),K}fetch(I){var x=this;return(0,P.Z)(function*(){const[L,K]=yield Promise.all([x.storage.getLastSuccessfulFetchTimestampMillis(),x.storage.getLastSuccessfulFetchResponse()]);if(K&&x.isCachedDataFresh(I.cacheMaxAgeMillis,L))return K;I.eTag=K&&K.eTag;const ie=yield x.client.fetch(I),Ee=[x.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===ie.status&&Ee.push(x.storage.setLastSuccessfulFetchResponse(ie)),yield Promise.all(Ee),ie})()}}function Xc(S=navigator){return S.languages&&S.languages[0]||S.language}class eu{constructor(I,x,L,K,ie,Ee){this.firebaseInstallations=I,this.sdkVersion=x,this.namespace=L,this.projectId=K,this.apiKey=ie,this.appId=Ee}fetch(I){var x=this;return(0,P.Z)(function*(){const[L,K]=yield Promise.all([x.firebaseInstallations.getId(),x.firebaseInstallations.getToken()]),Ee=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${x.projectId}/namespaces/${x.namespace}:fetch?key=${x.apiKey}`,Le={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":I.eTag||"*"},Xe={sdk_version:x.sdkVersion,app_instance_id:L,app_instance_id_token:K,app_id:x.appId,language_code:Xc()},lt={method:"POST",headers:Le,body:JSON.stringify(Xe)},Ut=fetch(Ee,lt),St=new Promise((Jn,ur)=>{I.signal.addEventListener(()=>{const Ms=new Error("The operation was aborted.");Ms.name="AbortError",ur(Ms)})});let ri;try{yield Promise.race([Ut,St]),ri=yield Ut}catch(Jn){let ur="fetch-client-network";throw"AbortError"===Jn?.name&&(ur="fetch-timeout"),ni.create(ur,{originalErrorMessage:Jn?.message})}let Wn=ri.status;const Is=ri.headers.get("ETag")||void 0;let Ro,Lt;if(200===ri.status){let Jn;try{Jn=yield ri.json()}catch(ur){throw ni.create("fetch-client-parse",{originalErrorMessage:ur?.message})}Ro=Jn.entries,Lt=Jn.state}if("INSTANCE_STATE_UNSPECIFIED"===Lt?Wn=500:"NO_CHANGE"===Lt?Wn=304:("NO_TEMPLATE"===Lt||"EMPTY_CONFIG"===Lt)&&(Ro={}),304!==Wn&&200!==Wn)throw ni.create("fetch-status",{httpStatus:Wn});return{status:Wn,eTag:Is,config:Ro}})()}}class Um{constructor(I,x){this.client=I,this.storage=x}fetch(I){var x=this;return(0,P.Z)(function*(){const L=(yield x.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return x.attemptFetch(I,L)})()}attemptFetch(I,{throttleEndTimeMillis:x,backoffCount:L}){var K=this;return(0,P.Z)(function*(){yield function hi(S,I){return new Promise((x,L)=>{const K=Math.max(I-Date.now(),0),ie=setTimeout(x,K);S.addEventListener(()=>{clearTimeout(ie),L(ni.create("fetch-throttle",{throttleEndTimeMillis:I}))})})}(I.signal,x);try{const ie=yield K.client.fetch(I);return yield K.storage.deleteThrottleMetadata(),ie}catch(ie){if(!function Md(S){if(!(S instanceof ae.ZR&&S.customData))return!1;const I=Number(S.customData.httpStatus);return 429===I||500===I||503===I||504===I}(ie))throw ie;const Ee={throttleEndTimeMillis:Date.now()+(0,ae.$s)(L),backoffCount:L+1};return yield K.storage.setThrottleMetadata(Ee),K.attemptFetch(I,Ee)}})()}}class Pl{constructor(I,x,L,K,ie){this.app=I,this._client=x,this._storageCache=L,this._storage=K,this._logger=ie,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function tu(S,I){const x=S.target.error||void 0;return ni.create(I,{originalErrorMessage:x&&x?.message})}const qs="app_namespace_store";class Cf{constructor(I,x,L,K=function Gm(){return new Promise((S,I)=>{try{const x=indexedDB.open("firebase_remote_config",1);x.onerror=L=>{I(tu(L,"storage-open"))},x.onsuccess=L=>{S(L.target.result)},x.onupgradeneeded=L=>{0===L.oldVersion&&L.target.result.createObjectStore(qs,{keyPath:"compositeKey"})}}catch(x){I(ni.create("storage-open",{originalErrorMessage:x?.message}))}})}()){this.appId=I,this.appName=x,this.namespace=L,this.openDbPromise=K}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(I){return this.set("last_fetch_status",I)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(I){return this.set("last_successful_fetch_timestamp_millis",I)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(I){return this.set("last_successful_fetch_response",I)}getActiveConfig(){return this.get("active_config")}setActiveConfig(I){return this.set("active_config",I)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(I){return this.set("active_config_etag",I)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(I){return this.set("throttle_metadata",I)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(I){var x=this;return(0,P.Z)(function*(){const L=yield x.openDbPromise;return new Promise((K,ie)=>{const Le=L.transaction([qs],"readonly").objectStore(qs),Xe=x.createCompositeKey(I);try{const lt=Le.get(Xe);lt.onerror=Ut=>{ie(tu(Ut,"storage-get"))},lt.onsuccess=Ut=>{const St=Ut.target.result;K(St?St.value:void 0)}}catch(lt){ie(ni.create("storage-get",{originalErrorMessage:lt?.message}))}})})()}set(I,x){var L=this;return(0,P.Z)(function*(){const K=yield L.openDbPromise;return new Promise((ie,Ee)=>{const Xe=K.transaction([qs],"readwrite").objectStore(qs),lt=L.createCompositeKey(I);try{const Ut=Xe.put({compositeKey:lt,value:x});Ut.onerror=St=>{Ee(tu(St,"storage-set"))},Ut.onsuccess=()=>{ie()}}catch(Ut){Ee(ni.create("storage-set",{originalErrorMessage:Ut?.message}))}})})()}delete(I){var x=this;return(0,P.Z)(function*(){const L=yield x.openDbPromise;return new Promise((K,ie)=>{const Le=L.transaction([qs],"readwrite").objectStore(qs),Xe=x.createCompositeKey(I);try{const lt=Le.delete(Xe);lt.onerror=Ut=>{ie(tu(Ut,"storage-delete"))},lt.onsuccess=()=>{K()}}catch(lt){ie(ni.create("storage-delete",{originalErrorMessage:lt?.message}))}})})()}createCompositeKey(I){return[this.appId,this.appName,this.namespace,I].join()}}class Ad{constructor(I){this.storage=I}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var I=this;return(0,P.Z)(function*(){const x=I.storage.getLastFetchStatus(),L=I.storage.getLastSuccessfulFetchTimestampMillis(),K=I.storage.getActiveConfig(),ie=yield x;ie&&(I.lastFetchStatus=ie);const Ee=yield L;Ee&&(I.lastSuccessfulFetchTimestampMillis=Ee);const Le=yield K;Le&&(I.activeConfig=Le)})()}setLastFetchStatus(I){return this.lastFetchStatus=I,this.storage.setLastFetchStatus(I)}setLastSuccessfulFetchTimestampMillis(I){return this.lastSuccessfulFetchTimestampMillis=I,this.storage.setLastSuccessfulFetchTimestampMillis(I)}setActiveConfig(I){return this.activeConfig=I,this.storage.setActiveConfig(I)}}function Fl(){return Df.apply(this,arguments)}function Df(){return(Df=(0,P.Z)(function*(){if(!(0,ae.hl)())return!1;try{return yield(0,ae.eu)()}catch{return!1}})).apply(this,arguments)}!function Zs(){(0,oe._registerComponent)(new he.wA("remote-config",function S(I,{instanceIdentifier:x}){const L=I.getProvider("app").getImmediate(),K=I.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw ni.create("registration-window");if(!(0,ae.hl)())throw ni.create("indexed-db-unavailable");const{projectId:ie,apiKey:Ee,appId:Le}=L.options;if(!ie)throw ni.create("registration-project-id");if(!Ee)throw ni.create("registration-api-key");if(!Le)throw ni.create("registration-app-id");const Xe=new Cf(Le,L.name,x=x||"firebase"),lt=new Ad(Xe),Ut=new te.Yd(is);Ut.logLevel=te.in.ERROR;const St=new eu(K,oe.SDK_VERSION,x,ie,Ee,Le),ri=new Um(St,Xe),Wn=new wf(ri,Xe,lt,Ut),Is=new Pl(L,Wn,lt,Xe,Ut);return function sn(S){const I=(0,ae.m9)(S);I._initializePromise||(I._initializePromise=I._storageCache.loadFromStorage().then(()=>{I._isInitializationComplete=!0}))}(Is),Is},"PUBLIC").setMultipleInstances(!0)),(0,oe.registerVersion)(is,"0.4.0"),(0,oe.registerVersion)(is,"0.4.0","esm2017")}();const rs="/firebase-messaging-sw.js",_s="/firebase-cloud-messaging-push-scope",ys="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Ba="google.c.a.c_id",Nl="google.c.a.c_l",nu="google.c.a.ts",Ef="google.c.a.e";var vs=(()=>{return(S=vs||(vs={})).PUSH_RECEIVED="push-received",S.NOTIFICATION_CLICKED="notification-clicked",vs;var S})();function Er(S){const I=new Uint8Array(S);return btoa(String.fromCharCode(...I)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function or(S){const x=(S+"=".repeat((4-S.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),L=atob(x),K=new Uint8Array(L.length);for(let ie=0;ie<L.length;++ie)K[ie]=L.charCodeAt(ie);return K}const Xo="fcm_token_details_db",Ti="fcm_token_object_Store";function Sf(S){return If.apply(this,arguments)}function If(){return If=(0,P.Z)(function*(S){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(ie=>ie.name).includes(Xo))return null;let I=null;return(yield(0,fe.X3)(Xo,5,{upgrade:(L=(0,P.Z)(function*(K,ie,Ee,Le){var Xe;if(ie<2||!K.objectStoreNames.contains(Ti))return;const lt=Le.objectStore(Ti),Ut=yield lt.index("fcmSenderId").get(S);if(yield lt.clear(),Ut)if(2===ie){const St=Ut;if(!St.auth||!St.p256dh||!St.endpoint)return;I={token:St.fcmToken,createTime:null!==(Xe=St.createTime)&&void 0!==Xe?Xe:Date.now(),subscriptionOptions:{auth:St.auth,p256dh:St.p256dh,endpoint:St.endpoint,swScope:St.swScope,vapidKey:"string"==typeof St.vapidKey?St.vapidKey:Er(St.vapidKey)}}}else if(3===ie){const St=Ut;I={token:St.fcmToken,createTime:St.createTime,subscriptionOptions:{auth:Er(St.auth),p256dh:Er(St.p256dh),endpoint:St.endpoint,swScope:St.swScope,vapidKey:Er(St.vapidKey)}}}else if(4===ie){const St=Ut;I={token:St.fcmToken,createTime:St.createTime,subscriptionOptions:{auth:Er(St.auth),p256dh:Er(St.p256dh),endpoint:St.endpoint,swScope:St.swScope,vapidKey:Er(St.vapidKey)}}}}),function(ie,Ee,Le,Xe){return L.apply(this,arguments)})})).close(),yield(0,fe.Lj)(Xo),yield(0,fe.Lj)("fcm_vapid_details_db"),yield(0,fe.Lj)("undefined"),zn(I)?I:null;var L}),If.apply(this,arguments)}function zn(S){if(!S||!S.subscriptionOptions)return!1;const{subscriptionOptions:I}=S;return"number"==typeof S.createTime&&S.createTime>0&&"string"==typeof S.token&&S.token.length>0&&"string"==typeof I.auth&&I.auth.length>0&&"string"==typeof I.p256dh&&I.p256dh.length>0&&"string"==typeof I.endpoint&&I.endpoint.length>0&&"string"==typeof I.swScope&&I.swScope.length>0&&"string"==typeof I.vapidKey&&I.vapidKey.length>0}const Sr="firebase-messaging-store";let Vi=null;function Vl(){return Vi||(Vi=(0,fe.X3)("firebase-messaging-database",1,{upgrade:(S,I)=>{0===I&&S.createObjectStore(Sr)}})),Vi}function ea(S){return bs.apply(this,arguments)}function bs(){return(bs=(0,P.Z)(function*(S){const I=Ur(S),L=yield(yield Vl()).transaction(Sr).objectStore(Sr).get(I);if(L)return L;{const K=yield Sf(S.appConfig.senderId);if(K)return yield en(S,K),K}})).apply(this,arguments)}function en(S,I){return Bl.apply(this,arguments)}function Bl(){return(Bl=(0,P.Z)(function*(S,I){const x=Ur(S),K=(yield Vl()).transaction(Sr,"readwrite");return yield K.objectStore(Sr).put(I,x),yield K.done,I})).apply(this,arguments)}function bo(S){return Ul.apply(this,arguments)}function Ul(){return(Ul=(0,P.Z)(function*(S){const I=Ur(S),L=(yield Vl()).transaction(Sr,"readwrite");yield L.objectStore(Sr).delete(I),yield L.done})).apply(this,arguments)}function Ur({appConfig:S}){return S.appId}const Hn=new ae.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Rt(S,I){return jl.apply(this,arguments)}function jl(){return(jl=(0,P.Z)(function*(S,I){const x=yield su(S),L=Me(I),K={method:"POST",headers:x,body:JSON.stringify(L)};let ie;try{ie=yield(yield fetch(ws(S.appConfig),K)).json()}catch(Ee){throw Hn.create("token-subscribe-failed",{errorInfo:Ee?.toString()})}if(ie.error)throw Hn.create("token-subscribe-failed",{errorInfo:ie.error.message});if(!ie.token)throw Hn.create("token-subscribe-no-token");return ie.token})).apply(this,arguments)}function Tf(S,I){return Gl.apply(this,arguments)}function Gl(){return(Gl=(0,P.Z)(function*(S,I){const x=yield su(S),L=Me(I.subscriptionOptions),K={method:"PATCH",headers:x,body:JSON.stringify(L)};let ie;try{ie=yield(yield fetch(`${ws(S.appConfig)}/${I.token}`,K)).json()}catch(Ee){throw Hn.create("token-update-failed",{errorInfo:Ee?.toString()})}if(ie.error)throw Hn.create("token-update-failed",{errorInfo:ie.error.message});if(!ie.token)throw Hn.create("token-update-no-token");return ie.token})).apply(this,arguments)}function zl(S,I){return ru.apply(this,arguments)}function ru(){return(ru=(0,P.Z)(function*(S,I){const L={method:"DELETE",headers:yield su(S)};try{const ie=yield(yield fetch(`${ws(S.appConfig)}/${I}`,L)).json();if(ie.error)throw Hn.create("token-unsubscribe-failed",{errorInfo:ie.error.message})}catch(K){throw Hn.create("token-unsubscribe-failed",{errorInfo:K?.toString()})}})).apply(this,arguments)}function ws({projectId:S}){return`https://fcmregistrations.googleapis.com/v1/projects/${S}/registrations`}function su(S){return Ua.apply(this,arguments)}function Ua(){return(Ua=(0,P.Z)(function*({appConfig:S,installations:I}){const x=yield I.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":S.apiKey,"x-goog-firebase-installations-auth":`FIS ${x}`})})).apply(this,arguments)}function Me({p256dh:S,auth:I,endpoint:x,vapidKey:L}){const K={web:{endpoint:x,auth:I,p256dh:S}};return L!==ys&&(K.web.applicationPubKey=L),K}const Kt=6048e5;function $l(S){return ql.apply(this,arguments)}function ql(){return(ql=(0,P.Z)(function*(S){const I=yield ou(S.swRegistration,S.vapidKey),x={vapidKey:S.vapidKey,swScope:S.swRegistration.scope,endpoint:I.endpoint,auth:Er(I.getKey("auth")),p256dh:Er(I.getKey("p256dh"))},L=yield ea(S.firebaseDependencies);if(L){if(Rd(L.subscriptionOptions,x))return Date.now()>=L.createTime+Kt?ta(S,{token:L.token,createTime:Date.now(),subscriptionOptions:x}):L.token;try{yield zl(S.firebaseDependencies,L.token)}catch(K){console.warn(K)}return Ha(S.firebaseDependencies,x)}return Ha(S.firebaseDependencies,x)})).apply(this,arguments)}function $n(S){return Zl.apply(this,arguments)}function Zl(){return(Zl=(0,P.Z)(function*(S){const I=yield ea(S.firebaseDependencies);I&&(yield zl(S.firebaseDependencies,I.token),yield bo(S.firebaseDependencies));const x=yield S.swRegistration.pushManager.getSubscription();return!x||x.unsubscribe()})).apply(this,arguments)}function ta(S,I){return Ir.apply(this,arguments)}function Ir(){return(Ir=(0,P.Z)(function*(S,I){try{const x=yield Tf(S.firebaseDependencies,I),L=Object.assign(Object.assign({},I),{token:x,createTime:Date.now()});return yield en(S.firebaseDependencies,L),x}catch(x){throw yield $n(S),x}})).apply(this,arguments)}function Ha(S,I){return ja.apply(this,arguments)}function ja(){return(ja=(0,P.Z)(function*(S,I){const L={token:yield Rt(S,I),createTime:Date.now(),subscriptionOptions:I};return yield en(S,L),L.token})).apply(this,arguments)}function ou(S,I){return au.apply(this,arguments)}function au(){return(au=(0,P.Z)(function*(S,I){return(yield S.pushManager.getSubscription())||S.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:or(I)})})).apply(this,arguments)}function Rd(S,I){return I.vapidKey===S.vapidKey&&I.endpoint===S.endpoint&&I.auth===S.auth&&I.p256dh===S.p256dh}function Ga(S){const I={from:S.from,collapseKey:S.collapse_key,messageId:S.fcmMessageId};return function qn(S,I){if(!I.notification)return;S.notification={};const x=I.notification.title;x&&(S.notification.title=x);const L=I.notification.body;L&&(S.notification.body=L);const K=I.notification.image;K&&(S.notification.image=K);const ie=I.notification.icon;ie&&(S.notification.icon=ie)}(I,S),function ss(S,I){!I.data||(S.data=I.data)}(I,S),function lu(S,I){var x,L,K,ie,Ee;if(!(I.fcmOptions||null!==(x=I.notification)&&void 0!==x&&x.click_action))return;S.fcmOptions={};const Le=null!==(K=null===(L=I.fcmOptions)||void 0===L?void 0:L.link)&&void 0!==K?K:null===(ie=I.notification)||void 0===ie?void 0:ie.click_action;Le&&(S.fcmOptions.link=Le);const Xe=null===(Ee=I.fcmOptions)||void 0===Ee?void 0:Ee.analytics_label;Xe&&(S.fcmOptions.analyticsLabel=Xe)}(I,S),I}function wo(S){return"object"==typeof S&&!!S&&Ba in S}function Cs(S,I){const x=[];for(let L=0;L<S.length;L++)x.push(S.charAt(L)),L<I.length&&x.push(I.charAt(L));return x.join("")}function za(S){return Hn.create("missing-app-config-values",{valueName:S})}Cs("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Cs("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class $m{constructor(I,x,L){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const K=function zm(S){if(!S||!S.options)throw za("App Configuration Object");if(!S.name)throw za("App Name");const I=["projectId","apiKey","appId","messagingSenderId"],{options:x}=S;for(const L of I)if(!x[L])throw za(L);return{appName:S.name,projectId:x.projectId,apiKey:x.apiKey,appId:x.appId,senderId:x.messagingSenderId}}(I);this.firebaseDependencies={app:I,appConfig:K,installations:x,analyticsProvider:L}}_delete(){return Promise.resolve()}}function cu(S){return Yl.apply(this,arguments)}function Yl(){return(Yl=(0,P.Z)(function*(S){try{S.swRegistration=yield navigator.serviceWorker.register(rs,{scope:_s}),S.swRegistration.update().catch(()=>{})}catch(I){throw Hn.create("failed-service-worker-registration",{browserErrorMessage:I?.message})}})).apply(this,arguments)}function $a(S,I){return uu.apply(this,arguments)}function uu(){return(uu=(0,P.Z)(function*(S,I){if(!I&&!S.swRegistration&&(yield cu(S)),I||!S.swRegistration){if(!(I instanceof ServiceWorkerRegistration))throw Hn.create("invalid-sw-registration");S.swRegistration=I}})).apply(this,arguments)}function qa(S,I){return du.apply(this,arguments)}function du(){return(du=(0,P.Z)(function*(S,I){I?S.vapidKey=I:S.vapidKey||(S.vapidKey=ys)})).apply(this,arguments)}function Kl(){return(Kl=(0,P.Z)(function*(S,I){if(!navigator)throw Hn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Hn.create("permission-blocked");return yield qa(S,I?.vapidKey),yield $a(S,I?.serviceWorkerRegistration),$l(S)})).apply(this,arguments)}function hu(S,I,x){return fu.apply(this,arguments)}function fu(){return(fu=(0,P.Z)(function*(S,I,x){const L=pu(I);(yield S.firebaseDependencies.analyticsProvider.get()).logEvent(L,{message_id:x[Ba],message_name:x[Nl],message_time:x[nu],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function pu(S){switch(S){case vs.NOTIFICATION_CLICKED:return"notification_open";case vs.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Co(){return(Co=(0,P.Z)(function*(S,I){const x=I.data;if(!x.isFirebaseMessaging)return;S.onMessageHandler&&x.messageType===vs.PUSH_RECEIVED&&("function"==typeof S.onMessageHandler?S.onMessageHandler(Ga(x)):S.onMessageHandler.next(Ga(x)));const L=x.data;wo(L)&&"1"===L[Ef]&&(yield hu(S,x.messageType,L))})).apply(this,arguments)}const Do="@firebase/messaging",fi=S=>{const I=new $m(S.getProvider("app").getImmediate(),S.getProvider("installations-internal").getImmediate(),S.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",x=>function Od(S,I){return Co.apply(this,arguments)}(I,x)),I},ar=S=>{const I=S.getProvider("messaging").getImmediate();return{getToken:L=>function Wl(S,I){return Kl.apply(this,arguments)}(I,L)}};function mu(){return gu.apply(this,arguments)}function gu(){return(gu=(0,P.Z)(function*(){try{yield(0,ae.eu)()}catch{return!1}return typeof window<"u"&&(0,ae.hl)()&&(0,ae.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function An(){(0,oe._registerComponent)(new he.wA("messaging",fi,"PUBLIC")),(0,oe._registerComponent)(new he.wA("messaging-internal",ar,"PRIVATE")),(0,oe.registerVersion)(Do,"0.12.0"),(0,oe.registerVersion)(Do,"0.12.0","esm2017")}();const ia="analytics",Ld="firebase_id",So="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",ec="https://www.googletagmanager.com/gtag/js",Zn=new te.Yd("@firebase/analytics");function tc(S){return Promise.all(S.map(I=>I.catch(x=>x)))}function nc(S,I){const x=document.createElement("script");x.src=`${ec}?l=${S}&id=${I}`,x.async=!0,document.head.appendChild(x)}function Af(S,I,x,L,K,ie){return Io.apply(this,arguments)}function Io(){return(Io=(0,P.Z)(function*(S,I,x,L,K,ie){const Ee=L[K];try{if(Ee)yield I[Ee];else{const Xe=(yield tc(x)).find(lt=>lt.measurementId===K);Xe&&(yield I[Xe.appId])}}catch(Le){Zn.error(Le)}S("config",K,ie)})).apply(this,arguments)}function ra(S,I,x,L,K){return Mo.apply(this,arguments)}function Mo(){return(Mo=(0,P.Z)(function*(S,I,x,L,K){try{let ie=[];if(K&&K.send_to){let Ee=K.send_to;Array.isArray(Ee)||(Ee=[Ee]);const Le=yield tc(x);for(const Xe of Ee){const lt=Le.find(St=>St.measurementId===Xe),Ut=lt&&I[lt.appId];if(!Ut){ie=[];break}ie.push(Ut)}}0===ie.length&&(ie=Object.values(I)),yield Promise.all(ie),S("event",L,K||{})}catch(ie){Zn.error(ie)}})).apply(this,arguments)}function Bd(S){const I=window.document.getElementsByTagName("script");for(const x of Object.values(I))if(x.src&&x.src.includes(ec)&&x.src.includes(S))return x;return null}const Di=new ae.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Ka=new class os{constructor(I={},x=1e3){this.throttleMetadata=I,this.intervalMillis=x}getThrottleMetadata(I){return this.throttleMetadata[I]}setThrottleMetadata(I,x){this.throttleMetadata[I]=x}deleteThrottleMetadata(I){delete this.throttleMetadata[I]}};function Hd(S){return new Headers({Accept:"application/json","x-goog-api-key":S})}function Qa(S){return yu.apply(this,arguments)}function yu(){return(yu=(0,P.Z)(function*(S){var I;const{appId:x,apiKey:L}=S,K={method:"GET",headers:Hd(L)},ie=So.replace("{app-id}",x),Ee=yield fetch(ie,K);if(200!==Ee.status&&304!==Ee.status){let Le="";try{const Xe=yield Ee.json();null!==(I=Xe.error)&&void 0!==I&&I.message&&(Le=Xe.error.message)}catch{}throw Di.create("config-fetch-failed",{httpStatus:Ee.status,responseMessage:Le})}return Ee.json()})).apply(this,arguments)}function Qn(S){return Hr.apply(this,arguments)}function Hr(){return(Hr=(0,P.Z)(function*(S,I=Ka,x){const{appId:L,apiKey:K,measurementId:ie}=S.options;if(!L)throw Di.create("no-app-id");if(!K){if(ie)return{measurementId:ie,appId:L};throw Di.create("no-api-key")}const Ee=I.getThrottleMetadata(L)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Le=new oc;return setTimeout((0,P.Z)(function*(){Le.abort()}),void 0!==x?x:6e4),rc({appId:L,apiKey:K,measurementId:ie},Ee,Le,I)})).apply(this,arguments)}function rc(S,I,x){return To.apply(this,arguments)}function To(){return(To=(0,P.Z)(function*(S,{throttleEndTimeMillis:I,backoffCount:x},L,K=Ka){var ie;const{appId:Ee,measurementId:Le}=S;try{yield Ja(L,I)}catch(Xe){if(Le)return Zn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Le} provided in the "measurementId" field in the local Firebase config. [${Xe?.message}]`),{appId:Ee,measurementId:Le};throw Xe}try{const Xe=yield Qa(S);return K.deleteThrottleMetadata(Ee),Xe}catch(Xe){const lt=Xe;if(!sc(lt)){if(K.deleteThrottleMetadata(Ee),Le)return Zn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Le} provided in the "measurementId" field in the local Firebase config. [${lt?.message}]`),{appId:Ee,measurementId:Le};throw Xe}const Ut=503===Number(null===(ie=lt?.customData)||void 0===ie?void 0:ie.httpStatus)?(0,ae.$s)(x,K.intervalMillis,30):(0,ae.$s)(x,K.intervalMillis),St={throttleEndTimeMillis:Date.now()+Ut,backoffCount:x+1};return K.setThrottleMetadata(Ee,St),Zn.debug(`Calling attemptFetch again in ${Ut} millis`),rc(S,St,L,K)}})).apply(this,arguments)}function Ja(S,I){return new Promise((x,L)=>{const K=Math.max(I-Date.now(),0),ie=setTimeout(x,K);S.addEventListener(()=>{clearTimeout(ie),L(Di.create("fetch-throttle",{throttleEndTimeMillis:I}))})})}function sc(S){if(!(S instanceof ae.ZR&&S.customData))return!1;const I=Number(S.customData.httpStatus);return 429===I||500===I||503===I||504===I}class oc{constructor(){this.listeners=[]}addEventListener(I){this.listeners.push(I)}abort(){this.listeners.forEach(I=>I())}}let Ks,el;function Qs(){return(Qs=(0,P.Z)(function*(S,I,x,L,K){if(K&&K.global)S("event",x,L);else{const ie=yield I;S("event",x,Object.assign(Object.assign({},L),{send_to:ie}))}})).apply(this,arguments)}function xo(S){el=S}function bu(S){Ks=S}function Es(){return cc.apply(this,arguments)}function cc(){return(cc=(0,P.Z)(function*(){if(!(0,ae.hl)())return Zn.warn(Di.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ae.eu)()}catch(S){return Zn.warn(Di.create("indexeddb-unavailable",{errorInfo:S?.toString()}).message),!1}return!0})).apply(this,arguments)}function aa(){return(aa=(0,P.Z)(function*(S,I,x,L,K,ie,Ee){var Le;const Xe=Qn(S);Xe.then(Wn=>{x[Wn.measurementId]=Wn.appId,S.options.measurementId&&Wn.measurementId!==S.options.measurementId&&Zn.warn(`The measurement ID in the local Firebase config (${S.options.measurementId}) does not match the measurement ID fetched from the server (${Wn.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Wn=>Zn.error(Wn)),I.push(Xe);const lt=Es().then(Wn=>{if(Wn)return L.getId()}),[Ut,St]=yield Promise.all([Xe,lt]);Bd(ie)||nc(ie,Ut.measurementId),el&&(K("consent","default",el),xo(void 0)),K("js",new Date);const ri=null!==(Le=Ee?.config)&&void 0!==Le?Le:{};return ri.origin="firebase",ri.update=!0,null!=St&&(ri[Ld]=St),K("config",Ut.measurementId,ri),Ks&&(K("set",Ks),bu(void 0)),Ut.measurementId})).apply(this,arguments)}class uc{constructor(I){this.app=I}_delete(){return delete lr[this.app.options.appId],Promise.resolve()}}let lr={},Js=[];const la={};let ua,ko,ca="dataLayer",tl=!1;function xy(S,I,x){!function qm(){const S=[];if((0,ae.ru)()&&S.push("This is a browser extension environment."),(0,ae.zI)()||S.push("Cookies are not available."),S.length>0){const I=S.map((L,K)=>`(${K+1}) ${L}`).join(" "),x=Di.create("invalid-analytics-context",{errorInfo:I});Zn.warn(x.message)}}();const L=S.options.appId;if(!L)throw Di.create("no-app-id");if(!S.options.apiKey){if(!S.options.measurementId)throw Di.create("no-api-key");Zn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${S.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=lr[L])throw Di.create("already-exists",{id:L});if(!tl){!function Vd(S){let I=[];Array.isArray(window[S])?I=window[S]:window[S]=I}(ca);const{wrappedGtag:ie,gtagCore:Ee}=function Za(S,I,x,L,K){let ie=function(...Ee){window[L].push(arguments)};return window[K]&&"function"==typeof window[K]&&(ie=window[K]),window[K]=function ic(S,I,x,L){function ie(){return(ie=(0,P.Z)(function*(Ee,Le,Xe){try{"event"===Ee?yield ra(S,I,x,Le,Xe):"config"===Ee?yield Af(S,I,x,L,Le,Xe):"consent"===Ee?S("consent","update",Xe):S("set",Le)}catch(lt){Zn.error(lt)}})).apply(this,arguments)}return function K(Ee,Le,Xe){return ie.apply(this,arguments)}}(ie,S,I,x),{gtagCore:ie,wrappedGtag:window[K]}}(lr,Js,la,ca,"gtag");ko=ie,ua=Ee,tl=!0}return lr[L]=function oa(S,I,x,L,K,ie,Ee){return aa.apply(this,arguments)}(S,Js,la,I,ua,ca,x),new uc(S)}function Ry(){return xf.apply(this,arguments)}function xf(){return(xf=(0,P.Z)(function*(){if((0,ae.ru)()||!(0,ae.zI)()||!(0,ae.hl)())return!1;try{return yield(0,ae.eu)()}catch{return!1}})).apply(this,arguments)}const qe="@firebase/analytics";!function yn(){(0,oe._registerComponent)(new he.wA(ia,(I,{options:x})=>xy(I.getProvider("app").getImmediate(),I.getProvider("installations-internal").getImmediate(),x),"PUBLIC")),(0,oe._registerComponent)(new he.wA("analytics-internal",function S(I){try{const x=I.getProvider(ia).getImmediate();return{logEvent:(L,K,ie)=>function _n(S,I,x,L){S=(0,ae.m9)(S),function jd(S,I,x,L,K){return Qs.apply(this,arguments)}(ko,lr[S.app.options.appId],I,x,L).catch(K=>Zn.error(K))}(x,L,K,ie)}}catch(x){throw Di.create("interop-component-reg-failed",{reason:x})}},"PRIVATE")),(0,oe.registerVersion)(qe,"0.9.0"),(0,oe.registerVersion)(qe,"0.9.0","esm2017")}();var Gr=F(4408),jn=F(7565);const hc=new class Xs extends jn.v{}(class nl extends Gr.o{constructor(I,x){super(I,x),this.scheduler=I,this.work=x}schedule(I,x=0){return x>0?super.schedule(I,x):(this.delay=x,this.state=I,this.scheduler.flush(this),this)}execute(I,x){return x>0||this.closed?super.execute(I,x):this._execute(I,x)}requestAsyncId(I,x,L=0){return null!=L&&L>0||null==L&&this.delay>0?super.requestAsyncId(I,x,L):(I.flush(this),0)}});var wu=F(4986),il=F(8505),ha=F(9468),eo=F(5363);const Ge=new s.GfV("7.5.0"),rl="__angularfire_symbol__analyticsIsSupportedValue",to="__angularfire_symbol__analyticsIsSupported",fa="__angularfire_symbol__remoteConfigIsSupportedValue",pa="__angularfire_symbol__remoteConfigIsSupported",Nn="__angularfire_symbol__messagingIsSupportedValue",Cu="__angularfire_symbol__messagingIsSupported";function sl(S,I,x){if(I){if(1===I.length)return I[0];const ie=I.filter(Ee=>Ee.app===x);if(1===ie.length)return ie[0]}return x.container.getProvider(S).getImmediate({optional:!0})}globalThis[to]||(globalThis[to]=Ry().then(S=>globalThis[rl]=S).catch(()=>globalThis[rl]=!1)),globalThis[Cu]||(globalThis[Cu]=mu().then(S=>globalThis[Nn]=S).catch(()=>globalThis[Nn]=!1)),globalThis[pa]||(globalThis[pa]=Fl().then(S=>globalThis[fa]=S).catch(()=>globalThis[fa]=!1));const ls=(S,I)=>{const x=I?[I]:(0,ee.C6)(),L=[];return x.forEach(K=>{K.container.getProvider(S).instances.forEach(Ee=>{L.includes(Ee)||L.push(Ee)})}),L};function zr(){}class cr{constructor(I,x=hc){this.zone=I,this.delegate=x}now(){return this.delegate.now()}schedule(I,x,L){const K=this.zone;return this.delegate.schedule(function(Ee){K.runGuarded(()=>{I.apply(this,[Ee])})},x,L)}}class Eu{constructor(I){this.zone=I,this.task=null}call(I,x){const L=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",zr,{},zr,zr)),x.pipe((0,il.b)({next:L,complete:L,error:L})).subscribe(I).add(L)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Bi=(()=>{class S{constructor(x){this.ngZone=x,this.outsideAngular=x.runOutsideAngular(()=>new cr(Zone.current)),this.insideAngular=x.run(()=>new cr(Zone.current,wu.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return S.\u0275fac=function(x){return new(x||S)(s.LFG(s.R0b))},S.\u0275prov=s.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"}),S})();function Wi(){const S=globalThis.\u0275AngularFireScheduler;if(!S)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return S}function Ss(S){return Wi(),function Ln(S){return function(x){return(x=x.lift(new Eu(S.ngZone))).pipe((0,ha.R)(S.outsideAngular),(0,eo.Q)(S.insideAngular))}}(Wi())(S)}},2090:(ct,Ie,F)=>{F.d(Ie,{$s:()=>nt,BH:()=>Yt,G6:()=>De,L:()=>fe,LL:()=>tn,Pz:()=>an,Sg:()=>Ke,UG:()=>Ce,US:()=>he,ZB:()=>j,ZR:()=>Rn,aH:()=>pt,b$:()=>me,eu:()=>He,hl:()=>Ue,jU:()=>rt,m9:()=>$t,ne:()=>Xn,pd:()=>ts,r3:()=>Lr,ru:()=>_e,tV:()=>pe,uI:()=>xe,vZ:()=>Je,w1:()=>at,xO:()=>ci,xb:()=>Cr,z$:()=>Ne,zI:()=>U,zd:()=>Dr});const oe=function(G){const V=[];let Y=0;for(let we=0;we<G.length;we++){let Q=G.charCodeAt(we);Q<128?V[Y++]=Q:Q<2048?(V[Y++]=Q>>6|192,V[Y++]=63&Q|128):55296==(64512&Q)&&we+1<G.length&&56320==(64512&G.charCodeAt(we+1))?(Q=65536+((1023&Q)<<10)+(1023&G.charCodeAt(++we)),V[Y++]=Q>>18|240,V[Y++]=Q>>12&63|128,V[Y++]=Q>>6&63|128,V[Y++]=63&Q|128):(V[Y++]=Q>>12|224,V[Y++]=Q>>6&63|128,V[Y++]=63&Q|128)}return V},he={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(G,V){if(!Array.isArray(G))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Y=V?this.byteToCharMapWebSafe_:this.byteToCharMap_,we=[];for(let Q=0;Q<G.length;Q+=3){const $e=G[Q],mt=Q+1<G.length,nn=mt?G[Q+1]:0,In=Q+2<G.length,Xt=In?G[Q+2]:0;let qt=(15&nn)<<2|Xt>>6,wi=63&Xt;In||(wi=64,mt||(qt=64)),we.push(Y[$e>>2],Y[(3&$e)<<4|nn>>4],Y[qt],Y[wi])}return we.join("")},encodeString(G,V){return this.HAS_NATIVE_SUPPORT&&!V?btoa(G):this.encodeByteArray(oe(G),V)},decodeString(G,V){return this.HAS_NATIVE_SUPPORT&&!V?atob(G):function(G){const V=[];let Y=0,we=0;for(;Y<G.length;){const Q=G[Y++];if(Q<128)V[we++]=String.fromCharCode(Q);else if(Q>191&&Q<224){const $e=G[Y++];V[we++]=String.fromCharCode((31&Q)<<6|63&$e)}else if(Q>239&&Q<365){const In=((7&Q)<<18|(63&G[Y++])<<12|(63&G[Y++])<<6|63&G[Y++])-65536;V[we++]=String.fromCharCode(55296+(In>>10)),V[we++]=String.fromCharCode(56320+(1023&In))}else{const $e=G[Y++],mt=G[Y++];V[we++]=String.fromCharCode((15&Q)<<12|(63&$e)<<6|63&mt)}}return V.join("")}(this.decodeStringToByteArray(G,V))},decodeStringToByteArray(G,V){this.init_();const Y=V?this.charToByteMapWebSafe_:this.charToByteMap_,we=[];for(let Q=0;Q<G.length;){const $e=Y[G.charAt(Q++)],nn=Q<G.length?Y[G.charAt(Q)]:0;++Q;const Xt=Q<G.length?Y[G.charAt(Q)]:64;++Q;const je=Q<G.length?Y[G.charAt(Q)]:64;if(++Q,null==$e||null==nn||null==Xt||null==je)throw Error();we.push($e<<2|nn>>4),64!==Xt&&(we.push(nn<<4&240|Xt>>2),64!==je&&we.push(Xt<<6&192|je))}return we},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let G=0;G<this.ENCODED_VALS.length;G++)this.byteToCharMap_[G]=this.ENCODED_VALS.charAt(G),this.charToByteMap_[this.byteToCharMap_[G]]=G,this.byteToCharMapWebSafe_[G]=this.ENCODED_VALS_WEBSAFE.charAt(G),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[G]]=G,G>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(G)]=G,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(G)]=G)}}},fe=function(G){return function(G){const V=oe(G);return he.encodeByteArray(V,!0)}(G).replace(/\./g,"")},pe=function(G){try{return he.decodeString(G,!0)}catch(V){console.error("base64Decode failed: ",V)}return null};function j(G,V){if(!(V instanceof Object))return V;switch(V.constructor){case Date:return new Date(V.getTime());case Object:void 0===G&&(G={});break;case Array:G=[];break;default:return V}for(const Y in V)!V.hasOwnProperty(Y)||!W(Y)||(G[Y]=j(G[Y],V[Y]));return G}function W(G){return"__proto__"!==G}function Ne(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function xe(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ne())}function Ce(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function rt(){return"object"==typeof self&&self.self===self}function _e(){const G="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof G&&void 0!==G.id}function me(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function at(){const G=Ne();return G.indexOf("MSIE ")>=0||G.indexOf("Trident/")>=0}function De(){return!Ce()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ue(){try{return"object"==typeof indexedDB}catch{return!1}}function He(){return new Promise((G,V)=>{try{let Y=!0;const we="validate-browser-context-for-indexeddb-analytics-module",Q=self.indexedDB.open(we);Q.onsuccess=()=>{Q.result.close(),Y||self.indexedDB.deleteDatabase(we),G(!0)},Q.onupgradeneeded=()=>{Y=!1},Q.onerror=()=>{var $e;V((null===($e=Q.error)||void 0===$e?void 0:$e.message)||"")}}catch(Y){V(Y)}})}function U(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const re=()=>{try{return function ge(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const G=process.env.__FIREBASE_DEFAULTS__;return G?JSON.parse(G):void 0})()||(()=>{if(typeof document>"u")return;let G;try{G=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const V=G&&pe(G[1]);return V&&JSON.parse(V)})()}catch(G){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${G}`)}},pt=()=>{var G;return null===(G=re())||void 0===G?void 0:G.config},an=G=>{var V;return null===(V=re())||void 0===V?void 0:V[`_${G}`]};class Yt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((V,Y)=>{this.resolve=V,this.reject=Y})}wrapCallback(V){return(Y,we)=>{Y?this.reject(Y):this.resolve(we),"function"==typeof V&&(this.promise.catch(()=>{}),1===V.length?V(Y):V(Y,we))}}}function Ke(G,V){if(G.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const we=V||"demo-project",Q=G.iat||0,$e=G.sub||G.user_id;if(!$e)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const mt=Object.assign({iss:`https://securetoken.google.com/${we}`,aud:we,iat:Q,exp:Q+3600,auth_time:Q,sub:$e,user_id:$e,firebase:{sign_in_provider:"custom",identities:{}}},G);return[fe(JSON.stringify({alg:"none",type:"JWT"})),fe(JSON.stringify(mt)),""].join(".")}class Rn extends Error{constructor(V,Y,we){super(Y),this.code=V,this.customData=we,this.name="FirebaseError",Object.setPrototypeOf(this,Rn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,tn.prototype.create)}}class tn{constructor(V,Y,we){this.service=V,this.serviceName=Y,this.errors=we}create(V,...Y){const we=Y[0]||{},Q=`${this.service}/${V}`,$e=this.errors[V],mt=$e?function ln(G,V){return G.replace($i,(Y,we)=>{const Q=V[we];return null!=Q?String(Q):`<${we}?>`})}($e,we):"Error";return new Rn(Q,`${this.serviceName}: ${mt} (${Q}).`,we)}}const $i=/\{\$([^}]+)}/g;function Lr(G,V){return Object.prototype.hasOwnProperty.call(G,V)}function Cr(G){for(const V in G)if(Object.prototype.hasOwnProperty.call(G,V))return!1;return!0}function Je(G,V){if(G===V)return!0;const Y=Object.keys(G),we=Object.keys(V);for(const Q of Y){if(!we.includes(Q))return!1;const $e=G[Q],mt=V[Q];if(Fi($e)&&Fi(mt)){if(!Je($e,mt))return!1}else if($e!==mt)return!1}for(const Q of we)if(!Y.includes(Q))return!1;return!0}function Fi(G){return null!==G&&"object"==typeof G}function ci(G){const V=[];for(const[Y,we]of Object.entries(G))Array.isArray(we)?we.forEach(Q=>{V.push(encodeURIComponent(Y)+"="+encodeURIComponent(Q))}):V.push(encodeURIComponent(Y)+"="+encodeURIComponent(we));return V.length?"&"+V.join("&"):""}function Dr(G){const V={};return G.replace(/^\?/,"").split("&").forEach(we=>{if(we){const[Q,$e]=we.split("=");V[decodeURIComponent(Q)]=decodeURIComponent($e)}}),V}function ts(G){const V=G.indexOf("?");if(!V)return"";const Y=G.indexOf("#",V);return G.substring(V,Y>0?Y:void 0)}function Xn(G,V){const Y=new Tn(G,V);return Y.subscribe.bind(Y)}class Tn{constructor(V,Y){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Y,this.task.then(()=>{V(this)}).catch(we=>{this.error(we)})}next(V){this.forEachObserver(Y=>{Y.next(V)})}error(V){this.forEachObserver(Y=>{Y.error(V)}),this.close(V)}complete(){this.forEachObserver(V=>{V.complete()}),this.close()}subscribe(V,Y,we){let Q;if(void 0===V&&void 0===Y&&void 0===we)throw new Error("Missing Observer.");Q=function ut(G,V){if("object"!=typeof G||null===G)return!1;for(const Y of V)if(Y in G&&"function"==typeof G[Y])return!0;return!1}(V,["next","error","complete"])?V:{next:V,error:Y,complete:we},void 0===Q.next&&(Q.next=fn),void 0===Q.error&&(Q.error=fn),void 0===Q.complete&&(Q.complete=fn);const $e=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?Q.error(this.finalError):Q.complete()}catch{}}),this.observers.push(Q),$e}unsubscribeOne(V){void 0===this.observers||void 0===this.observers[V]||(delete this.observers[V],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(V){if(!this.finalized)for(let Y=0;Y<this.observers.length;Y++)this.sendOne(Y,V)}sendOne(V,Y){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[V])try{Y(this.observers[V])}catch(we){typeof console<"u"&&console.error&&console.error(we)}})}close(V){this.finalized||(this.finalized=!0,void 0!==V&&(this.finalError=V),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function fn(){}function nt(G,V=1e3,Y=2){const we=V*Math.pow(Y,G),Q=Math.round(.5*we*(Math.random()-.5)*2);return Math.min(144e5,we+Q)}function $t(G){return G&&G._delegate?G._delegate:G}},3520:(ct,Ie,F)=>{var s=F(4650);let ee=null;function P(){return ee}const te=new s.OlP("DocumentToken");let fe=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:function(){return function pe(){return(0,s.LFG)(j)}()},providedIn:"platform"}),n})();const H=new s.OlP("Location Initialized");let j=(()=>{class n extends fe{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return P().getBaseHref(this._doc)}onPopState(e){const i=P().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=P().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,i,r){W()?this._history.pushState(e,i,r):this.location.hash=r}replaceState(e,i,r){W()?this._history.replaceState(e,i,r):this.location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(te))},n.\u0275prov=s.Yz7({token:n,factory:function(){return function Ne(){return new j((0,s.LFG)(te))}()},providedIn:"platform"}),n})();function W(){return!!window.history.pushState}function xe(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function Ce(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function rt(n){return n&&"?"!==n[0]?"?"+n:n}let _e=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:function(){return(0,s.f3M)(tt)},providedIn:"root"}),n})();const me=new s.OlP("appBaseHref");let tt=(()=>{class n extends _e{constructor(e,i){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??(0,s.f3M)(te).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return xe(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+rt(this._platformLocation.search),r=this._platformLocation.hash;return r&&e?`${i}${r}`:i}pushState(e,i,r,o){const u=this.prepareExternalUrl(r+rt(o));this._platformLocation.pushState(e,i,u)}replaceState(e,i,r,o){const u=this.prepareExternalUrl(r+rt(o));this._platformLocation.replaceState(e,i,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(fe),s.LFG(me,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),at=(()=>{class n extends _e{constructor(e,i){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(e){const i=xe(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,r,o){let u=this.prepareExternalUrl(r+rt(o));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.pushState(e,i,u)}replaceState(e,i,r,o){let u=this.prepareExternalUrl(r+rt(o));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.replaceState(e,i,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(fe),s.LFG(me,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),Te=(()=>{class n{constructor(e){this._subject=new s.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const i=this._locationStrategy.getBaseHref();this._baseHref=Ce(Ue(i)),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+rt(i))}normalize(e){return n.stripTrailingSlash(function De(n,t){return n&&t.startsWith(n)?t.substring(n.length):t}(this._baseHref,Ue(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,i="",r=null){this._locationStrategy.pushState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+rt(i)),r)}replaceState(e,i="",r=null){this._locationStrategy.replaceState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+rt(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(r=>r(e,i))}subscribe(e,i,r){return this._subject.subscribe({next:e,error:i,complete:r})}}return n.normalizeQueryParams=rt,n.joinWithSlash=xe,n.stripTrailingSlash=Ce,n.\u0275fac=function(e){return new(e||n)(s.LFG(_e))},n.\u0275prov=s.Yz7({token:n,factory:function(){return function be(){return new Te((0,s.LFG)(_e))}()},providedIn:"root"}),n})();function Ue(n){return n.replace(/\/index.html$/,"")}var Z=(()=>((Z=Z||{})[Z.Format=0]="Format",Z[Z.Standalone=1]="Standalone",Z))(),J=(()=>((J=J||{})[J.Narrow=0]="Narrow",J[J.Abbreviated=1]="Abbreviated",J[J.Wide=2]="Wide",J[J.Short=3]="Short",J))(),se=(()=>((se=se||{})[se.Short=0]="Short",se[se.Medium=1]="Medium",se[se.Long=2]="Long",se[se.Full=3]="Full",se))(),re=(()=>((re=re||{})[re.Decimal=0]="Decimal",re[re.Group=1]="Group",re[re.List=2]="List",re[re.PercentSign=3]="PercentSign",re[re.PlusSign=4]="PlusSign",re[re.MinusSign=5]="MinusSign",re[re.Exponential=6]="Exponential",re[re.SuperscriptingExponent=7]="SuperscriptingExponent",re[re.PerMille=8]="PerMille",re[re.Infinity=9]="Infinity",re[re.NaN=10]="NaN",re[re.TimeSeparator=11]="TimeSeparator",re[re.CurrencyDecimal=12]="CurrencyDecimal",re[re.CurrencyGroup=13]="CurrencyGroup",re))();function tn(n,t){return Je((0,s.cg1)(n)[s.wAp.DateFormat],t)}function ln(n,t){return Je((0,s.cg1)(n)[s.wAp.TimeFormat],t)}function $i(n,t){return Je((0,s.cg1)(n)[s.wAp.DateTimeFormat],t)}function Ht(n,t){const e=(0,s.cg1)(n),i=e[s.wAp.NumberSymbols][t];if(typeof i>"u"){if(t===re.CurrencyDecimal)return e[s.wAp.NumberSymbols][re.Decimal];if(t===re.CurrencyGroup)return e[s.wAp.NumberSymbols][re.Group]}return i}function Lr(n){if(!n[s.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[s.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Je(n,t){for(let e=t;e>-1;e--)if(typeof n[e]<"u")return n[e];throw new Error("Locale data API: locale data undefined")}function Fi(n){const[t,e]=n.split(":");return{hours:+t,minutes:+e}}const ts=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Kn={},Xn=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Tn=(()=>((Tn=Tn||{})[Tn.Short=0]="Short",Tn[Tn.ShortGMT=1]="ShortGMT",Tn[Tn.Long=2]="Long",Tn[Tn.Extended=3]="Extended",Tn))(),wt=(()=>((wt=wt||{})[wt.FullYear=0]="FullYear",wt[wt.Month=1]="Month",wt[wt.Date=2]="Date",wt[wt.Hours=3]="Hours",wt[wt.Minutes=4]="Minutes",wt[wt.Seconds=5]="Seconds",wt[wt.FractionalSeconds=6]="FractionalSeconds",wt[wt.Day=7]="Day",wt))(),ut=(()=>((ut=ut||{})[ut.DayPeriods=0]="DayPeriods",ut[ut.Days=1]="Days",ut[ut.Months=2]="Months",ut[ut.Eras=3]="Eras",ut))();function fn(n,t,e,i){let r=function $e(n){if(nn(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[r,o=1,u=1]=n.split("-").map(h=>+h);return Ii(r,o-1,u)}const e=parseFloat(n);if(!isNaN(n-e))return new Date(e);let i;if(i=n.match(ts))return function mt(n){const t=new Date(0);let e=0,i=0;const r=n[8]?t.setUTCFullYear:t.setFullYear,o=n[8]?t.setUTCHours:t.setHours;n[9]&&(e=Number(n[9]+n[10]),i=Number(n[9]+n[11])),r.call(t,Number(n[1]),Number(n[2])-1,Number(n[3]));const u=Number(n[4]||0)-e,h=Number(n[5]||0)-i,_=Number(n[6]||0),b=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return o.call(t,u,h,_,b),t}(i)}const t=new Date(n);if(!nn(t))throw new Error(`Unable to convert "${n}" into a date`);return t}(n);t=ei(e,t)||t;let h,u=[];for(;t;){if(h=Xn.exec(t),!h){u.push(t);break}{u=u.concat(h.slice(1));const D=u.pop();if(!D)break;t=D}}let _=r.getTimezoneOffset();i&&(_=Y(i,_),r=function Q(n,t,e){const i=e?-1:1,r=n.getTimezoneOffset();return function we(n,t){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+t),n}(n,i*(Y(t,r)-r))}(r,i,!0));let b="";return u.forEach(D=>{const M=function V(n){if(G[n])return G[n];let t;switch(n){case"G":case"GG":case"GGG":t=un(ut.Eras,J.Abbreviated);break;case"GGGG":t=un(ut.Eras,J.Wide);break;case"GGGGG":t=un(ut.Eras,J.Narrow);break;case"y":t=cn(wt.FullYear,1,0,!1,!0);break;case"yy":t=cn(wt.FullYear,2,0,!0,!0);break;case"yyy":t=cn(wt.FullYear,3,0,!1,!0);break;case"yyyy":t=cn(wt.FullYear,4,0,!1,!0);break;case"Y":t=$t(1);break;case"YY":t=$t(2,!0);break;case"YYY":t=$t(3);break;case"YYYY":t=$t(4);break;case"M":case"L":t=cn(wt.Month,1,1);break;case"MM":case"LL":t=cn(wt.Month,2,1);break;case"MMM":t=un(ut.Months,J.Abbreviated);break;case"MMMM":t=un(ut.Months,J.Wide);break;case"MMMMM":t=un(ut.Months,J.Narrow);break;case"LLL":t=un(ut.Months,J.Abbreviated,Z.Standalone);break;case"LLLL":t=un(ut.Months,J.Wide,Z.Standalone);break;case"LLLLL":t=un(ut.Months,J.Narrow,Z.Standalone);break;case"w":t=Ft(1);break;case"ww":t=Ft(2);break;case"W":t=Ft(1,!0);break;case"d":t=cn(wt.Date,1);break;case"dd":t=cn(wt.Date,2);break;case"c":case"cc":t=cn(wt.Day,1);break;case"ccc":t=un(ut.Days,J.Abbreviated,Z.Standalone);break;case"cccc":t=un(ut.Days,J.Wide,Z.Standalone);break;case"ccccc":t=un(ut.Days,J.Narrow,Z.Standalone);break;case"cccccc":t=un(ut.Days,J.Short,Z.Standalone);break;case"E":case"EE":case"EEE":t=un(ut.Days,J.Abbreviated);break;case"EEEE":t=un(ut.Days,J.Wide);break;case"EEEEE":t=un(ut.Days,J.Narrow);break;case"EEEEEE":t=un(ut.Days,J.Short);break;case"a":case"aa":case"aaa":t=un(ut.DayPeriods,J.Abbreviated);break;case"aaaa":t=un(ut.DayPeriods,J.Wide);break;case"aaaaa":t=un(ut.DayPeriods,J.Narrow);break;case"b":case"bb":case"bbb":t=un(ut.DayPeriods,J.Abbreviated,Z.Standalone,!0);break;case"bbbb":t=un(ut.DayPeriods,J.Wide,Z.Standalone,!0);break;case"bbbbb":t=un(ut.DayPeriods,J.Narrow,Z.Standalone,!0);break;case"B":case"BB":case"BBB":t=un(ut.DayPeriods,J.Abbreviated,Z.Format,!0);break;case"BBBB":t=un(ut.DayPeriods,J.Wide,Z.Format,!0);break;case"BBBBB":t=un(ut.DayPeriods,J.Narrow,Z.Format,!0);break;case"h":t=cn(wt.Hours,1,-12);break;case"hh":t=cn(wt.Hours,2,-12);break;case"H":t=cn(wt.Hours,1);break;case"HH":t=cn(wt.Hours,2);break;case"m":t=cn(wt.Minutes,1);break;case"mm":t=cn(wt.Minutes,2);break;case"s":t=cn(wt.Seconds,1);break;case"ss":t=cn(wt.Seconds,2);break;case"S":t=cn(wt.FractionalSeconds,1);break;case"SS":t=cn(wt.FractionalSeconds,2);break;case"SSS":t=cn(wt.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":t=Zi(Tn.Short);break;case"ZZZZZ":t=Zi(Tn.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=Zi(Tn.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":t=Zi(Tn.Long);break;default:return null}return G[n]=t,t}(D);b+=M?M(r,e,_):"''"===D?"'":D.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),b}function Ii(n,t,e){const i=new Date(0);return i.setFullYear(n,t,e),i.setHours(0,0,0),i}function ei(n,t){const e=function Re(n){return(0,s.cg1)(n)[s.wAp.LocaleId]}(n);if(Kn[e]=Kn[e]||{},Kn[e][t])return Kn[e][t];let i="";switch(t){case"shortDate":i=tn(n,se.Short);break;case"mediumDate":i=tn(n,se.Medium);break;case"longDate":i=tn(n,se.Long);break;case"fullDate":i=tn(n,se.Full);break;case"shortTime":i=ln(n,se.Short);break;case"mediumTime":i=ln(n,se.Medium);break;case"longTime":i=ln(n,se.Long);break;case"fullTime":i=ln(n,se.Full);break;case"short":const r=ei(n,"shortTime"),o=ei(n,"shortDate");i=rr($i(n,se.Short),[r,o]);break;case"medium":const u=ei(n,"mediumTime"),h=ei(n,"mediumDate");i=rr($i(n,se.Medium),[u,h]);break;case"long":const _=ei(n,"longTime"),b=ei(n,"longDate");i=rr($i(n,se.Long),[_,b]);break;case"full":const D=ei(n,"fullTime"),M=ei(n,"fullDate");i=rr($i(n,se.Full),[D,M])}return i&&(Kn[e][t]=i),i}function rr(n,t){return t&&(n=n.replace(/\{([^}]+)}/g,function(e,i){return null!=t&&i in t?t[i]:e})),n}function Pt(n,t,e="-",i,r){let o="";(n<0||r&&n<=0)&&(r?n=1-n:(n=-n,o=e));let u=String(n);for(;u.length<t;)u="0"+u;return i&&(u=u.slice(u.length-t)),o+u}function cn(n,t,e=0,i=!1,r=!1){return function(o,u){let h=function ns(n,t){switch(n){case wt.FullYear:return t.getFullYear();case wt.Month:return t.getMonth();case wt.Date:return t.getDate();case wt.Hours:return t.getHours();case wt.Minutes:return t.getMinutes();case wt.Seconds:return t.getSeconds();case wt.FractionalSeconds:return t.getMilliseconds();case wt.Day:return t.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,o);if((e>0||h>-e)&&(h+=e),n===wt.Hours)0===h&&-12===e&&(h=12);else if(n===wt.FractionalSeconds)return function Us(n,t){return Pt(n,3).substring(0,t)}(h,t);const _=Ht(u,re.MinusSign);return Pt(h,t,_,i,r)}}function un(n,t,e=Z.Format,i=!1){return function(r,o){return function ui(n,t,e,i,r,o){switch(e){case ut.Months:return function Yt(n,t,e){const i=(0,s.cg1)(n),o=Je([i[s.wAp.MonthsFormat],i[s.wAp.MonthsStandalone]],t);return Je(o,e)}(t,r,i)[n.getMonth()];case ut.Days:return function an(n,t,e){const i=(0,s.cg1)(n),o=Je([i[s.wAp.DaysFormat],i[s.wAp.DaysStandalone]],t);return Je(o,e)}(t,r,i)[n.getDay()];case ut.DayPeriods:const u=n.getHours(),h=n.getMinutes();if(o){const b=function wr(n){const t=(0,s.cg1)(n);return Lr(t),(t[s.wAp.ExtraData][2]||[]).map(i=>"string"==typeof i?Fi(i):[Fi(i[0]),Fi(i[1])])}(t),D=function Cr(n,t,e){const i=(0,s.cg1)(n);Lr(i);const o=Je([i[s.wAp.ExtraData][0],i[s.wAp.ExtraData][1]],t)||[];return Je(o,e)||[]}(t,r,i),M=b.findIndex(O=>{if(Array.isArray(O)){const[B,$]=O,ne=u>=B.hours&&h>=B.minutes,ce=u<$.hours||u===$.hours&&h<$.minutes;if(B.hours<$.hours){if(ne&&ce)return!0}else if(ne||ce)return!0}else if(O.hours===u&&O.minutes===h)return!0;return!1});if(-1!==M)return D[M]}return function pt(n,t,e){const i=(0,s.cg1)(n),o=Je([i[s.wAp.DayPeriodsFormat],i[s.wAp.DayPeriodsStandalone]],t);return Je(o,e)}(t,r,i)[u<12?0:1];case ut.Eras:return function Ke(n,t){return Je((0,s.cg1)(n)[s.wAp.Eras],t)}(t,i)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${e}`)}}(r,o,n,t,e,i)}}function Zi(n){return function(t,e,i){const r=-1*i,o=Ht(e,re.MinusSign),u=r>0?Math.floor(r/60):Math.ceil(r/60);switch(n){case Tn.Short:return(r>=0?"+":"")+Pt(u,2,o)+Pt(Math.abs(r%60),2,o);case Tn.ShortGMT:return"GMT"+(r>=0?"+":"")+Pt(u,1,o);case Tn.Long:return"GMT"+(r>=0?"+":"")+Pt(u,2,o)+":"+Pt(Math.abs(r%60),2,o);case Tn.Extended:return 0===i?"Z":(r>=0?"+":"")+Pt(u,2,o)+":"+Pt(Math.abs(r%60),2,o);default:throw new Error(`Unknown zone width "${n}"`)}}}function kt(n){return Ii(n.getFullYear(),n.getMonth(),n.getDate()+(4-n.getDay()))}function Ft(n,t=!1){return function(e,i){let r;if(t){const o=new Date(e.getFullYear(),e.getMonth(),1).getDay()-1,u=e.getDate();r=1+Math.floor((u+o)/7)}else{const o=kt(e),u=function nt(n){const t=Ii(n,0,1).getDay();return Ii(n,0,1+(t<=4?4:11)-t)}(o.getFullYear()),h=o.getTime()-u.getTime();r=1+Math.round(h/6048e5)}return Pt(r,n,Ht(i,re.MinusSign))}}function $t(n,t=!1){return function(e,i){return Pt(kt(e).getFullYear(),n,Ht(i,re.MinusSign),t)}}const G={};function Y(n,t){n=n.replace(/:/g,"");const e=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(e)?t:e}function nn(n){return n instanceof Date&&!isNaN(n.valueOf())}let rn=(()=>{class n{constructor(e,i,r,o){this._iterableDiffers=e,this._keyValueDiffers=i,this._ngEl=r,this._renderer=o,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&((0,s.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachChangedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachRemovedItem(i=>{i.previousValue&&this._toggleClass(i.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(i=>{if("string"!=typeof i.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,s.AaK)(i.item)}`);this._toggleClass(i.item,!0)}),e.forEachRemovedItem(i=>this._toggleClass(i.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!0)):Object.keys(e).forEach(i=>this._toggleClass(i,!!e[i])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!1)):Object.keys(e).forEach(i=>this._toggleClass(i,!1)))}_toggleClass(e,i){(e=e.trim())&&e.split(/\s+/g).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.ZZ4),s.Y36(s.aQg),s.Y36(s.SBq),s.Y36(s.Qsj))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class Va{constructor(t,e,i,r){this.$implicit=t,this.ngForOf=e,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Vr=(()=>{class n{constructor(e,i,r){this._viewContainer=e,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const i=this._viewContainer;e.forEachOperation((r,o,u)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new Va(r.item,this._ngForOf,-1,-1),null===u?void 0:u);else if(null==u)i.remove(null===o?void 0:o);else if(null!==o){const h=i.get(o);i.move(h,u),zs(h,r)}});for(let r=0,o=i.length;r<o;r++){const h=i.get(r).context;h.index=r,h.count=o,h.ngForOf=this._ngForOf}e.forEachIdentityChange(r=>{zs(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b),s.Y36(s.Rgc),s.Y36(s.ZZ4))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function zs(n,t){n.context.$implicit=t.item}let sn=(()=>{class n{constructor(e,i){this._viewContainer=e,this._context=new Jc,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){Ci("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){Ci("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b),s.Y36(s.Rgc))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class Jc{constructor(){this.$implicit=null,this.ngIf=null}}function Ci(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,s.AaK)(t)}'.`)}class Yi{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let yo=(()=>{class n{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(e)}_matchCase(e){const i=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(e){if(this._defaultViews&&e!==this._defaultUsed){this._defaultUsed=e;for(let i=0;i<this._defaultViews.length;i++)this._defaultViews[i].enforceState(e)}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),n})(),$s=(()=>{class n{constructor(e,i,r){this.ngSwitch=r,r._addCase(),this._view=new Yi(e,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b),s.Y36(s.Rgc),s.Y36(yo,9))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),n})(),Ol=(()=>{class n{constructor(e,i,r){r._addDefault(new Yi(e,i))}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b),s.Y36(s.Rgc),s.Y36(yo,9))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngSwitchDefault",""]],standalone:!0}),n})();function hi(n,t){return new s.vHH(2100,!1)}class Md{createSubscription(t,e){return t.subscribe({next:e,error:i=>{throw i}})}dispose(t){t.unsubscribe()}}class Um{createSubscription(t,e){return t.then(e,i=>{throw i})}dispose(t){}}const gs=new Um,Hm=new Md;let Pl=(()=>{class n{constructor(e){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=e}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue:(e&&this._subscribe(e),this._latestValue)}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,i=>this._updateLatestValue(e,i))}_selectStrategy(e){if((0,s.QGY)(e))return gs;if((0,s.F4k)(e))return Hm;throw hi()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,i){e===this._obj&&(this._latestValue=i,this._ref.markForCheck())}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.sBO,16))},n.\u0275pipe=s.Yjl({name:"async",type:n,pure:!1,standalone:!0}),n})();const Gm=new s.OlP("DATE_PIPE_DEFAULT_TIMEZONE");let Cf=(()=>{class n{constructor(e,i){this.locale=e,this.defaultTimezone=i}transform(e,i="mediumDate",r,o){if(null==e||""===e||e!=e)return null;try{return fn(e,i,o||this.locale,r??this.defaultTimezone??void 0)}catch(u){throw hi()}}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.soG,16),s.Y36(Gm,24))},n.\u0275pipe=s.Yjl({name:"date",type:n,pure:!0,standalone:!0}),n})(),Li=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();const vs="browser";function Ti(n){return"server"===n}let Ll=(()=>{class n{}return n.\u0275prov=(0,s.Yz7)({token:n,providedIn:"root",factory:()=>new Mf((0,s.LFG)(te),window)}),n})();class Mf{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function Vi(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const o=r.shadowRoot;if(o){const u=o.getElementById(t)||o.querySelector(`[name="${t}"]`);if(u)return u}r=i.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),i=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(i-o[0],r-o[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=Sr(this.window.history)||Sr(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Sr(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Co extends class Od extends class he{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function ae(n){ee||(ee=n)}(new Co)}onAndCancel(t,e,i){return t.addEventListener(e,i,!1),()=>{t.removeEventListener(e,i,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function Ql(){return Do=Do||document.querySelector("base"),Do?Do.getAttribute("href"):null}();return null==e?null:function ar(n){fi=fi||document.createElement("a"),fi.setAttribute("href",n);const t=fi.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){Do=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function Rl(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const i=e.indexOf("="),[r,o]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(r.trim()===t)return decodeURIComponent(o)}return null}(document.cookie,t)}}let fi,Do=null;const An=new s.OlP("TRANSITION_ID"),gu=[{provide:s.ip1,useFactory:function mu(n,t,e){return()=>{e.get(s.CZH).donePromise.then(()=>{const i=P(),r=t.querySelectorAll(`style[ng-transition="${n}"]`);for(let o=0;o<r.length;o++)i.remove(r[o])})}},deps:[An,te,s.zs3],multi:!0}];let _u=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const Jl=new s.OlP("EventManagerPlugins");let Fd=(()=>{class n{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(r=>r.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,i,r){return this._findPluginFor(i).addEventListener(e,i,r)}addGlobalEventListener(e,i,r){return this._findPluginFor(i).addGlobalEventListener(e,i,r)}getZone(){return this._zone}_findPluginFor(e){const i=this._eventNameToPlugin.get(e);if(i)return i;const r=this._plugins;for(let o=0;o<r.length;o++){const u=r[o];if(u.supports(e))return this._eventNameToPlugin.set(e,u),u}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Jl),s.LFG(s.R0b))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class Xl{constructor(t){this._doc=t}addGlobalEventListener(t,e,i){const r=P().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,i)}}let Eo=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(e){const i=new Set;e.forEach(r=>{this._stylesSet.has(r)||(this._stylesSet.add(r),i.add(r))}),this.onStylesAdded(i)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),na=(()=>{class n extends Eo{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,i,r){e.forEach(o=>{const u=this._doc.createElement("style");u.textContent=o,r.push(i.appendChild(u))})}addHost(e){const i=[];this._addStylesToHost(this._stylesSet,e,i),this._hostNodes.set(e,i)}removeHost(e){const i=this._hostNodes.get(e);i&&i.forEach(Nd),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((i,r)=>{this._addStylesToHost(e,r,i)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(Nd))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(te))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();function Nd(n){P().remove(n)}const ia={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Ld=/%COMP%/g;function nc(n,t,e){for(let i=0;i<t.length;i++){let r=t[i];Array.isArray(r)?nc(n,r,e):(r=r.replace(Ld,n),e.push(r))}return e}function Vd(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let Io=(()=>{class n{constructor(e,i,r){this.eventManager=e,this.sharedStylesHost=i,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new ra(e)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;switch(i.encapsulation){case s.ifc.Emulated:{let r=this.rendererByCompId.get(i.id);return r||(r=new Bd(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,r)),r.applyToHost(e),r}case 1:case s.ifc.ShadowDom:return new Ud(this.eventManager,this.sharedStylesHost,e,i);default:if(!this.rendererByCompId.has(i.id)){const r=nc(i.id,i.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Fd),s.LFG(na),s.LFG(s.AFp))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class ra{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?document.createElementNS(ia[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){(Za(t)?t.content:t).appendChild(e)}insertBefore(t,e,i){t&&(Za(t)?t.content:t).insertBefore(e,i)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let i="string"==typeof t?document.querySelector(t):t;if(!i)throw new Error(`The selector "${t}" did not match any elements`);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,r){if(r){e=r+":"+e;const o=ia[r];o?t.setAttributeNS(o,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){const r=ia[i];r?t.removeAttributeNS(r,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,r){r&(s.JOm.DashCase|s.JOm.Important)?t.style.setProperty(e,i,r&s.JOm.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&s.JOm.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t[e]=i}setValue(t,e){t.nodeValue=e}listen(t,e,i){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,Vd(i)):this.eventManager.addEventListener(t,e,Vd(i))}}function Za(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class Bd extends ra{constructor(t,e,i,r){super(t),this.component=i;const o=nc(r+"-"+i.id,i.styles,[]);e.addStyles(o),this.contentAttr=function Zn(n){return"_ngcontent-%COMP%".replace(Ld,n)}(r+"-"+i.id),this.hostAttr=function tc(n){return"_nghost-%COMP%".replace(Ld,n)}(r+"-"+i.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}}class Ud extends ra{constructor(t,e,i,r){super(t),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const o=nc(r.id,r.styles,[]);for(let u=0;u<o.length;u++){const h=document.createElement("style");h.textContent=o[u],this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let Di=(()=>{class n extends Xl{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,r){return e.addEventListener(i,r,!1),()=>this.removeEventListener(e,i,r)}removeEventListener(e,i,r){return e.removeEventListener(i,r)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(te))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const Ya=["alt","control","meta","shift"],Wa={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},os={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Ka=(()=>{class n extends Xl{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,i,r){const o=n.parseEventName(i),u=n.eventCallback(o.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>P().onAndCancel(e,o.domEventName,u))}static parseEventName(e){const i=e.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const o=n._normalizeKey(i.pop());let u="",h=i.indexOf("code");if(h>-1&&(i.splice(h,1),u="code."),Ya.forEach(b=>{const D=i.indexOf(b);D>-1&&(i.splice(D,1),u+=b+".")}),u+=o,0!=i.length||0===o.length)return null;const _={};return _.domEventName=r,_.fullKey=u,_}static matchEventFullKeyCode(e,i){let r=Wa[e.key]||e.key,o="";return i.indexOf("code.")>-1&&(r=e.code,o="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),Ya.forEach(u=>{u!==r&&(0,os[u])(e)&&(o+=u+".")}),o+=r,o===i)}static eventCallback(e,i,r){return o=>{n.matchEventFullKeyCode(o,e)&&r.runGuarded(()=>i(o))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(te))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const oc=(0,s.eFA)(s._c5,"browser",[{provide:s.Lbi,useValue:vs},{provide:s.g9A,useValue:function rc(){Co.makeCurrent()},multi:!0},{provide:te,useFactory:function Ja(){return(0,s.RDi)(document),document},deps:[]}]),Ks=new s.OlP(""),jd=[{provide:s.rWj,useClass:class Pd{addToWindow(t){s.dqk.getAngularTestability=(i,r=!0)=>{const o=t.findTestabilityInTree(i,r);if(null==o)throw new Error("Could not find testability for element.");return o},s.dqk.getAllAngularTestabilities=()=>t.getAllTestabilities(),s.dqk.getAllAngularRootElements=()=>t.getAllRootElements(),s.dqk.frameworkStabilizers||(s.dqk.frameworkStabilizers=[]),s.dqk.frameworkStabilizers.push(i=>{const r=s.dqk.getAllAngularTestabilities();let o=r.length,u=!1;const h=function(_){u=u||_,o--,0==o&&i(u)};r.forEach(function(_){_.whenStable(h)})})}findTestabilityInTree(t,e,i){return null==e?null:t.getTestability(e)??(i?P().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null)}},deps:[]},{provide:s.lri,useClass:s.dDg,deps:[s.R0b,s.eoX,s.rWj]},{provide:s.dDg,useClass:s.dDg,deps:[s.R0b,s.eoX,s.rWj]}],Qs=[{provide:s.zSh,useValue:"root"},{provide:s.qLn,useFactory:function To(){return new s.qLn},deps:[]},{provide:Jl,useClass:Di,multi:!0,deps:[te,s.R0b,s.Lbi]},{provide:Jl,useClass:Ka,multi:!0,deps:[te]},{provide:Io,useClass:Io,deps:[Fd,na,s.AFp]},{provide:s.FYo,useExisting:Io},{provide:Eo,useExisting:na},{provide:na,useClass:na,deps:[te]},{provide:Fd,useClass:Fd,deps:[Jl,s.R0b]},{provide:class ea{},useClass:_u,deps:[]},[]];let ac=(()=>{class n{constructor(e){}static withServerTransition(e){return{ngModule:n,providers:[{provide:s.AFp,useValue:e.appId},{provide:An,useExisting:s.AFp},gu]}}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Ks,12))},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[...Qs,...jd],imports:[Li,s.hGG]}),n})(),Ds=(()=>{class n{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(te))},n.\u0275prov=s.Yz7({token:n,factory:function(e){let i=null;return i=e?new e:function sa(){return new Ds((0,s.LFG)(te))}(),i},providedIn:"root"}),n})();typeof window<"u"&&window;let da=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:function(e){let i=null;return i=e?new(e||n):s.LFG(Wm),i},providedIn:"root"}),n})(),Wm=(()=>{class n extends da{constructor(e){super(),this._doc=e}sanitize(e,i){if(null==i)return null;switch(e){case s.q3G.NONE:return i;case s.q3G.HTML:return(0,s.qzn)(i,"HTML")?(0,s.z3N)(i):(0,s.EiD)(this._doc,String(i)).toString();case s.q3G.STYLE:return(0,s.qzn)(i,"Style")?(0,s.z3N)(i):i;case s.q3G.SCRIPT:if((0,s.qzn)(i,"Script"))return(0,s.z3N)(i);throw new Error("unsafe value used in a script context");case s.q3G.URL:return(0,s.qzn)(i,"URL")?(0,s.z3N)(i):(0,s.mCW)(String(i));case s.q3G.RESOURCE_URL:if((0,s.qzn)(i,"ResourceURL"))return(0,s.z3N)(i);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${e} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(e){return(0,s.JVY)(e)}bypassSecurityTrustStyle(e){return(0,s.L6k)(e)}bypassSecurityTrustScript(e){return(0,s.eBb)(e)}bypassSecurityTrustUrl(e){return(0,s.LAX)(e)}bypassSecurityTrustResourceUrl(e){return(0,s.pB0)(e)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(te))},n.\u0275prov=s.Yz7({token:n,factory:function(e){let i=null;return i=e?new e:function Ym(n){return new Wm(n.get(te))}(s.LFG(s.zs3)),i},providedIn:"root"}),n})();var _n=F(8996),jr=F(3269);function qe(...n){const t=(0,jr.yG)(n);return(0,_n.D)(n,t)}var Ze=F(7579);class yn extends Ze.x{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:i}=this;if(t)throw e;return this._throwIfClosed(),i}next(t){super.next(this._value=t)}}const nl=(0,F(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var jn=F(9751);const{isArray:Xs}=Array,{getPrototypeOf:hc,prototype:Km,keys:wu}=Object;function il(n){if(1===n.length){const t=n[0];if(Xs(t))return{args:t,keys:null};if(function ha(n){return n&&"object"==typeof n&&hc(n)===Km}(t)){const e=wu(t);return{args:e.map(i=>t[i]),keys:e}}}return{args:n,keys:null}}var eo=F(4671),Ge=F(4004);const{isArray:rl}=Array;function fa(n){return(0,Ge.U)(t=>function to(n,t){return rl(t)?n(...t):n(t)}(n,t))}function pa(n,t){return n.reduce((e,i,r)=>(e[i]=t[r],e),{})}var Nn=F(5403),Cu=F(9672);function as(...n){const t=(0,jr.yG)(n),e=(0,jr.jO)(n),{args:i,keys:r}=il(n);if(0===i.length)return(0,_n.D)([],t);const o=new jn.y(function Qm(n,t,e=eo.y){return i=>{Du(t,()=>{const{length:r}=n,o=new Array(r);let u=r,h=r;for(let _=0;_<r;_++)Du(t,()=>{const b=(0,_n.D)(n[_],t);let D=!1;b.subscribe((0,Nn.x)(i,M=>{o[_]=M,D||(D=!0,h--),h||i.next(e(o.slice()))},()=>{--u||i.complete()}))},i)},i)}}(i,t,r?u=>pa(r,u):eo.y));return e?o.pipe(fa(e)):o}function Du(n,t,e){n?(0,Cu.f)(e,n,t):t()}var fc=F(8189);function ls(...n){return function sl(){return(0,fc.J)(1)}()((0,_n.D)(n,(0,jr.yG)(n)))}var zr=F(8421);function cr(n){return new jn.y(t=>{(0,zr.Xf)(n()).subscribe(t)})}var Eu=F(9635),Bi=F(576);function Wi(n,t){const e=(0,Bi.m)(n)?n:()=>n,i=r=>r.error(e());return new jn.y(t?r=>t.schedule(i,0,r):i)}var cs=F(515),on=F(727),ii=F(4482);function no(){return(0,ii.e)((n,t)=>{let e=null;n._refCount++;const i=(0,Nn.x)(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const r=n._connection,o=e;e=null,r&&(!o||r===o)&&r.unsubscribe(),t.unsubscribe()});n.subscribe(i),i.closed||(e=n.connect())})}class Ss extends jn.y{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,(0,ii.A)(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new on.w0;const e=this.getSubject();t.add(this.source.subscribe((0,Nn.x)(e,void 0,()=>{this._teardown(),e.complete()},i=>{this._teardown(),e.error(i)},()=>this._teardown()))),t.closed&&(this._connection=null,t=on.w0.EMPTY)}return t}refCount(){return no()(this)}}function Ln(n,t){return(0,ii.e)((e,i)=>{let r=null,o=0,u=!1;const h=()=>u&&!r&&i.complete();e.subscribe((0,Nn.x)(i,_=>{r?.unsubscribe();let b=0;const D=o++;(0,zr.Xf)(n(_,D)).subscribe(r=(0,Nn.x)(i,M=>i.next(t?t(_,M,D,b++):M),()=>{r=null,h()}))},()=>{u=!0,h()}))})}function Et(n){return n<=0?()=>cs.E:(0,ii.e)((t,e)=>{let i=0;t.subscribe((0,Nn.x)(e,r=>{++i<=n&&(e.next(r),n<=i&&e.complete())}))})}function Yn(...n){const t=(0,jr.yG)(n);return(0,ii.e)((e,i)=>{(t?ls(n,e,t):ls(n,e)).subscribe(i)})}function S(n,t){return(0,ii.e)((e,i)=>{let r=0;e.subscribe((0,Nn.x)(i,o=>n.call(t,o,r++)&&i.next(o)))})}var I=F(5577);function x(n){return(0,ii.e)((t,e)=>{let i=!1;t.subscribe((0,Nn.x)(e,r=>{i=!0,e.next(r)},()=>{i||e.next(n),e.complete()}))})}function L(n=K){return(0,ii.e)((t,e)=>{let i=!1;t.subscribe((0,Nn.x)(e,r=>{i=!0,e.next(r)},()=>i?e.complete():e.error(n())))})}function K(){return new nl}function ie(n,t){const e=arguments.length>=2;return i=>i.pipe(n?S((r,o)=>n(r,o,i)):eo.y,Et(1),e?x(t):L(()=>new nl))}function Ee(n,t){return(0,Bi.m)(t)?(0,I.z)(n,t,1):(0,I.z)(n,1)}var Le=F(8505);function Xe(n){return(0,ii.e)((t,e)=>{let o,i=null,r=!1;i=t.subscribe((0,Nn.x)(e,void 0,void 0,u=>{o=(0,zr.Xf)(n(u,Xe(n)(t))),i?(i.unsubscribe(),i=null,o.subscribe(e)):r=!0})),r&&(i.unsubscribe(),i=null,o.subscribe(e))})}function lt(n,t,e,i,r){return(o,u)=>{let h=e,_=t,b=0;o.subscribe((0,Nn.x)(u,D=>{const M=b++;_=h?n(_,D,M):(h=!0,D),i&&u.next(_)},r&&(()=>{h&&u.next(_),u.complete()})))}}function Ut(n,t){return(0,ii.e)(lt(n,t,arguments.length>=2,!0))}function St(n){return n<=0?()=>cs.E:(0,ii.e)((t,e)=>{let i=[];t.subscribe((0,Nn.x)(e,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)e.next(r);e.complete()},void 0,()=>{i=null}))})}function ri(n,t){const e=arguments.length>=2;return i=>i.pipe(n?S((r,o)=>n(r,o,i)):eo.y,St(1),e?x(t):L(()=>new nl))}function Wn(n,t=!1){return(0,ii.e)((e,i)=>{let r=0;e.subscribe((0,Nn.x)(i,o=>{const u=n(o,r++);(u||t)&&i.next(o),!u&&i.complete()}))})}function Is(n){return(0,Ge.U)(()=>n)}function Ro(n){return(0,ii.e)((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}const Lt="primary",Jn=Symbol("RouteTitle");class ur{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Ms(n){return new ur(n)}function A0(n,t,e){const i=e.path.split("/");if(i.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||i.length<n.length))return null;const r={};for(let o=0;o<i.length;o++){const u=i[o],h=n[o];if(u.startsWith(":"))r[u.substring(1)]=h;else if(u!==h.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function io(n,t){const e=n?Object.keys(n):void 0,i=t?Object.keys(t):void 0;if(!e||!i||e.length!=i.length)return!1;let r;for(let o=0;o<e.length;o++)if(r=e[o],!kf(n[r],t[r]))return!1;return!0}function kf(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),i=[...t].sort();return e.every((r,o)=>i[o]===r)}return n===t}function Xm(n){return Array.prototype.concat.apply([],n)}function eg(n){return n.length>0?n[n.length-1]:null}function pi(n,t){for(const e in n)n.hasOwnProperty(e)&&t(n[e],e)}function us(n){return(0,s.CqO)(n)?n:(0,s.QGY)(n)?(0,_n.D)(Promise.resolve(n)):qe(n)}const x0={exact:function ng(n,t,e){if(!gc(n.segments,t.segments)||!pc(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const i in t.children)if(!n.children[i]||!ng(n.children[i],t.children[i],e))return!1;return!0},subset:Ff},Of={exact:function Fy(n,t){return io(n,t)},subset:function Pf(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>kf(n[e],t[e]))},ignored:()=>!0};function Py(n,t,e){return x0[e.paths](n.root,t.root,e.matrixParams)&&Of[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function Ff(n,t,e){return Ny(n,t,t.segments,e)}function Ny(n,t,e,i){if(n.segments.length>e.length){const r=n.segments.slice(0,e.length);return!(!gc(r,e)||t.hasChildren()||!pc(r,e,i))}if(n.segments.length===e.length){if(!gc(n.segments,e)||!pc(n.segments,e,i))return!1;for(const r in t.children)if(!n.children[r]||!Ff(n.children[r],t.children[r],i))return!1;return!0}{const r=e.slice(0,n.segments.length),o=e.slice(n.segments.length);return!!(gc(n.segments,r)&&pc(n.segments,r,i)&&n.children[Lt])&&Ny(n.children[Lt],t,o,i)}}function pc(n,t,e){return t.every((i,r)=>Of[e](n[r].parameters,i.parameters))}class mc{constructor(t,e,i){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ms(this.queryParams)),this._queryParamMap}toString(){return $d.serialize(this)}}class Jt{constructor(t,e){this.segments=t,this.children=e,this.parent=null,pi(e,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Iu(this)}}class zd{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Ms(this.parameters)),this._parameterMap}toString(){return Lf(this)}}function gc(n,t){return n.length===t.length&&n.every((e,i)=>e.path===t[i].path)}let Nf=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:function(){return new Su},providedIn:"root"}),n})();class Su{parse(t){const e=new Oo(t);return new mc(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${ma(t.root,!0)}`,i=function Hy(n){const t=Object.keys(n).map(e=>{const i=n[e];return Array.isArray(i)?i.map(r=>`${Mu(e)}=${Mu(r)}`).join("&"):`${Mu(e)}=${Mu(i)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${e}${i}${"string"==typeof t.fragment?`#${function By(n){return encodeURI(n)}(t.fragment)}`:""}`}}const $d=new Su;function Iu(n){return n.segments.map(t=>Lf(t)).join("/")}function ma(n,t){if(!n.hasChildren())return Iu(n);if(t){const e=n.children[Lt]?ma(n.children[Lt],!1):"",i=[];return pi(n.children,(r,o)=>{o!==Lt&&i.push(`${o}:${ma(r,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}{const e=function Vy(n,t){let e=[];return pi(n.children,(i,r)=>{r===Lt&&(e=e.concat(t(i,r)))}),pi(n.children,(i,r)=>{r!==Lt&&(e=e.concat(t(i,r)))}),e}(n,(i,r)=>r===Lt?[ma(n.children[Lt],!1)]:[`${r}:${ma(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Lt]?`${Iu(n)}/${e[0]}`:`${Iu(n)}/(${e.join("//")})`}}function Ts(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Mu(n){return Ts(n).replace(/%3B/gi,";")}function Tu(n){return Ts(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Au(n){return decodeURIComponent(n)}function xu(n){return Au(n.replace(/\+/g,"%20"))}function Lf(n){return`${Tu(n.path)}${function Uy(n){return Object.keys(n).map(t=>`;${Tu(t)}=${Tu(n[t])}`).join("")}(n.parameters)}`}const ig=/^[^\/()?;=#]+/;function qd(n){const t=n.match(ig);return t?t[0]:""}const jy=/^[^=?&#]+/,Vf=/^[^&#]+/;class Oo{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Jt([],{}):new Jt([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i[Lt]=new Jt(t,e)),i}parseSegment(){const t=qd(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new s.vHH(4009,!1);return this.capture(t),new zd(Au(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=qd(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const r=qd(this.remaining);r&&(i=r,this.capture(i))}t[Au(e)]=Au(i)}parseQueryParam(t){const e=function Ki(n){const t=n.match(jy);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const u=function Gy(n){const t=n.match(Vf);return t?t[0]:""}(this.remaining);u&&(i=u,this.capture(i))}const r=xu(e),o=xu(i);if(t.hasOwnProperty(r)){let u=t[r];Array.isArray(u)||(u=[u],t[r]=u),u.push(o)}else t[r]=o}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=qd(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new s.vHH(4010,!1);let o;i.indexOf(":")>-1?(o=i.slice(0,i.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=Lt);const u=this.parseChildren();e[o]=1===Object.keys(u).length?u[Lt]:new Jt([],u),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new s.vHH(4011,!1)}}function Ai(n){return n.segments.length>0?new Jt([],{[Lt]:n}):n}function ga(n){const t={};for(const i of Object.keys(n.children)){const o=ga(n.children[i]);(o.segments.length>0||o.hasChildren())&&(t[i]=o)}return function Zd(n){if(1===n.numberOfChildren&&n.children[Lt]){const t=n.children[Lt];return new Jt(n.segments.concat(t.segments),t.children)}return n}(new Jt(n.segments,t))}function ol(n){return n instanceof mc}function qy(n,t,e,i,r){if(0===e.length)return yc(t.root,t.root,t.root,i,r);const o=function rg(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new Kd(!0,0,n);let t=0,e=!1;const i=n.reduce((r,o,u)=>{if("object"==typeof o&&null!=o){if(o.outlets){const h={};return pi(o.outlets,(_,b)=>{h[b]="string"==typeof _?_.split("/"):_}),[...r,{outlets:h}]}if(o.segmentPath)return[...r,o.segmentPath]}return"string"!=typeof o?[...r,o]:0===u?(o.split("/").forEach((h,_)=>{0==_&&"."===h||(0==_&&""===h?e=!0:".."===h?t++:""!=h&&r.push(h))}),r):[...r,o]},[]);return new Kd(e,t,i)}(e);return o.toRoot()?yc(t.root,t.root,new Jt([],{}),i,r):function u(_){const b=function cl(n,t,e,i){if(n.isAbsolute)return new ll(t.root,!0,0);if(-1===i)return new ll(e,e===t.root,0);return function og(n,t,e){let i=n,r=t,o=e;for(;o>r;){if(o-=r,i=i.parent,!i)throw new s.vHH(4005,!1);r=i.segments.length}return new ll(i,!1,r-o)}(e,i+(_c(n.commands[0])?0:1),n.numberOfDoubleDots)}(o,t,n.snapshot?._urlSegment,_),D=b.processChildren?Po(b.segmentGroup,b.index,o.commands):ul(b.segmentGroup,b.index,o.commands);return yc(t.root,b.segmentGroup,D,i,r)}(n.snapshot?._lastPathIndex)}function _c(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function al(n){return"object"==typeof n&&null!=n&&n.outlets}function yc(n,t,e,i,r){let u,o={};i&&pi(i,(_,b)=>{o[b]=Array.isArray(_)?_.map(D=>`${D}`):`${_}`}),u=n===t?e:Wd(n,t,e);const h=Ai(ga(u));return new mc(h,o,r)}function Wd(n,t,e){const i={};return pi(n.children,(r,o)=>{i[o]=r===t?e:Wd(r,t,e)}),new Jt(n.segments,i)}class Kd{constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&_c(i[0]))throw new s.vHH(4003,!1);const r=i.find(al);if(r&&r!==eg(i))throw new s.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class ll{constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}}function ul(n,t,e){if(n||(n=new Jt([],{})),0===n.segments.length&&n.hasChildren())return Po(n,t,e);const i=function ag(n,t,e){let i=0,r=t;const o={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=e.length)return o;const u=n.segments[r],h=e[i];if(al(h))break;const _=`${h}`,b=i<e.length-1?e[i+1]:null;if(r>0&&void 0===_)break;if(_&&b&&"object"==typeof b&&void 0===b.outlets){if(!Bf(_,b,u))return o;i+=2}else{if(!Bf(_,{},u))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,t,e),r=e.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const o=new Jt(n.segments.slice(0,i.pathIndex),{});return o.children[Lt]=new Jt(n.segments.slice(i.pathIndex),n.children),Po(o,0,r)}return i.match&&0===r.length?new Jt(n.segments,{}):i.match&&!n.hasChildren()?lg(n,t,e):i.match?Po(n,0,r):lg(n,t,e)}function Po(n,t,e){if(0===e.length)return new Jt(n.segments,{});{const i=function Zy(n){return al(n[0])?n[0].outlets:{[Lt]:n}}(e),r={};return pi(i,(o,u)=>{"string"==typeof o&&(o=[o]),null!==o&&(r[u]=ul(n.children[u],t,o))}),pi(n.children,(o,u)=>{void 0===i[u]&&(r[u]=o)}),new Jt(n.segments,r)}}function lg(n,t,e){const i=n.segments.slice(0,t);let r=0;for(;r<e.length;){const o=e[r];if(al(o)){const _=Fo(o.outlets);return new Jt(i,_)}if(0===r&&_c(e[0])){i.push(new zd(n.segments[t].path,Qd(e[0]))),r++;continue}const u=al(o)?o.outlets[Lt]:`${o}`,h=r<e.length-1?e[r+1]:null;u&&h&&_c(h)?(i.push(new zd(u,Qd(h))),r+=2):(i.push(new zd(u,{})),r++)}return new Jt(i,{})}function Fo(n){const t={};return pi(n,(e,i)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[i]=lg(new Jt([],{}),0,e))}),t}function Qd(n){const t={};return pi(n,(e,i)=>t[i]=`${e}`),t}function Bf(n,t,e){return n==e.path&&io(t,e.parameters)}class No{constructor(t,e){this.id=t,this.url=e}}class vc extends No{constructor(t,e,i="imperative",r=null){super(t,e),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class dl extends No{constructor(t,e,i){super(t,e),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Jd extends No{constructor(t,e,i,r){super(t,e),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class cg extends No{constructor(t,e,i,r){super(t,e),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Yy extends No{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ru extends No{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Wy extends No{constructor(t,e,i,r,o){super(t,e),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Uf extends No{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Hf extends No{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ug{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class jf{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Ky{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class dg{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Xd{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class eh{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Lo{constructor(t,e,i){this.routerEvent=t,this.position=e,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Ou{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=Gf(t,this._root);return e?e.children.map(i=>i.value):[]}firstChild(t){const e=Gf(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=Mr(t,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return Mr(t,this._root).map(e=>e.value)}}function Gf(n,t){if(n===t.value)return t;for(const e of t.children){const i=Gf(n,e);if(i)return i}return null}function Mr(n,t){if(n===t.value)return[t];for(const e of t.children){const i=Mr(n,e);if(i.length)return i.unshift(t),i}return[]}class Qi{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function hl(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class zf extends Ou{constructor(t,e){super(t),this.snapshot=e,Fu(this,t)}toString(){return this.snapshot.toString()}}function Pu(n,t){const e=function th(n,t){const u=new Tr([],{},{},"",{},Lt,t,null,n.root,-1,{});return new rh("",new Qi(u,[]))}(n,t),i=new yn([new zd("",{})]),r=new yn({}),o=new yn({}),u=new yn({}),h=new yn(""),_=new ds(i,r,u,h,o,Lt,t,e.root);return _.snapshot=e.root,new zf(new Qi(_,[]),e)}class ds{constructor(t,e,i,r,o,u,h,_){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=u,this.component=h,this.title=this.data?.pipe((0,Ge.U)(b=>b[Jn]))??qe(void 0),this._futureSnapshot=_}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Ge.U)(t=>Ms(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Ge.U)(t=>Ms(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function nh(n,t="emptyOnly"){const e=n.pathFromRoot;let i=0;if("always"!==t)for(i=e.length-1;i>=1;){const r=e[i],o=e[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(o.component)break;i--}}return function ih(n){return n.reduce((t,e)=>({params:{...t.params,...e.params},data:{...t.data,...e.data},resolve:{...e.data,...t.resolve,...e.routeConfig?.data,...e._resolvedData}}),{params:{},data:{},resolve:{}})}(e.slice(i))}class Tr{constructor(t,e,i,r,o,u,h,_,b,D,M,O){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=u,this.component=h,this.title=this.data?.[Jn],this.routeConfig=_,this._urlSegment=b,this._lastPathIndex=D,this._correctedLastPathIndex=O??D,this._resolve=M}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ms(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ms(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class rh extends Ou{constructor(t,e){super(e),this.url=t,Fu(this,e)}toString(){return sh(this._root)}}function Fu(n,t){t.value._routerState=n,t.children.forEach(e=>Fu(n,e))}function sh(n){const t=n.children.length>0?` { ${n.children.map(sh).join(", ")} } `:"";return`${n.value}${t}`}function Nu(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,io(t.queryParams,e.queryParams)||n.queryParams.next(e.queryParams),t.fragment!==e.fragment&&n.fragment.next(e.fragment),io(t.params,e.params)||n.params.next(e.params),function Jm(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!io(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.url.next(e.url),io(t.data,e.data)||n.data.next(e.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function _a(n,t){const e=io(n.params,t.params)&&function Ly(n,t){return gc(n,t)&&n.every((e,i)=>io(e.parameters,t[i].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||_a(n.parent,t.parent))}function ya(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const i=e.value;i._futureSnapshot=t.value;const r=function $f(n,t,e){return t.children.map(i=>{for(const r of e.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return ya(n,i,r);return ya(n,i)})}(n,t,e);return new Qi(i,r)}{if(n.shouldAttach(t.value)){const o=n.retrieve(t.value);if(null!==o){const u=o.route;return u.value._futureSnapshot=t.value,u.children=t.children.map(h=>ya(n,h)),u}}const i=function Qy(n){return new ds(new yn(n.url),new yn(n.params),new yn(n.queryParams),new yn(n.fragment),new yn(n.data),n.outlet,n.component,n)}(t.value),r=t.children.map(o=>ya(n,o));return new Qi(i,r)}}const hs="ngNavigationCancelingError";function va(n,t){const{redirectTo:e,navigationBehaviorOptions:i}=ol(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,r=bc(!1,0,t);return r.url=e,r.navigationBehaviorOptions=i,r}function bc(n,t,e){const i=new Error("NavigationCancelingError: "+(n||""));return i[hs]=!0,i.cancellationCode=t,e&&(i.url=e),i}function Lu(n){return ba(n)&&ol(n.url)}function ba(n){return n&&n[hs]}class qf{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Vu,this.attachRef=null}}let Vu=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(e,i){const r=this.getOrCreateContext(e);r.outlet=i,this.contexts.set(e,r)}onChildOutletDestroyed(e){const i=this.getContext(e);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let i=this.getContext(e);return i||(i=new qf,this.contexts.set(e,i)),i}getContext(e){return this.contexts.get(e)||null}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Zf=!1;let oh=(()=>{class n{constructor(e,i,r,o,u){this.parentContexts=e,this.location=i,this.changeDetector=o,this.environmentInjector=u,this.activated=null,this._activatedRoute=null,this.activateEvents=new s.vpe,this.deactivateEvents=new s.vpe,this.attachEvents=new s.vpe,this.detachEvents=new s.vpe,this.name=r||Lt,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new s.vHH(4012,Zf);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new s.vHH(4012,Zf);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new s.vHH(4012,Zf);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new s.vHH(4013,Zf);this._activatedRoute=e;const r=this.location,u=e._futureSnapshot.component,h=this.parentContexts.getOrCreateContext(this.name).children,_=new Yf(e,h,r.injector);if(i&&function y(n){return!!n.resolveComponentFactory}(i)){const b=i.resolveComponentFactory(u);this.activated=r.createComponent(b,r.length,_)}else this.activated=r.createComponent(u,{index:r.length,injector:_,environmentInjector:i??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Vu),s.Y36(s.s_b),s.$8M("name"),s.Y36(s.sBO),s.Y36(s.lqb))},n.\u0275dir=s.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),n})();class Yf{constructor(t,e,i){this.route=t,this.childContexts=e,this.parent=i}get(t,e){return t===ds?this.route:t===Vu?this.childContexts:this.parent.get(t,e)}}let p=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[s.jDz],decls:1,vars:0,template:function(e,i){1&e&&s._UZ(0,"router-outlet")},dependencies:[oh],encapsulation:2}),n})();function g(n,t){return n.providers&&!n._injector&&(n._injector=(0,s.MMx)(n.providers,t,`Route: ${n.path}`)),n._injector??t}function yt(n){const t=n.children&&n.children.map(yt),e=t?{...n,children:t}:{...n};return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==Lt&&(e.component=p),e}function vn(n){return n.outlet||Lt}function mi(n,t){const e=n.filter(i=>vn(i)===t);return e.push(...n.filter(i=>vn(i)!==t)),e}function $r(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class Wf{constructor(t,e,i,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=r}activate(t){const e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),Nu(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){const r=hl(e);t.children.forEach(o=>{const u=o.value.outlet;this.deactivateRoutes(o,r[u],i),delete r[u]}),pi(r,(o,u)=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(t,e,i){const r=t.value,o=e?e.value:null;if(r===o)if(r.component){const u=i.getContext(r.outlet);u&&this.deactivateChildRoutes(t,e,u.children)}else this.deactivateChildRoutes(t,e,i);else o&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,o=hl(t);for(const u of Object.keys(o))this.deactivateRouteAndItsChildren(o[u],r);if(i&&i.outlet){const u=i.outlet.detach(),h=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:u,route:t,contexts:h})}}deactivateRouteAndOutlet(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,o=hl(t);for(const u of Object.keys(o))this.deactivateRouteAndItsChildren(o[u],r);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(t,e,i){const r=hl(e);t.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new eh(o.value.snapshot))}),t.children.length&&this.forwardEvent(new dg(t.value.snapshot))}activateRoutes(t,e,i){const r=t.value,o=e?e.value:null;if(Nu(r),r===o)if(r.component){const u=i.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,u.children)}else this.activateChildRoutes(t,e,i);else if(r.component){const u=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const h=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),u.children.onOutletReAttached(h.contexts),u.attachRef=h.componentRef,u.route=h.route.value,u.outlet&&u.outlet.attach(h.componentRef,h.route.value),Nu(h.route.value),this.activateChildRoutes(t,null,u.children)}else{const h=$r(r.snapshot),_=h?.get(s._Vd)??null;u.attachRef=null,u.route=r,u.resolver=_,u.injector=h,u.outlet&&u.outlet.activateWith(r,u.injector),this.activateChildRoutes(t,null,u.children)}}else this.activateChildRoutes(t,null,i)}}class Kf{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Bu{constructor(t,e){this.component=t,this.route=e}}function Qf(n,t,e){const i=n._root;return fl(i,t?t._root:null,e,[i.value])}function wa(n,t){const e=Symbol(),i=t.get(n,e);return i===e?"function"!=typeof n||(0,s.Z0I)(n)?t.get(n):n:i}function fl(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=hl(t);return n.children.forEach(u=>{(function mg(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=n.value,u=t?t.value:null,h=e?e.getContext(n.value.outlet):null;if(u&&o.routeConfig===u.routeConfig){const _=function Jy(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!gc(n.url,t.url);case"pathParamsOrQueryParamsChange":return!gc(n.url,t.url)||!io(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!_a(n,t)||!io(n.queryParams,t.queryParams);default:return!_a(n,t)}}(u,o,o.routeConfig.runGuardsAndResolvers);_?r.canActivateChecks.push(new Kf(i)):(o.data=u.data,o._resolvedData=u._resolvedData),fl(n,t,o.component?h?h.children:null:e,i,r),_&&h&&h.outlet&&h.outlet.isActivated&&r.canDeactivateChecks.push(new Bu(h.outlet.component,u))}else u&&pl(t,h,r),r.canActivateChecks.push(new Kf(i)),fl(n,null,o.component?h?h.children:null:e,i,r)})(u,o[u.value.outlet],e,i.concat([u.value]),r),delete o[u.value.outlet]}),pi(o,(u,h)=>pl(u,e.getContext(h),r)),r}function pl(n,t,e){const i=hl(n),r=n.value;pi(i,(o,u)=>{pl(o,r.component?t?t.children.getContext(u):null:t,e)}),e.canDeactivateChecks.push(new Bu(r.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,r))}function Ca(n){return"function"==typeof n}function Xf(n){return n instanceof nl||"EmptyError"===n?.name}const ah=Symbol("INITIAL_VALUE");function ep(){return Ln(n=>as(n.map(t=>t.pipe(Et(1),Yn(ah)))).pipe((0,Ge.U)(t=>{for(const e of t)if(!0!==e){if(e===ah)return ah;if(!1===e||e instanceof mc)return e}return!0}),S(t=>t!==ah),Et(1)))}function _g(n){return(0,Eu.z)((0,Le.b)(t=>{if(ol(t))throw va(0,t)}),(0,Ge.U)(t=>!0===t))}const si={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function L0(n,t,e,i,r){const o=Xy(n,t,e);return o.matched?function tM(n,t,e,i){const r=t.canMatch;return r&&0!==r.length?qe(r.map(u=>{const h=wa(u,n);return us(function bO(n){return n&&Ca(n.canMatch)}(h)?h.canMatch(t,e):n.runInContext(()=>h(t,e)))})).pipe(ep(),_g()):qe(!0)}(i=g(t,i),t,e).pipe((0,Ge.U)(u=>!0===u?o:{...si})):qe(o)}function Xy(n,t,e){if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?{...si}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const r=(t.matcher||A0)(e,n,t);if(!r)return{...si};const o={};pi(r.posParams,(h,_)=>{o[_]=h.path});const u=r.consumed.length>0?{...o,...r.consumed[r.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:e.slice(r.consumed.length),parameters:u,positionalParamSegments:r.posParams??{}}}function lh(n,t,e,i,r="corrected"){if(e.length>0&&function iM(n,t,e){return e.some(i=>yg(n,t,i)&&vn(i)!==Lt)}(n,e,i)){const u=new Jt(t,function nM(n,t,e,i){const r={};r[Lt]=i,i._sourceSegment=n,i._segmentIndexShift=t.length;for(const o of e)if(""===o.path&&vn(o)!==Lt){const u=new Jt([],{});u._sourceSegment=n,u._segmentIndexShift=t.length,r[vn(o)]=u}return r}(n,t,i,new Jt(e,n.children)));return u._sourceSegment=n,u._segmentIndexShift=t.length,{segmentGroup:u,slicedSegments:[]}}if(0===e.length&&function rM(n,t,e){return e.some(i=>yg(n,t,i))}(n,e,i)){const u=new Jt(n.segments,function V0(n,t,e,i,r,o){const u={};for(const h of i)if(yg(n,e,h)&&!r[vn(h)]){const _=new Jt([],{});_._sourceSegment=n,_._segmentIndexShift="legacy"===o?n.segments.length:t.length,u[vn(h)]=_}return{...r,...u}}(n,t,e,i,n.children,r));return u._sourceSegment=n,u._segmentIndexShift=t.length,{segmentGroup:u,slicedSegments:e}}const o=new Jt(n.segments,n.children);return o._sourceSegment=n,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:e}}function yg(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function B0(n,t,e,i){return!!(vn(n)===i||i!==Lt&&yg(t,e,n))&&("**"===n.path||Xy(t,n,e).matched)}function sM(n,t,e){return 0===t.length&&!n.children[e]}const ev=!1;class wc{constructor(t){this.segmentGroup=t||null}}class vg{constructor(t){this.urlTree=t}}function ch(n){return Wi(new wc(n))}function tv(n){return Wi(new vg(n))}class j0{constructor(t,e,i,r,o){this.injector=t,this.configLoader=e,this.urlSerializer=i,this.urlTree=r,this.config=o,this.allowRedirects=!0}apply(){const t=lh(this.urlTree.root,[],[],this.config).segmentGroup,e=new Jt(t.segments,t.children);return this.expandSegmentGroup(this.injector,this.config,e,Lt).pipe((0,Ge.U)(o=>this.createUrlTree(ga(o),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Xe(o=>{if(o instanceof vg)return this.allowRedirects=!1,this.match(o.urlTree);throw o instanceof wc?this.noMatchError(o):o}))}match(t){return this.expandSegmentGroup(this.injector,this.config,t.root,Lt).pipe((0,Ge.U)(r=>this.createUrlTree(ga(r),t.queryParams,t.fragment))).pipe(Xe(r=>{throw r instanceof wc?this.noMatchError(r):r}))}noMatchError(t){return new s.vHH(4002,ev)}createUrlTree(t,e,i){const r=Ai(t);return new mc(r,e,i)}expandSegmentGroup(t,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(t,e,i).pipe((0,Ge.U)(o=>new Jt([],o))):this.expandSegment(t,i,e,i.segments,r,!0)}expandChildren(t,e,i){const r=[];for(const o of Object.keys(i.children))"primary"===o?r.unshift(o):r.push(o);return(0,_n.D)(r).pipe(Ee(o=>{const u=i.children[o],h=mi(e,o);return this.expandSegmentGroup(t,h,u,o).pipe((0,Ge.U)(_=>({segment:_,outlet:o})))}),Ut((o,u)=>(o[u.outlet]=u.segment,o),{}),ri())}expandSegment(t,e,i,r,o,u){return(0,_n.D)(i).pipe(Ee(h=>this.expandSegmentAgainstRoute(t,e,i,h,r,o,u).pipe(Xe(b=>{if(b instanceof wc)return qe(null);throw b}))),ie(h=>!!h),Xe((h,_)=>{if(Xf(h))return sM(e,r,o)?qe(new Jt([],{})):ch(e);throw h}))}expandSegmentAgainstRoute(t,e,i,r,o,u,h){return B0(r,e,o,u)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,o,u):h&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,i,r,o,u):ch(e):ch(e)}expandSegmentAgainstRouteUsingRedirect(t,e,i,r,o,u){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,i,r,u):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,o,u)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,i,r){const o=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?tv(o):this.lineralizeSegments(i,o).pipe((0,I.z)(u=>{const h=new Jt(u,{});return this.expandSegment(t,h,e,u,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,o,u){const{matched:h,consumedSegments:_,remainingSegments:b,positionalParamSegments:D}=Xy(e,r,o);if(!h)return ch(e);const M=this.applyRedirectCommands(_,r.redirectTo,D);return r.redirectTo.startsWith("/")?tv(M):this.lineralizeSegments(r,M).pipe((0,I.z)(O=>this.expandSegment(t,e,i,O.concat(b),u,!1)))}matchSegmentAgainstRoute(t,e,i,r,o){return"**"===i.path?(t=g(i,t),i.loadChildren?(i._loadedRoutes?qe({routes:i._loadedRoutes,injector:i._loadedInjector}):this.configLoader.loadChildren(t,i)).pipe((0,Ge.U)(h=>(i._loadedRoutes=h.routes,i._loadedInjector=h.injector,new Jt(r,{})))):qe(new Jt(r,{}))):L0(e,i,r,t).pipe(Ln(({matched:u,consumedSegments:h,remainingSegments:_})=>u?this.getChildConfig(t=i._injector??t,i,r).pipe((0,I.z)(D=>{const M=D.injector??t,O=D.routes,{segmentGroup:B,slicedSegments:$}=lh(e,h,_,O),ne=new Jt(B.segments,B.children);if(0===$.length&&ne.hasChildren())return this.expandChildren(M,O,ne).pipe((0,Ge.U)(gt=>new Jt(h,gt)));if(0===O.length&&0===$.length)return qe(new Jt(h,{}));const ce=vn(i)===o;return this.expandSegment(M,ne,O,$,ce?Lt:o,!0).pipe((0,Ge.U)(ft=>new Jt(h.concat(ft.segments),ft.children)))})):ch(e)))}getChildConfig(t,e,i){return e.children?qe({routes:e.children,injector:t}):e.loadChildren?void 0!==e._loadedRoutes?qe({routes:e._loadedRoutes,injector:e._loadedInjector}):function N0(n,t,e,i){const r=t.canLoad;return void 0===r||0===r.length?qe(!0):qe(r.map(u=>{const h=wa(u,n);return us(function Jf(n){return n&&Ca(n.canLoad)}(h)?h.canLoad(t,e):n.runInContext(()=>h(t,e)))})).pipe(ep(),_g())}(t,e,i).pipe((0,I.z)(r=>r?this.configLoader.loadChildren(t,e).pipe((0,Le.b)(o=>{e._loadedRoutes=o.routes,e._loadedInjector=o.injector})):function oM(n){return Wi(bc(ev,3))}())):qe({routes:[],injector:t})}lineralizeSegments(t,e){let i=[],r=e.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return qe(i);if(r.numberOfChildren>1||!r.children[Lt])return Wi(new s.vHH(4e3,ev));r=r.children[Lt]}}applyRedirectCommands(t,e,i){return this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,i)}applyRedirectCreateUrlTree(t,e,i,r){const o=this.createSegmentGroup(t,e.root,i,r);return new mc(o,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const i={};return pi(t,(r,o)=>{if("string"==typeof r&&r.startsWith(":")){const h=r.substring(1);i[o]=e[h]}else i[o]=r}),i}createSegmentGroup(t,e,i,r){const o=this.createSegments(t,e.segments,i,r);let u={};return pi(e.children,(h,_)=>{u[_]=this.createSegmentGroup(t,h,i,r)}),new Jt(o,u)}createSegments(t,e,i,r){return e.map(o=>o.path.startsWith(":")?this.findPosParam(t,o,r):this.findOrReturn(o,i))}findPosParam(t,e,i){const r=i[e.path.substring(1)];if(!r)throw new s.vHH(4001,ev);return r}findOrReturn(t,e){let i=0;for(const r of e){if(r.path===t.path)return e.splice(i),r;i++}return t}}class aM{}class z0{constructor(t,e,i,r,o,u,h,_){this.injector=t,this.rootComponentType=e,this.config=i,this.urlTree=r,this.url=o,this.paramsInheritanceStrategy=u,this.relativeLinkResolution=h,this.urlSerializer=_}recognize(){const t=lh(this.urlTree.root,[],[],this.config.filter(e=>void 0===e.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,Lt).pipe((0,Ge.U)(e=>{if(null===e)return null;const i=new Tr([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Lt,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Qi(i,e),o=new rh(this.url,r);return this.inheritParamsAndData(o._root),o}))}inheritParamsAndData(t){const e=t.value,i=nh(e,this.paramsInheritanceStrategy);e.params=Object.freeze(i.params),e.data=Object.freeze(i.data),t.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(t,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(t,e,i):this.processSegment(t,e,i,i.segments,r)}processChildren(t,e,i){return(0,_n.D)(Object.keys(i.children)).pipe(Ee(r=>{const o=i.children[r],u=mi(e,r);return this.processSegmentGroup(t,u,o,r)}),Ut((r,o)=>r&&o?(r.push(...o),r):null),Wn(r=>null!==r),x(null),ri(),(0,Ge.U)(r=>{if(null===r)return null;const o=tp(r);return function Uu(n){n.sort((t,e)=>t.value.outlet===Lt?-1:e.value.outlet===Lt?1:t.value.outlet.localeCompare(e.value.outlet))}(o),o}))}processSegment(t,e,i,r,o){return(0,_n.D)(e).pipe(Ee(u=>this.processSegmentAgainstRoute(u._injector??t,u,i,r,o)),ie(u=>!!u),Xe(u=>{if(Xf(u))return sM(i,r,o)?qe([]):qe(null);throw u}))}processSegmentAgainstRoute(t,e,i,r,o){if(e.redirectTo||!B0(e,i,r,o))return qe(null);let u;if("**"===e.path){const h=r.length>0?eg(r).parameters:{},_=np(i)+r.length;u=qe({snapshot:new Tr(r,h,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,ov(e),vn(e),e.component??e._loadedComponent??null,e,bg(i),_,wg(e),_),consumedSegments:[],remainingSegments:[]})}else u=L0(i,e,r,t).pipe((0,Ge.U)(({matched:h,consumedSegments:_,remainingSegments:b,parameters:D})=>{if(!h)return null;const M=np(i)+_.length;return{snapshot:new Tr(_,D,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,ov(e),vn(e),e.component??e._loadedComponent??null,e,bg(i),M,wg(e),M),consumedSegments:_,remainingSegments:b}}));return u.pipe(Ln(h=>{if(null===h)return qe(null);const{snapshot:_,consumedSegments:b,remainingSegments:D}=h;t=e._injector??t;const M=e._loadedInjector??t,O=function lM(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(e),{segmentGroup:B,slicedSegments:$}=lh(i,b,D,O.filter(ce=>void 0===ce.redirectTo),this.relativeLinkResolution);if(0===$.length&&B.hasChildren())return this.processChildren(M,O,B).pipe((0,Ge.U)(ce=>null===ce?null:[new Qi(_,ce)]));if(0===O.length&&0===$.length)return qe([new Qi(_,[])]);const ne=vn(e)===o;return this.processSegment(M,O,B,$,ne?Lt:o).pipe((0,Ge.U)(ce=>null===ce?null:[new Qi(_,ce)]))}))}}function sv(n){const t=n.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function tp(n){const t=[],e=new Set;for(const i of n){if(!sv(i)){t.push(i);continue}const r=t.find(o=>i.value.routeConfig===o.value.routeConfig);void 0!==r?(r.children.push(...i.children),e.add(r)):t.push(i)}for(const i of e){const r=tp(i.children);t.push(new Qi(i.value,r))}return t.filter(i=>!e.has(i))}function bg(n){let t=n;for(;t._sourceSegment;)t=t._sourceSegment;return t}function np(n){let t=n,e=t._segmentIndexShift??0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift??0;return e-1}function ov(n){return n.data||{}}function wg(n){return n.resolve||{}}function q0(n){return"string"==typeof n.title||null===n.title}function av(n){return Ln(t=>{const e=n(t);return e?(0,_n.D)(e).pipe((0,Ge.U)(()=>t)):qe(t)})}let Cg=(()=>{class n{buildTitle(e){let i,r=e.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(o=>o.outlet===Lt);return i}getResolvedTitleForRoute(e){return e.data[Jn]}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:function(){return(0,s.f3M)(Z0)},providedIn:"root"}),n})(),Z0=(()=>{class n extends Cg{constructor(e){super(),this.title=e}updateTitle(e){const i=this.buildTitle(e);void 0!==i&&this.title.setTitle(i)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Ds))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class mM{}class DO extends class Y0{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const Dc=new s.OlP("",{providedIn:"root",factory:()=>({})}),Ec=new s.OlP("ROUTES");let Hu=(()=>{class n{constructor(e,i){this.injector=e,this.compiler=i,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return qe(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const i=us(e.loadComponent()).pipe((0,Le.b)(o=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=o}),Ro(()=>{this.componentLoaders.delete(e)})),r=new Ss(i,()=>new Ze.x).pipe(no());return this.componentLoaders.set(e,r),r}loadChildren(e,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return qe({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const o=this.loadModuleFactoryOrRoutes(i.loadChildren).pipe((0,Ge.U)(h=>{this.onLoadEndListener&&this.onLoadEndListener(i);let _,b,D=!1;Array.isArray(h)?b=h:(_=h.create(e).injector,b=Xm(_.get(Ec,[],s.XFs.Self|s.XFs.Optional)));return{routes:b.map(yt),injector:_}}),Ro(()=>{this.childrenLoaders.delete(i)})),u=new Ss(o,()=>new Ze.x).pipe(no());return this.childrenLoaders.set(i,u),u}loadModuleFactoryOrRoutes(e){return us(e()).pipe((0,I.z)(i=>i instanceof s.YKP||Array.isArray(i)?qe(i):(0,_n.D)(this.compiler.compileModuleAsync(i))))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.zs3),s.LFG(s.Sil))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class _M{}class EO{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function yM(n){throw n}function vM(n,t,e){return t.parse("/")}const bM={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},K0={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function Dg(){const n=(0,s.f3M)(Nf),t=(0,s.f3M)(Vu),e=(0,s.f3M)(Te),i=(0,s.f3M)(s.zs3),r=(0,s.f3M)(s.Sil),o=(0,s.f3M)(Ec,{optional:!0})??[],u=(0,s.f3M)(Dc,{optional:!0})??{},h=(0,s.f3M)(Z0),_=(0,s.f3M)(Cg,{optional:!0}),b=(0,s.f3M)(_M,{optional:!0}),D=(0,s.f3M)(mM,{optional:!0}),M=new gi(null,n,t,e,i,r,Xm(o));return b&&(M.urlHandlingStrategy=b),D&&(M.routeReuseStrategy=D),M.titleStrategy=_??h,function Q0(n,t){n.errorHandler&&(t.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(t.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(t.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(t.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(t.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(t.canceledNavigationResolution=n.canceledNavigationResolution)}(u,M),M}let gi=(()=>{class n{constructor(e,i,r,o,u,h,_){this.rootComponentType=e,this.urlSerializer=i,this.rootContexts=r,this.location=o,this.config=_,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Ze.x,this.errorHandler=yM,this.malformedUriErrorHandler=vM,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>qe(void 0),this.urlHandlingStrategy=new EO,this.routeReuseStrategy=new DO,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=u.get(Hu),this.configLoader.onLoadEndListener=O=>this.triggerEvent(new jf(O)),this.configLoader.onLoadStartListener=O=>this.triggerEvent(new ug(O)),this.ngModule=u.get(s.h0i),this.console=u.get(s.c2e);const M=u.get(s.R0b);this.isNgZoneEnabled=M instanceof s.R0b&&s.R0b.isInAngularZone(),this.resetConfig(_),this.currentUrlTree=function tg(){return new mc(new Jt([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Pu(this.currentUrlTree,this.rootComponentType),this.transitions=new yn({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(e){const i=this.events;return e.pipe(S(r=>0!==r.id),(0,Ge.U)(r=>({...r,extractedUrl:this.urlHandlingStrategy.extract(r.rawUrl)})),Ln(r=>{let o=!1,u=!1;return qe(r).pipe((0,Le.b)(h=>{this.currentNavigation={id:h.id,initialUrl:h.rawUrl,extractedUrl:h.extractedUrl,trigger:h.source,extras:h.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Ln(h=>{const _=this.browserUrlTree.toString(),b=!this.navigated||h.extractedUrl.toString()!==_||_!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||b)&&this.urlHandlingStrategy.shouldProcessUrl(h.rawUrl))return Eg(h.source)&&(this.browserUrlTree=h.extractedUrl),qe(h).pipe(Ln(M=>{const O=this.transitions.getValue();return i.next(new vc(M.id,this.serializeUrl(M.extractedUrl),M.source,M.restoredState)),O!==this.transitions.getValue()?cs.E:Promise.resolve(M)}),function nv(n,t,e,i){return Ln(r=>function H0(n,t,e,i,r){return new j0(n,t,e,i,r).apply()}(n,t,e,r.extractedUrl,i).pipe((0,Ge.U)(o=>({...r,urlAfterRedirects:o}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Le.b)(M=>{this.currentNavigation={...this.currentNavigation,finalUrl:M.urlAfterRedirects},r.urlAfterRedirects=M.urlAfterRedirects}),function uM(n,t,e,i,r,o){return(0,I.z)(u=>function G0(n,t,e,i,r,o,u="emptyOnly",h="legacy"){return new z0(n,t,e,i,r,u,h,o).recognize().pipe(Ln(_=>null===_?function rv(n){return new jn.y(t=>t.error(n))}(new aM):qe(_)))}(n,t,e,u.urlAfterRedirects,i.serialize(u.urlAfterRedirects),i,r,o).pipe((0,Ge.U)(h=>({...u,targetSnapshot:h}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Le.b)(M=>{if(r.targetSnapshot=M.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!M.extras.skipLocationChange){const B=this.urlHandlingStrategy.merge(M.urlAfterRedirects,M.rawUrl);this.setBrowserUrl(B,M)}this.browserUrlTree=M.urlAfterRedirects}const O=new Yy(M.id,this.serializeUrl(M.extractedUrl),this.serializeUrl(M.urlAfterRedirects),M.targetSnapshot);i.next(O)}));if(b&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:O,extractedUrl:B,source:$,restoredState:ne,extras:ce}=h,We=new vc(O,this.serializeUrl(B),$,ne);i.next(We);const ft=Pu(B,this.rootComponentType).snapshot;return qe(r={...h,targetSnapshot:ft,urlAfterRedirects:B,extras:{...ce,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=h.rawUrl,h.resolve(null),cs.E}),(0,Le.b)(h=>{const _=new Ru(h.id,this.serializeUrl(h.extractedUrl),this.serializeUrl(h.urlAfterRedirects),h.targetSnapshot);this.triggerEvent(_)}),(0,Ge.U)(h=>r={...h,guards:Qf(h.targetSnapshot,h.currentSnapshot,this.rootContexts)}),function CO(n,t){return(0,I.z)(e=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:u}}=e;return 0===u.length&&0===o.length?qe({...e,guardsResult:!0}):function P0(n,t,e,i){return(0,_n.D)(n).pipe((0,I.z)(r=>function gg(n,t,e,i,r){const o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return o&&0!==o.length?qe(o.map(h=>{const _=$r(t)??r,b=wa(h,_);return us(function O0(n){return n&&Ca(n.canDeactivate)}(b)?b.canDeactivate(n,t,e,i):_.runInContext(()=>b(n,t,e,i))).pipe(ie())})).pipe(ep()):qe(!0)}(r.component,r.route,e,t,i)),ie(r=>!0!==r,!0))}(u,i,r,n).pipe((0,I.z)(h=>h&&function ml(n){return"boolean"==typeof n}(h)?function QI(n,t,e,i){return(0,_n.D)(t).pipe(Ee(r=>ls(function XI(n,t){return null!==n&&t&&t(new Ky(n)),qe(!0)}(r.route.parent,i),function JI(n,t){return null!==n&&t&&t(new Xd(n)),qe(!0)}(r.route,i),function F0(n,t,e){const i=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(u=>function pg(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(u)).filter(u=>null!==u).map(u=>cr(()=>qe(u.guards.map(_=>{const b=$r(u.node)??e,D=wa(_,b);return us(function R0(n){return n&&Ca(n.canActivateChild)}(D)?D.canActivateChild(i,n):b.runInContext(()=>D(i,n))).pipe(ie())})).pipe(ep())));return qe(o).pipe(ep())}(n,r.path,e),function eM(n,t,e){const i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||0===i.length)return qe(!0);const r=i.map(o=>cr(()=>{const u=$r(t)??e,h=wa(o,u);return us(function k0(n){return n&&Ca(n.canActivate)}(h)?h.canActivate(t,n):u.runInContext(()=>h(t,n))).pipe(ie())}));return qe(r).pipe(ep())}(n,r.route,e))),ie(r=>!0!==r,!0))}(i,o,n,t):qe(h)),(0,Ge.U)(h=>({...e,guardsResult:h})))})}(this.ngModule.injector,h=>this.triggerEvent(h)),(0,Le.b)(h=>{if(r.guardsResult=h.guardsResult,ol(h.guardsResult))throw va(0,h.guardsResult);const _=new Wy(h.id,this.serializeUrl(h.extractedUrl),this.serializeUrl(h.urlAfterRedirects),h.targetSnapshot,!!h.guardsResult);this.triggerEvent(_)}),S(h=>!!h.guardsResult||(this.restoreHistory(h),this.cancelNavigationTransition(h,"",3),!1)),av(h=>{if(h.guards.canActivateChecks.length)return qe(h).pipe((0,Le.b)(_=>{const b=new Uf(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot);this.triggerEvent(b)}),Ln(_=>{let b=!1;return qe(_).pipe(function dM(n,t){return(0,I.z)(e=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=e;if(!r.length)return qe(e);let o=0;return(0,_n.D)(r).pipe(Ee(u=>function $0(n,t,e,i){const r=n.routeConfig,o=n._resolve;return void 0!==r?.title&&!q0(r)&&(o[Jn]=r.title),function uh(n,t,e,i){const r=function hM(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===r.length)return qe({});const o={};return(0,_n.D)(r).pipe((0,I.z)(u=>function fM(n,t,e,i){const r=$r(t)??i,o=wa(n,r);return us(o.resolve?o.resolve(t,e):r.runInContext(()=>o(t,e)))}(n[u],t,e,i).pipe(ie(),(0,Le.b)(h=>{o[u]=h}))),St(1),Is(o),Xe(u=>Xf(u)?cs.E:Wi(u)))}(o,n,t,i).pipe((0,Ge.U)(u=>(n._resolvedData=u,n.data=nh(n,e).resolve,r&&q0(r)&&(n.data[Jn]=r.title),null)))}(u.route,i,n,t)),(0,Le.b)(()=>o++),St(1),(0,I.z)(u=>o===r.length?qe(e):cs.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Le.b)({next:()=>b=!0,complete:()=>{b||(this.restoreHistory(_),this.cancelNavigationTransition(_,"",2))}}))}),(0,Le.b)(_=>{const b=new Hf(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot);this.triggerEvent(b)}))}),av(h=>{const _=b=>{const D=[];b.routeConfig?.loadComponent&&!b.routeConfig._loadedComponent&&D.push(this.configLoader.loadComponent(b.routeConfig).pipe((0,Le.b)(M=>{b.component=M}),(0,Ge.U)(()=>{})));for(const M of b.children)D.push(..._(M));return D};return as(_(h.targetSnapshot.root)).pipe(x(),Et(1))}),av(()=>this.afterPreactivation()),(0,Ge.U)(h=>{const _=function Ar(n,t,e){const i=ya(n,t._root,e?e._root:void 0);return new zf(i,t)}(this.routeReuseStrategy,h.targetSnapshot,h.currentRouterState);return r={...h,targetRouterState:_}}),(0,Le.b)(h=>{this.currentUrlTree=h.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(h.urlAfterRedirects,h.rawUrl),this.routerState=h.targetRouterState,"deferred"===this.urlUpdateStrategy&&(h.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,h),this.browserUrlTree=h.urlAfterRedirects)}),((n,t,e)=>(0,Ge.U)(i=>(new Wf(t,i.targetRouterState,i.currentRouterState,e).activate(n),i)))(this.rootContexts,this.routeReuseStrategy,h=>this.triggerEvent(h)),(0,Le.b)({next(){o=!0},complete(){o=!0}}),Ro(()=>{o||u||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),Xe(h=>{if(u=!0,ba(h)){Lu(h)||(this.navigated=!0,this.restoreHistory(r,!0));const _=new Jd(r.id,this.serializeUrl(r.extractedUrl),h.message,h.cancellationCode);if(i.next(_),Lu(h)){const b=this.urlHandlingStrategy.merge(h.url,this.rawUrlTree),D={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Eg(r.source)};this.scheduleNavigation(b,"imperative",null,D,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{this.restoreHistory(r,!0);const _=new cg(r.id,this.serializeUrl(r.extractedUrl),h,r.targetSnapshot??void 0);i.next(_);try{r.resolve(this.errorHandler(h))}catch(b){r.reject(b)}}return cs.E}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}setTransition(e){this.transitions.next({...this.transitions.value,...e})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const i="popstate"===e.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{const r={replaceUrl:!0},o=e.state?.navigationId?e.state:null;if(o){const h={...o};delete h.navigationId,delete h.\u0275routerPageId,0!==Object.keys(h).length&&(r.state=h)}const u=this.parseUrl(e.url);this.scheduleNavigation(u,i,o,r)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){this.config=e.map(yt),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,i={}){const{relativeTo:r,queryParams:o,fragment:u,queryParamsHandling:h,preserveFragment:_}=i,b=r||this.routerState.root,D=_?this.currentUrlTree.fragment:u;let M=null;switch(h){case"merge":M={...this.currentUrlTree.queryParams,...o};break;case"preserve":M=this.currentUrlTree.queryParams;break;default:M=o||null}return null!==M&&(M=this.removeEmptyProps(M)),qy(b,this.currentUrlTree,e,M,D??null)}navigateByUrl(e,i={skipLocationChange:!1}){const r=ol(e)?e:this.parseUrl(e),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,"imperative",null,i)}navigate(e,i={skipLocationChange:!1}){return function wM(n){for(let t=0;t<n.length;t++){if(null==n[t])throw new s.vHH(4008,false)}}(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let i;try{i=this.urlSerializer.parse(e)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,e)}return i}isActive(e,i){let r;if(r=!0===i?{...bM}:!1===i?{...K0}:i,ol(e))return Py(this.currentUrlTree,e,r);const o=this.parseUrl(e);return Py(this.currentUrlTree,o,r)}removeEmptyProps(e){return Object.keys(e).reduce((i,r)=>{const o=e[r];return null!=o&&(i[r]=o),i},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new dl(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,i,r,o,u){if(this.disposed)return Promise.resolve(!1);let h,_,b;u?(h=u.resolve,_=u.reject,b=u.promise):b=new Promise((O,B)=>{h=O,_=B});const D=++this.navigationId;let M;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(r=this.location.getState()),M=r&&r.\u0275routerPageId?r.\u0275routerPageId:o.replaceUrl||o.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):M=0,this.setTransition({id:D,targetPageId:M,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:o,resolve:h,reject:_,promise:b,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),b.catch(O=>Promise.reject(O))}setBrowserUrl(e,i){const r=this.urlSerializer.serialize(e),o={...i.extras.state,...this.generateNgRouterState(i.id,i.targetPageId)};this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl?this.location.replaceState(r,"",o):this.location.go(r,"",o)}restoreHistory(e,i=!1){if("computed"===this.canceledNavigationResolution){const r=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===r?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===r&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(r)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,i,r){const o=new Jd(e.id,this.serializeUrl(e.extractedUrl),i,r);this.triggerEvent(o),e.resolve(!1)}generateNgRouterState(e,i){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}}return n.\u0275fac=function(e){s.$Z()},n.\u0275prov=s.Yz7({token:n,factory:function(){return Dg()},providedIn:"root"}),n})();function Eg(n){return"imperative"!==n}let ju=(()=>{class n{constructor(e,i,r,o,u){this.router=e,this.route=i,this.tabIndexAttribute=r,this.renderer=o,this.el=u,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.onChanges=new Ze.x,this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(e){this._preserveFragment=(0,s.D6c)(e)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(e){this._skipLocationChange=(0,s.D6c)(e)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(e){this._replaceUrl=(0,s.D6c)(e)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(e){if(null!=this.tabIndexAttribute)return;const i=this.renderer,r=this.el.nativeElement;null!==e?i.setAttribute(r,"tabindex",e):i.removeAttribute(r,"tabindex")}ngOnChanges(e){this.onChanges.next(this)}set routerLink(e){null!=e?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){return null===this.urlTree||this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(gi),s.Y36(ds),s.$8M("tabindex"),s.Y36(s.Qsj),s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(e,i){1&e&&s.NdJ("click",function(){return i.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[s.TTD]}),n})(),Sg=(()=>{class n{constructor(e,i,r){this.router=e,this.route=i,this.locationStrategy=r,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.href=null,this.onChanges=new Ze.x,this.subscription=e.events.subscribe(o=>{o instanceof dl&&this.updateTargetUrlAndHref()})}set preserveFragment(e){this._preserveFragment=(0,s.D6c)(e)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(e){this._skipLocationChange=(0,s.D6c)(e)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(e){this._replaceUrl=(0,s.D6c)(e)}get replaceUrl(){return this._replaceUrl}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:null}ngOnChanges(e){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(e,i,r,o,u){return!!(0!==e||i||r||o||u||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!1)}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(gi),s.Y36(ds),s.Y36(_e))},n.\u0275dir=s.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(e,i){1&e&&s.NdJ("click",function(o){return i.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),2&e&&s.uIk("target",i.target)("href",i.href,s.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[s.TTD]}),n})(),J0=(()=>{class n{constructor(e,i,r,o,u,h){this.router=e,this.element=i,this.renderer=r,this.cdr=o,this.link=u,this.linkWithHref=h,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new s.vpe,this.routerEventsSubscription=e.events.subscribe(_=>{_ instanceof dl&&this.update()})}ngAfterContentInit(){qe(this.links.changes,this.linksWithHrefs.changes,qe(null)).pipe((0,fc.J)()).subscribe(e=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const e=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(i=>!!i).map(i=>i.onChanges);this.linkInputChangesSubscription=(0,_n.D)(e).pipe((0,fc.J)()).subscribe(i=>{this.isActive!==this.isLinkActive(this.router)(i)&&this.update()})}set routerLinkActive(e){const i=Array.isArray(e)?e:e.split(" ");this.classes=i.filter(r=>!!r)}ngOnChanges(e){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const e=this.hasActiveLinks();this.isActive!==e&&(this.isActive=e,this.cdr.markForCheck(),this.classes.forEach(i=>{e?this.renderer.addClass(this.element.nativeElement,i):this.renderer.removeClass(this.element.nativeElement,i)}),e&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(e))})}isLinkActive(e){const i=function CM(n){return!!n.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return r=>!!r.urlTree&&e.isActive(r.urlTree,i)}hasActiveLinks(){const e=this.isLinkActive(this.router);return this.link&&e(this.link)||this.linkWithHref&&e(this.linkWithHref)||this.links.some(e)||this.linksWithHrefs.some(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(gi),s.Y36(s.SBq),s.Y36(s.Qsj),s.Y36(s.sBO),s.Y36(ju,8),s.Y36(Sg,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(e,i,r){if(1&e&&(s.Suo(r,ju,5),s.Suo(r,Sg,5)),2&e){let o;s.iGM(o=s.CRH())&&(i.links=o),s.iGM(o=s.CRH())&&(i.linksWithHrefs=o)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[s.TTD]}),n})();class X0{}let DM=(()=>{class n{constructor(e,i,r,o,u){this.router=e,this.injector=r,this.preloadingStrategy=o,this.loader=u}setUpPreloading(){this.subscription=this.router.events.pipe(S(e=>e instanceof dl),Ee(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){const r=[];for(const o of i){o.providers&&!o._injector&&(o._injector=(0,s.MMx)(o.providers,e,`Route: ${o.path}`));const u=o._injector??e,h=o._loadedInjector??u;o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent?r.push(this.preloadConfig(u,o)):(o.children||o._loadedRoutes)&&r.push(this.processRoutes(h,o.children??o._loadedRoutes))}return(0,_n.D)(r).pipe((0,fc.J)())}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(e,i):qe(null);const o=r.pipe((0,I.z)(u=>null===u?qe(void 0):(i._loadedRoutes=u.routes,i._loadedInjector=u.injector,this.processRoutes(u.injector??e,u.routes))));if(i.loadComponent&&!i._loadedComponent){const u=this.loader.loadComponent(i);return(0,_n.D)([o,u]).pipe((0,fc.J)())}return o})}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(gi),s.LFG(s.Sil),s.LFG(s.lqb),s.LFG(X0),s.LFG(Hu))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Sc=new s.OlP("");let Da=(()=>{class n{constructor(e,i,r={}){this.router=e,this.viewportScroller=i,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof vc?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof dl&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof Lo&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.router.triggerEvent(new Lo(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(e){s.$Z()},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();function rp(n,t){return{\u0275kind:n,\u0275providers:t}}function Mg(n){return[{provide:Ec,multi:!0,useValue:n}]}function lv(){const n=(0,s.f3M)(s.zs3);return t=>{const e=n.get(s.z2F);if(t!==e.components[0])return;const i=n.get(gi),r=n.get(SM);1===n.get(Tg)&&i.initialNavigation(),n.get(tC,null,s.XFs.Optional)?.setUpPreloading(),n.get(Sc,null,s.XFs.Optional)?.init(),i.resetRootComponentType(e.componentTypes[0]),r.closed||(r.next(),r.unsubscribe())}}const SM=new s.OlP("",{factory:()=>new Ze.x}),Tg=new s.OlP("",{providedIn:"root",factory:()=>1});const tC=new s.OlP("");function Vo(n){return rp(0,[{provide:tC,useExisting:DM},{provide:X0,useExisting:n}])}const nC=new s.OlP("ROUTER_FORROOT_GUARD"),TM=[Te,{provide:Nf,useClass:Su},{provide:gi,useFactory:Dg},Vu,{provide:ds,useFactory:function EM(n){return n.routerState.root},deps:[gi]},Hu];function AM(){return new s.PXZ("Router",gi)}let cv=(()=>{class n{constructor(e){}static forRoot(e,i){return{ngModule:n,providers:[TM,[],Mg(e),{provide:nC,useFactory:zt,deps:[[gi,new s.FiY,new s.tp0]]},{provide:Dc,useValue:i||{}},i?.useHash?{provide:_e,useClass:at}:{provide:_e,useClass:tt},{provide:Sc,useFactory:()=>{const n=(0,s.f3M)(gi),t=(0,s.f3M)(Ll),e=(0,s.f3M)(Dc);return e.scrollOffset&&t.setOffset(e.scrollOffset),new Da(n,t,e)}},i?.preloadingStrategy?Vo(i.preloadingStrategy).\u0275providers:[],{provide:s.PXZ,multi:!0,useFactory:AM},i?.initialNavigation?iC(i):[],[{provide:uv,useFactory:lv},{provide:s.tb,multi:!0,useExisting:uv}]]}}static forChild(e){return{ngModule:n,providers:[Mg(e)]}}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(nC,8))},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[p]}),n})();function zt(n){return"guarded"}function iC(n){return["disabled"===n.initialNavigation?rp(3,[{provide:s.ip1,multi:!0,useFactory:()=>{const t=(0,s.f3M)(gi);return()=>{t.setUpLocationChangeListener()}}},{provide:Tg,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?rp(2,[{provide:Tg,useValue:0},{provide:s.ip1,multi:!0,deps:[s.zs3],useFactory:t=>{const e=t.get(H,Promise.resolve());let i=!1;return()=>e.then(()=>new Promise(o=>{const u=t.get(gi),h=t.get(SM);(function r(o){t.get(gi).events.pipe(S(h=>h instanceof dl||h instanceof Jd||h instanceof cg),(0,Ge.U)(h=>h instanceof dl||h instanceof Jd&&(0===h.code||1===h.code)&&null),S(h=>null!==h),Et(1)).subscribe(()=>{o()})})(()=>{o(!0),i=!0}),u.afterPreactivation=()=>(o(!0),i||h.closed?qe(void 0):h),u.initialNavigation()}))}}]).\u0275providers:[]]}const uv=new s.OlP("");function Mt(n){return null!=n&&"false"!=`${n}`}function xr(n,t=0){return sC(n)?Number(n):t}function sC(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}function op(n){return Array.isArray(n)?n:[n]}function xi(n){return null==n?"":"string"==typeof n?n:`${n}px`}function gl(n){return n instanceof s.SBq?n.nativeElement:n}var oC=F(1144);const aC=["addListener","removeListener"],Gu=["addEventListener","removeEventListener"],OM=["on","off"];function Ic(n,t,e,i){if((0,Bi.m)(e)&&(i=e,e=void 0),i)return Ic(n,t,e).pipe(fa(i));const[r,o]=function OO(n){return(0,Bi.m)(n.addEventListener)&&(0,Bi.m)(n.removeEventListener)}(n)?Gu.map(u=>h=>n[u](t,h,e)):function PM(n){return(0,Bi.m)(n.addListener)&&(0,Bi.m)(n.removeListener)}(n)?aC.map(Ag(n,t)):function RO(n){return(0,Bi.m)(n.on)&&(0,Bi.m)(n.off)}(n)?OM.map(Ag(n,t)):[];if(!r&&(0,oC.z)(n))return(0,I.z)(u=>Ic(u,t,e))((0,zr.Xf)(n));if(!r)throw new TypeError("Invalid event target");return new jn.y(u=>{const h=(..._)=>u.next(1<_.length?_:_[0]);return r(h),()=>o(h)})}function Ag(n,t){return e=>i=>n[e](t,i)}var FM=F(4408);const ap={schedule(n){let t=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:i}=ap;i&&(t=i.requestAnimationFrame,e=i.cancelAnimationFrame);const r=t(o=>{e=void 0,n(o)});return new on.w0(()=>e?.(r))},requestAnimationFrame(...n){const{delegate:t}=ap;return(t?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:t}=ap;return(t?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};var NM=F(7565);new class LM extends NM.v{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class lC extends FM.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=ap.requestAnimationFrame(()=>t.flush(void 0))))}recycleAsyncId(t,e,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(t,e,i);const{actions:o}=t;null!=e&&(null===(r=o[o.length-1])||void 0===r?void 0:r.id)!==e&&(ap.cancelAnimationFrame(e),t._scheduled=void 0)}});let hh,cC=1;const xg={};function dv(n){return n in xg&&(delete xg[n],!0)}const VM={setImmediate(n){const t=cC++;return xg[t]=!0,hh||(hh=Promise.resolve()),hh.then(()=>dv(t)&&n()),t},clearImmediate(n){dv(n)}},{setImmediate:BM,clearImmediate:UM}=VM,kg={setImmediate(...n){const{delegate:t}=kg;return(t?.setImmediate||BM)(...n)},clearImmediate(n){const{delegate:t}=kg;return(t?.clearImmediate||UM)(n)},delegate:void 0},Rg=new class HM extends NM.v{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class uC extends FM.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=kg.setImmediate(t.flush.bind(t,void 0))))}recycleAsyncId(t,e,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(t,e,i);const{actions:o}=t;null!=e&&(null===(r=o[o.length-1])||void 0===r?void 0:r.id)!==e&&(kg.clearImmediate(e),t._scheduled=void 0)}});var zu=F(4986),hv=F(3532);function zM(n=0,t,e=zu.P){let i=-1;return null!=t&&((0,hv.K)(t)?e=t:i=t),new jn.y(r=>{let o=function GM(n){return n instanceof Date&&!isNaN(n)}(n)?+n-e.now():n;o<0&&(o=0);let u=0;return e.schedule(function(){r.closed||(r.next(u++),0<=i?this.schedule(void 0,i):r.complete())},o)})}function $u(n,t=zu.z){return function NO(n){return(0,ii.e)((t,e)=>{let i=!1,r=null,o=null,u=!1;const h=()=>{if(o?.unsubscribe(),o=null,i){i=!1;const b=r;r=null,e.next(b)}u&&e.complete()},_=()=>{o=null,u&&e.complete()};t.subscribe((0,Nn.x)(e,b=>{i=!0,r=b,o||(0,zr.Xf)(n(b)).subscribe(o=(0,Nn.x)(e,h,_))},()=>{u=!0,(!i||!o||o.closed)&&e.complete()}))})}(()=>zM(n,t))}var fv=F(5032);function Vt(n){return(0,ii.e)((t,e)=>{(0,zr.Xf)(n).subscribe((0,Nn.x)(e,()=>e.complete(),fv.Z)),!e.closed&&t.subscribe(e)})}let fh;try{fh=typeof Intl<"u"&&Intl.v8BreakIterator}catch{fh=!1}let ph,En=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?function iu(n){return n===vs}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!fh)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.Lbi))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Og=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function Ea(){if(ph)return ph;if("object"!=typeof document||!document)return ph=new Set(Og),ph;let n=document.createElement("input");return ph=new Set(Og.filter(t=>(n.setAttribute("type",t),n.type===t))),ph}let qu,pv,Tc,mh;function Mc(n){return function dC(){if(null==qu&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>qu=!0}))}finally{qu=qu||!1}return qu}()?n:!!n.capture}function qM(){if(null==Tc){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Tc=!1,Tc;if("scrollBehavior"in document.documentElement.style)Tc=!0;else{const n=Element.prototype.scrollTo;Tc=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return Tc}function Ac(){if("object"!=typeof document||!document)return 0;if(null==pv){const n=document.createElement("div"),t=n.style;n.dir="rtl",t.width="1px",t.overflow="auto",t.visibility="hidden",t.pointerEvents="none",t.position="absolute";const e=document.createElement("div"),i=e.style;i.width="2px",i.height="1px",n.appendChild(e),document.body.appendChild(n),pv=0,0===n.scrollLeft&&(n.scrollLeft=1,pv=0===n.scrollLeft?1:2),n.remove()}return pv}function Zu(){let n=typeof document<"u"&&document?document.activeElement:null;for(;n&&n.shadowRoot;){const t=n.shadowRoot.activeElement;if(t===n)break;n=t}return n}function gh(n){return n.composedPath?n.composedPath()[0]:n.target}function _v(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}const ZM=new s.OlP("cdk-dir-doc",{providedIn:"root",factory:function YM(){return(0,s.f3M)(te)}}),WM=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let qr=(()=>{class n{constructor(e){if(this.value="ltr",this.change=new s.vpe,e){const r=e.documentElement?e.documentElement.dir:null;this.value=function hC(n){const t=n?.toLowerCase()||"";return"auto"===t&&typeof navigator<"u"&&navigator?.language?WM.test(navigator.language)?"rtl":"ltr":"rtl"===t?"rtl":"ltr"}((e.body?e.body.dir:null)||r||"ltr")}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ZM,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Pg=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})(),Fg=(()=>{class n{constructor(e,i,r){this._ngZone=e,this._platform=i,this._scrolled=new Ze.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const i=this.scrollContainers.get(e);i&&(i.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new jn.y(i=>{this._globalSubscription||this._addGlobalListener();const r=e>0?this._scrolled.pipe($u(e)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):qe()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(e,i){const r=this.getAncestorScrollContainers(e);return this.scrolled(i).pipe(S(o=>!o||r.indexOf(o)>-1))}getAncestorScrollContainers(e){const i=[];return this.scrollContainers.forEach((r,o)=>{this._scrollableContainsElement(o,e)&&i.push(o)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,i){let r=gl(i),o=e.getElementRef().nativeElement;do{if(r==o)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Ic(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.R0b),s.LFG(En),s.LFG(te,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Ng=(()=>{class n{constructor(e,i,r,o){this.elementRef=e,this.scrollDispatcher=i,this.ngZone=r,this.dir=o,this._destroyed=new Ze.x,this._elementScrolled=new jn.y(u=>this.ngZone.runOutsideAngular(()=>Ic(this.elementRef.nativeElement,"scroll").pipe(Vt(this._destroyed)).subscribe(u)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(e){const i=this.elementRef.nativeElement,r=this.dir&&"rtl"==this.dir.value;null==e.left&&(e.left=r?e.end:e.start),null==e.right&&(e.right=r?e.start:e.end),null!=e.bottom&&(e.top=i.scrollHeight-i.clientHeight-e.bottom),r&&0!=Ac()?(null!=e.left&&(e.right=i.scrollWidth-i.clientWidth-e.left),2==Ac()?e.left=e.right:1==Ac()&&(e.left=e.right?-e.right:e.right)):null!=e.right&&(e.left=i.scrollWidth-i.clientWidth-e.right),this._applyScrollToOptions(e)}_applyScrollToOptions(e){const i=this.elementRef.nativeElement;qM()?i.scrollTo(e):(null!=e.top&&(i.scrollTop=e.top),null!=e.left&&(i.scrollLeft=e.left))}measureScrollOffset(e){const i="left",r="right",o=this.elementRef.nativeElement;if("top"==e)return o.scrollTop;if("bottom"==e)return o.scrollHeight-o.clientHeight-o.scrollTop;const u=this.dir&&"rtl"==this.dir.value;return"start"==e?e=u?r:i:"end"==e&&(e=u?i:r),u&&2==Ac()?e==i?o.scrollWidth-o.clientWidth-o.scrollLeft:o.scrollLeft:u&&1==Ac()?e==i?o.scrollLeft+o.scrollWidth-o.clientWidth:-o.scrollLeft:e==i?o.scrollLeft:o.scrollWidth-o.clientWidth-o.scrollLeft}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(Fg),s.Y36(s.R0b),s.Y36(qr,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]}),n})(),Lg=(()=>{class n{constructor(e,i,r){this._platform=e,this._change=new Ze.x,this._changeListener=o=>{this._change.next(o)},this._document=r,i.runOutsideAngular(()=>{if(e.isBrowser){const o=this._getWindow();o.addEventListener("resize",this._changeListener),o.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+r,right:e.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,i=this._getWindow(),r=e.documentElement,o=r.getBoundingClientRect();return{top:-o.top||e.body.scrollTop||i.scrollY||r.scrollTop||0,left:-o.left||e.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(e=20){return e>0?this._change.pipe($u(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(En),s.LFG(s.R0b),s.LFG(te,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),xc=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})(),Vg=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[Pg,xc],Pg,xc]}),n})();class yv{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class kc extends yv{constructor(t,e,i,r){super(),this.component=t,this.viewContainerRef=e,this.injector=i,this.componentFactoryResolver=r}}class _h extends yv{constructor(t,e,i){super(),this.templateRef=t,this.viewContainerRef=e,this.context=i}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class eT extends yv{constructor(t){super(),this.element=t instanceof s.SBq?t.nativeElement:t}}class Bg{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof kc?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof _h?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof eT?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class yh extends Bg{constructor(t,e,i,r,o){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=u=>{const h=u.element,_=this._document.createComment("dom-portal");h.parentNode.insertBefore(_,h),this.outletElement.appendChild(h),this._attachedPortal=u,super.setDisposeFn(()=>{_.parentNode&&_.parentNode.replaceChild(h,_)})},this._document=o}attachComponentPortal(t){const i=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let r;return t.viewContainerRef?(r=t.viewContainerRef.createComponent(i,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector),this.setDisposeFn(()=>r.destroy())):(r=i.create(t.injector||this._defaultInjector||s.zs3.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=t,r}attachTemplatePortal(t){let e=t.viewContainerRef,i=e.createEmbeddedView(t.templateRef,t.context);return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=e.indexOf(i);-1!==r&&e.remove(r)}),this._attachedPortal=t,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let _l=(()=>{class n extends Bg{constructor(e,i,r){super(),this._componentFactoryResolver=e,this._viewContainerRef=i,this._isInitialized=!1,this.attached=new s.vpe,this.attachDomPortal=o=>{const u=o.element,h=this._document.createComment("dom-portal");o.setAttachedHost(this),u.parentNode.insertBefore(h,u),this._getRootNode().appendChild(u),this._attachedPortal=o,super.setDisposeFn(()=>{h.parentNode&&h.parentNode.replaceChild(u,h)})},this._document=r}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(e){e.setAttachedHost(this);const i=null!=e.viewContainerRef?e.viewContainerRef:this._viewContainerRef,o=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),u=i.createComponent(o,i.length,e.injector||i.injector);return i!==this._viewContainerRef&&this._getRootNode().appendChild(u.hostView.rootNodes[0]),super.setDisposeFn(()=>u.destroy()),this._attachedPortal=e,this._attachedRef=u,this.attached.emit(u),u}attachTemplatePortal(e){e.setAttachedHost(this);const i=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=i,this.attached.emit(i),i}_getRootNode(){const e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s._Vd),s.Y36(s.s_b),s.Y36(te))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[s.qOj]}),n})(),cp=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();var dr=F(6451);function hr(n,...t){return t.length?t.some(e=>n[e]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}const vp=qM();class Tv{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=xi(-this._previousScrollPosition.left),t.style.top=xi(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,i=t.style,r=this._document.body.style,o=i.scrollBehavior||"",u=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),vp&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),vp&&(i.scrollBehavior=o,r.scrollBehavior=u)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,i=this._viewportRuler.getViewportSize();return e.scrollHeight>i.height||e.scrollWidth>i.width}}class qg{constructor(t,e,i,r){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class bp{enable(){}disable(){}attach(){}}function wp(n,t){return t.some(e=>n.bottom<e.top||n.top>e.bottom||n.right<e.left||n.left>e.right)}function Av(n,t){return t.some(e=>n.top<e.top||n.bottom>e.bottom||n.left<e.left||n.right>e.right)}class xv{constructor(t,e,i,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();wp(e,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let NC=(()=>{class n{constructor(e,i,r,o){this._scrollDispatcher=e,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new bp,this.close=u=>new qg(this._scrollDispatcher,this._ngZone,this._viewportRuler,u),this.block=()=>new Tv(this._viewportRuler,this._document),this.reposition=u=>new xv(this._scrollDispatcher,this._viewportRuler,this._ngZone,u),this._document=o}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Fg),s.LFG(Lg),s.LFG(s.R0b),s.LFG(te))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Ku{constructor(t){if(this.scrollStrategy=new bp,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const i of e)void 0!==t[i]&&(this[i]=t[i])}}}class xT{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}let kv=(()=>{class n{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const i=this._attachedOverlays.indexOf(e);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(te))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),BC=(()=>{class n extends kv{constructor(e,i){super(e),this._ngZone=i,this._keydownListener=r=>{const o=this._attachedOverlays;for(let u=o.length-1;u>-1;u--)if(o[u]._keydownEvents.observers.length>0){const h=o[u]._keydownEvents;this._ngZone?this._ngZone.run(()=>h.next(r)):h.next(r);break}}}add(e){super.add(e),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(te),s.LFG(s.R0b,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),OT=(()=>{class n extends kv{constructor(e,i,r){super(e),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=o=>{this._pointerDownEventTarget=gh(o)},this._clickListener=o=>{const u=gh(o),h="click"===o.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:u;this._pointerDownEventTarget=null;const _=this._attachedOverlays.slice();for(let b=_.length-1;b>-1;b--){const D=_[b];if(D._outsidePointerEvents.observers.length<1||!D.hasAttached())continue;if(D.overlayElement.contains(u)||D.overlayElement.contains(h))break;const M=D._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>M.next(o)):M.next(o)}}}add(e){if(super.add(e),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(e){e.addEventListener("pointerdown",this._pointerDownListener,!0),e.addEventListener("click",this._clickListener,!0),e.addEventListener("auxclick",this._clickListener,!0),e.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(te),s.LFG(En),s.LFG(s.R0b,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Zg=(()=>{class n{constructor(e,i){this._platform=i,this._document=e}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||_v()){const r=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let o=0;o<r.length;o++)r[o].remove()}const i=this._document.createElement("div");i.classList.add(e),_v()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(te),s.LFG(En))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class UC{constructor(t,e,i,r,o,u,h,_,b){this._portalOutlet=t,this._host=e,this._pane=i,this._config=r,this._ngZone=o,this._keyboardDispatcher=u,this._document=h,this._location=_,this._outsideClickDispatcher=b,this._backdropElement=null,this._backdropClick=new Ze.x,this._attachments=new Ze.x,this._detachments=new Ze.x,this._locationChanges=on.w0.EMPTY,this._backdropClickHandler=D=>this._backdropClick.next(D),this._backdropTransitionendHandler=D=>{this._disposeBackdrop(D.target)},this._keydownEvents=new Ze.x,this._outsidePointerEvents=new Ze.x,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const e=this._portalOutlet.attach(t);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(Et(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config={...this._config,...t},this._updateElementSize()}setDirection(t){this._config={...this._config,direction:t},this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=xi(this._config.width),t.height=xi(this._config.height),t.minWidth=xi(this._config.minWidth),t.minHeight=xi(this._config.minHeight),t.maxWidth=xi(this._config.maxWidth),t.maxHeight=xi(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const t=this._backdropElement;!t||(t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",this._backdropTransitionendHandler)}),t.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(t)},500)))}_toggleClasses(t,e,i){const r=op(e||[]).filter(o=>!!o);r.length&&(i?t.classList.add(...r):t.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe(Vt((0,dr.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",this._backdropTransitionendHandler),t.remove(),this._backdropElement===t&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const Rv="cdk-overlay-connected-position-bounding-box",Ov=/([A-Za-z%]+)$/;class Pv{constructor(t,e,i,r,o){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=o,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Ze.x,this._resizeSubscription=on.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}get positions(){return this._preferredPositions}attach(t){this._validatePositions(),t.hostElement.classList.add(Rv),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._originRect,e=this._overlayRect,i=this._viewportRect,r=this._containerRect,o=[];let u;for(let h of this._preferredPositions){let _=this._getOriginPoint(t,r,h),b=this._getOverlayPoint(_,e,h),D=this._getOverlayFit(b,e,i,h);if(D.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(h,_);this._canFitWithFlexibleDimensions(D,b,i)?o.push({position:h,origin:_,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(_,h)}):(!u||u.overlayFit.visibleArea<D.visibleArea)&&(u={overlayFit:D,overlayPoint:b,originPoint:_,position:h,overlayRect:e})}if(o.length){let h=null,_=-1;for(const b of o){const D=b.boundingBoxRect.width*b.boundingBoxRect.height*(b.position.weight||1);D>_&&(_=D,h=b)}return this._isPushed=!1,void this._applyPosition(h.position,h.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(u.position,u.originPoint);this._applyPosition(u.position,u.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Pc(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(Rv),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const t=this._lastPosition;if(t){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._getOriginPoint(this._originRect,this._containerRect,t);this._applyPosition(t,e)}else this.apply()}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e,i){let r,o;if("center"==i.originX)r=t.left+t.width/2;else{const u=this._isRtl()?t.right:t.left,h=this._isRtl()?t.left:t.right;r="start"==i.originX?u:h}return e.left<0&&(r-=e.left),o="center"==i.originY?t.top+t.height/2:"top"==i.originY?t.top:t.bottom,e.top<0&&(o-=e.top),{x:r,y:o}}_getOverlayPoint(t,e,i){let r,o;return r="center"==i.overlayX?-e.width/2:"start"===i.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,o="center"==i.overlayY?-e.height/2:"top"==i.overlayY?0:-e.height,{x:t.x+r,y:t.y+o}}_getOverlayFit(t,e,i,r){const o=Nv(e);let{x:u,y:h}=t,_=this._getOffset(r,"x"),b=this._getOffset(r,"y");_&&(u+=_),b&&(h+=b);let O=0-h,B=h+o.height-i.height,$=this._subtractOverflows(o.width,0-u,u+o.width-i.width),ne=this._subtractOverflows(o.height,O,B),ce=$*ne;return{visibleArea:ce,isCompletelyWithinViewport:o.width*o.height===ce,fitsInViewportVertically:ne===o.height,fitsInViewportHorizontally:$==o.width}}_canFitWithFlexibleDimensions(t,e,i){if(this._hasFlexibleDimensions){const r=i.bottom-e.y,o=i.right-e.x,u=Fv(this._overlayRef.getConfig().minHeight),h=Fv(this._overlayRef.getConfig().minWidth),b=t.fitsInViewportHorizontally||null!=h&&h<=o;return(t.fitsInViewportVertically||null!=u&&u<=r)&&b}return!1}_pushOverlayOnScreen(t,e,i){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const r=Nv(e),o=this._viewportRect,u=Math.max(t.x+r.width-o.width,0),h=Math.max(t.y+r.height-o.height,0),_=Math.max(o.top-i.top-t.y,0),b=Math.max(o.left-i.left-t.x,0);let D=0,M=0;return D=r.width<=o.width?b||-u:t.x<this._viewportMargin?o.left-i.left-t.x:0,M=r.height<=o.height?_||-h:t.y<this._viewportMargin?o.top-i.top-t.y:0,this._previousPushAmount={x:D,y:M},{x:t.x+D,y:t.y+M}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const i=this._getScrollVisibility(),r=new xT(t,i);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=t.overlayY;i="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let o=0;o<e.length;o++)e[o].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(t,e){const i=this._viewportRect,r=this._isRtl();let o,u,h,D,M,O;if("top"===e.overlayY)u=t.y,o=i.height-u+this._viewportMargin;else if("bottom"===e.overlayY)h=i.height-t.y+2*this._viewportMargin,o=i.height-h+this._viewportMargin;else{const B=Math.min(i.bottom-t.y+i.top,t.y),$=this._lastBoundingBoxSize.height;o=2*B,u=t.y-B,o>$&&!this._isInitialRender&&!this._growAfterOpen&&(u=t.y-$/2)}if("end"===e.overlayX&&!r||"start"===e.overlayX&&r)O=i.width-t.x+this._viewportMargin,D=t.x-this._viewportMargin;else if("start"===e.overlayX&&!r||"end"===e.overlayX&&r)M=t.x,D=i.right-t.x;else{const B=Math.min(i.right-t.x+i.left,t.x),$=this._lastBoundingBoxSize.width;D=2*B,M=t.x-B,D>$&&!this._isInitialRender&&!this._growAfterOpen&&(M=t.x-$/2)}return{top:u,left:M,bottom:h,right:O,width:D,height:o}}_setBoundingBoxStyles(t,e){const i=this._calculateBoundingBoxRect(t,e);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const o=this._overlayRef.getConfig().maxHeight,u=this._overlayRef.getConfig().maxWidth;r.height=xi(i.height),r.top=xi(i.top),r.bottom=xi(i.bottom),r.width=xi(i.width),r.left=xi(i.left),r.right=xi(i.right),r.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",r.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",o&&(r.maxHeight=xi(o)),u&&(r.maxWidth=xi(u))}this._lastBoundingBoxSize=i,Pc(this._boundingBox.style,r)}_resetBoundingBoxStyles(){Pc(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Pc(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const i={},r=this._hasExactPosition(),o=this._hasFlexibleDimensions,u=this._overlayRef.getConfig();if(r){const D=this._viewportRuler.getViewportScrollPosition();Pc(i,this._getExactOverlayY(e,t,D)),Pc(i,this._getExactOverlayX(e,t,D))}else i.position="static";let h="",_=this._getOffset(e,"x"),b=this._getOffset(e,"y");_&&(h+=`translateX(${_}px) `),b&&(h+=`translateY(${b}px)`),i.transform=h.trim(),u.maxHeight&&(r?i.maxHeight=xi(u.maxHeight):o&&(i.maxHeight="")),u.maxWidth&&(r?i.maxWidth=xi(u.maxWidth):o&&(i.maxWidth="")),Pc(this._pane.style,i)}_getExactOverlayY(t,e,i){let r={top:"",bottom:""},o=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),"bottom"===t.overlayY?r.bottom=this._document.documentElement.clientHeight-(o.y+this._overlayRect.height)+"px":r.top=xi(o.y),r}_getExactOverlayX(t,e,i){let u,r={left:"",right:""},o=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),u=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===u?r.right=this._document.documentElement.clientWidth-(o.x+this._overlayRect.width)+"px":r.left=xi(o.x),r}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:Av(t,i),isOriginOutsideView:wp(t,i),isOverlayClipped:Av(e,i),isOverlayOutsideView:wp(e,i)}}_subtractOverflows(t,...e){return e.reduce((i,r)=>i-Math.max(r,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+t-this._viewportMargin,bottom:i.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?t.offsetX??this._offsetX:t.offsetY??this._offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&op(t).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof s.SBq)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,i=t.height||0;return{top:t.y,bottom:t.y+i,left:t.x,right:t.x+e,height:i,width:e}}}function Pc(n,t){for(let e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}function Fv(n){if("number"!=typeof n&&null!=n){const[t,e]=n.split(Ov);return e&&"px"!==e?null:parseFloat(t)}return n||null}function Nv(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const Lv="cdk-global-overlay-wrapper";class HC{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(Lv),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._rightOffset="",this._leftOffset=t,this._justifyContent="flex-start",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._leftOffset="",this._rightOffset=t,this._justifyContent="flex-end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._justifyContent="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:o,maxWidth:u,maxHeight:h}=i,_=!("100%"!==r&&"100vw"!==r||u&&"100%"!==u&&"100vw"!==u),b=!("100%"!==o&&"100vh"!==o||h&&"100%"!==h&&"100vh"!==h);t.position=this._cssPosition,t.marginLeft=_?"0":this._leftOffset,t.marginTop=b?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=this._rightOffset,_?e.justifyContent="flex-start":"center"===this._justifyContent?e.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?e.justifyContent="flex-end":"flex-end"===this._justifyContent&&(e.justifyContent="flex-start"):e.justifyContent=this._justifyContent,e.alignItems=b?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,i=e.style;e.classList.remove(Lv),i.justifyContent=i.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let jC=(()=>{class n{constructor(e,i,r,o){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=o}global(){return new HC}flexibleConnectedTo(e){return new Pv(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Lg),s.LFG(te),s.LFG(En),s.LFG(Zg))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),GC=0,As=(()=>{class n{constructor(e,i,r,o,u,h,_,b,D,M,O){this.scrollStrategies=e,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=o,this._keyboardDispatcher=u,this._injector=h,this._ngZone=_,this._document=b,this._directionality=D,this._location=M,this._outsideClickDispatcher=O}create(e){const i=this._createHostElement(),r=this._createPaneElement(i),o=this._createPortalOutlet(r),u=new Ku(e);return u.direction=u.direction||this._directionality.value,new UC(o,i,r,u,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(e){const i=this._document.createElement("div");return i.id="cdk-overlay-"+GC++,i.classList.add("cdk-overlay-pane"),e.appendChild(i),i}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(s.z2F)),new yh(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(NC),s.LFG(Zg),s.LFG(s._Vd),s.LFG(jC),s.LFG(BC),s.LFG(s.zs3),s.LFG(s.R0b),s.LFG(te),s.LFG(qr),s.LFG(Te),s.LFG(OT))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const PT=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],zC=new s.OlP("cdk-connected-overlay-scroll-strategy");let Vv=(()=>{class n{constructor(e){this.elementRef=e}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"]}),n})(),$C=(()=>{class n{constructor(e,i,r,o,u){this._overlay=e,this._dir=u,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=on.w0.EMPTY,this._attachSubscription=on.w0.EMPTY,this._detachSubscription=on.w0.EMPTY,this._positionSubscription=on.w0.EMPTY,this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.backdropClick=new s.vpe,this.positionChange=new s.vpe,this.attach=new s.vpe,this.detach=new s.vpe,this.overlayKeydown=new s.vpe,this.overlayOutsideClick=new s.vpe,this._templatePortal=new _h(i,r),this._scrollStrategyFactory=o,this.scrollStrategy=this._scrollStrategyFactory()}get offsetX(){return this._offsetX}set offsetX(e){this._offsetX=e,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(e){this._offsetY=e,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(e){this._hasBackdrop=Mt(e)}get lockPosition(){return this._lockPosition}set lockPosition(e){this._lockPosition=Mt(e)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(e){this._flexibleDimensions=Mt(e)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(e){this._growAfterOpen=Mt(e)}get push(){return this._push}set push(e){this._push=Mt(e)}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(e){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),e.origin&&this.open&&this._position.apply()),e.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=PT);const e=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=e.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=e.detachments().subscribe(()=>this.detach.emit()),e.keydownEvents().subscribe(i=>{this.overlayKeydown.next(i),27===i.keyCode&&!this.disableClose&&!hr(i)&&(i.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(i=>{this.overlayOutsideClick.next(i)})}_buildConfig(){const e=this._position=this.positionStrategy||this._createPositionStrategy(),i=new Ku({direction:this._dir,positionStrategy:e,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(i.width=this.width),(this.height||0===this.height)&&(i.height=this.height),(this.minWidth||0===this.minWidth)&&(i.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(i.minHeight=this.minHeight),this.backdropClass&&(i.backdropClass=this.backdropClass),this.panelClass&&(i.panelClass=this.panelClass),i}_updatePositionStrategy(e){const i=this.positions.map(r=>({originX:r.originX,originY:r.originY,overlayX:r.overlayX,overlayY:r.overlayY,offsetX:r.offsetX||this.offsetX,offsetY:r.offsetY||this.offsetY,panelClass:r.panelClass||void 0}));return e.setOrigin(this._getFlexibleConnectedPositionStrategyOrigin()).withPositions(i).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const e=this._overlay.position().flexibleConnectedTo(this._getFlexibleConnectedPositionStrategyOrigin());return this._updatePositionStrategy(e),e}_getFlexibleConnectedPositionStrategyOrigin(){return this.origin instanceof Vv?this.origin.elementRef:this.origin}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(e=>{this.backdropClick.emit(e)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(Wn(()=>this.positionChange.observers.length>0)).subscribe(e=>{this.positionChange.emit(e),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(As),s.Y36(s.Rgc),s.Y36(s.s_b),s.Y36(zC),s.Y36(qr,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:["cdkConnectedOverlayOrigin","origin"],positions:["cdkConnectedOverlayPositions","positions"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:["cdkConnectedOverlayOpen","open"],disableClose:["cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],features:[s.TTD]}),n})();const qC={provide:zC,deps:[As],useFactory:function Hi(n){return()=>n.scrollStrategies.reposition()}};let Ch=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[As,qC],imports:[[Pg,cp,Vg],Vg]}),n})();function Cp(n,t=zu.z){return(0,ii.e)((e,i)=>{let r=null,o=null,u=null;const h=()=>{if(r){r.unsubscribe(),r=null;const b=o;o=null,i.next(b)}};function _(){const b=u+n,D=t.now();if(D<b)return r=this.schedule(void 0,b-D),void i.add(r);h()}e.subscribe((0,Nn.x)(i,b=>{o=b,u=t.now(),r||(r=t.schedule(_,n),i.add(r))},()=>{h(),i.complete()},void 0,()=>{o=r=null}))})}function ZC(n){return S((t,e)=>n<=e)}function Dp(n,t=eo.y){return n=n??YC,(0,ii.e)((e,i)=>{let r,o=!0;e.subscribe((0,Nn.x)(i,u=>{const h=t(u);(o||!n(r,h))&&(o=!1,r=h,i.next(u))}))})}function YC(n,t){return n===t}let Qu=(()=>{class n{create(e){return typeof MutationObserver>"u"?null:new MutationObserver(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),FT=(()=>{class n{constructor(e){this._mutationObserverFactory=e,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((e,i)=>this._cleanupObserver(i))}observe(e){const i=gl(e);return new jn.y(r=>{const u=this._observeElement(i).subscribe(r);return()=>{u.unsubscribe(),this._unobserveElement(i)}})}_observeElement(e){if(this._observedElements.has(e))this._observedElements.get(e).count++;else{const i=new Ze.x,r=this._mutationObserverFactory.create(o=>i.next(o));r&&r.observe(e,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(e,{observer:r,stream:i,count:1})}return this._observedElements.get(e).stream}_unobserveElement(e){this._observedElements.has(e)&&(this._observedElements.get(e).count--,this._observedElements.get(e).count||this._cleanupObserver(e))}_cleanupObserver(e){if(this._observedElements.has(e)){const{observer:i,stream:r}=this._observedElements.get(e);i&&i.disconnect(),r.complete(),this._observedElements.delete(e)}}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Qu))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),NT=(()=>{class n{constructor(e,i,r){this._contentObserver=e,this._elementRef=i,this._ngZone=r,this.event=new s.vpe,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(e){this._disabled=Mt(e),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(e){this._debounce=xr(e),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const e=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?e.pipe(Cp(this.debounce)):e).subscribe(this.event)})}_unsubscribe(){this._currentSubscription?.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(FT),s.Y36(s.SBq),s.Y36(s.R0b))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),n})(),Bv=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[Qu]}),n})();function Dh(n,t){return(n.getAttribute(t)||"").match(/\S+/g)||[]}const Ho="cdk-describedby-message",Yg="cdk-describedby-host";let JC=0,Ma=(()=>{class n{constructor(e,i){this._platform=i,this._messageRegistry=new Map,this._messagesContainer=null,this._id=""+JC++,this._document=e}describe(e,i,r){if(!this._canBeDescribed(e,i))return;const o=xs(i,r);"string"!=typeof i?(so(i),this._messageRegistry.set(o,{messageElement:i,referenceCount:0})):this._messageRegistry.has(o)||this._createMessageElement(i,r),this._isElementDescribedByMessage(e,o)||this._addMessageReference(e,o)}removeDescription(e,i,r){if(!i||!this._isElementNode(e))return;const o=xs(i,r);if(this._isElementDescribedByMessage(e,o)&&this._removeMessageReference(e,o),"string"==typeof i){const u=this._messageRegistry.get(o);u&&0===u.referenceCount&&this._deleteMessageElement(o)}0===this._messagesContainer?.childNodes.length&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){const e=this._document.querySelectorAll(`[${Yg}="${this._id}"]`);for(let i=0;i<e.length;i++)this._removeCdkDescribedByReferenceIds(e[i]),e[i].removeAttribute(Yg);this._messagesContainer?.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(e,i){const r=this._document.createElement("div");so(r),r.textContent=e,i&&r.setAttribute("role",i),this._createMessagesContainer(),this._messagesContainer.appendChild(r),this._messageRegistry.set(xs(e,i),{messageElement:r,referenceCount:0})}_deleteMessageElement(e){this._messageRegistry.get(e)?.messageElement?.remove(),this._messageRegistry.delete(e)}_createMessagesContainer(){if(this._messagesContainer)return;const e="cdk-describedby-message-container",i=this._document.querySelectorAll(`.${e}[platform="server"]`);for(let o=0;o<i.length;o++)i[o].remove();const r=this._document.createElement("div");r.style.visibility="hidden",r.classList.add(e),r.classList.add("cdk-visually-hidden"),this._platform&&!this._platform.isBrowser&&r.setAttribute("platform","server"),this._document.body.appendChild(r),this._messagesContainer=r}_removeCdkDescribedByReferenceIds(e){const i=Dh(e,"aria-describedby").filter(r=>0!=r.indexOf(Ho));e.setAttribute("aria-describedby",i.join(" "))}_addMessageReference(e,i){const r=this._messageRegistry.get(i);(function KC(n,t,e){const i=Dh(n,t);i.some(r=>r.trim()==e.trim())||(i.push(e.trim()),n.setAttribute(t,i.join(" ")))})(e,"aria-describedby",r.messageElement.id),e.setAttribute(Yg,this._id),r.referenceCount++}_removeMessageReference(e,i){const r=this._messageRegistry.get(i);r.referenceCount--,function wP(n,t,e){const r=Dh(n,t).filter(o=>o!=e.trim());r.length?n.setAttribute(t,r.join(" ")):n.removeAttribute(t)}(e,"aria-describedby",r.messageElement.id),e.removeAttribute(Yg)}_isElementDescribedByMessage(e,i){const r=Dh(e,"aria-describedby"),o=this._messageRegistry.get(i),u=o&&o.messageElement.id;return!!u&&-1!=r.indexOf(u)}_canBeDescribed(e,i){if(!this._isElementNode(e))return!1;if(i&&"object"==typeof i)return!0;const r=null==i?"":`${i}`.trim(),o=e.getAttribute("aria-label");return!(!r||o&&o.trim()===r)}_isElementNode(e){return e.nodeType===this._document.ELEMENT_NODE}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(te),s.LFG(En))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function xs(n,t){return"string"==typeof n?`${t||""}/${n}`:n}function so(n){n.id||(n.id=`${Ho}-${JC++}`)}class Uv{constructor(t){this._items=t,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new Ze.x,this._typeaheadSubscription=on.w0.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=e=>e.disabled,this._pressedLetters=[],this.tabOut=new Ze.x,this.change=new Ze.x,t instanceof s.n_E&&t.changes.subscribe(e=>{if(this._activeItem){const r=e.toArray().indexOf(this._activeItem);r>-1&&r!==this._activeItemIndex&&(this._activeItemIndex=r)}})}skipPredicate(t){return this._skipPredicateFn=t,this}withWrap(t=!0){return this._wrap=t,this}withVerticalOrientation(t=!0){return this._vertical=t,this}withHorizontalOrientation(t){return this._horizontal=t,this}withAllowedModifierKeys(t){return this._allowedModifierKeys=t,this}withTypeAhead(t=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,Le.b)(e=>this._pressedLetters.push(e)),Cp(t),S(()=>this._pressedLetters.length>0),(0,Ge.U)(()=>this._pressedLetters.join(""))).subscribe(e=>{const i=this._getItemsArray();for(let r=1;r<i.length+1;r++){const o=(this._activeItemIndex+r)%i.length,u=i[o];if(!this._skipPredicateFn(u)&&0===u.getLabel().toUpperCase().trim().indexOf(e)){this.setActiveItem(o);break}}this._pressedLetters=[]}),this}withHomeAndEnd(t=!0){return this._homeAndEnd=t,this}setActiveItem(t){const e=this._activeItem;this.updateActiveItem(t),this._activeItem!==e&&this.change.next(this._activeItemIndex)}onKeydown(t){const e=t.keyCode,r=["altKey","ctrlKey","metaKey","shiftKey"].every(o=>!t[o]||this._allowedModifierKeys.indexOf(o)>-1);switch(e){case 9:return void this.tabOut.next();case 40:if(this._vertical&&r){this.setNextItemActive();break}return;case 38:if(this._vertical&&r){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&r){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&r){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&r){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&r){this.setLastItemActive();break}return;default:return void((r||hr(t,"shiftKey"))&&(t.key&&1===t.key.length?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))))}this._pressedLetters=[],t.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(t){const e=this._getItemsArray(),i="number"==typeof t?t:e.indexOf(t);this._activeItem=e[i]??null,this._activeItemIndex=i}_setActiveItemByDelta(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}_setActiveInWrapMode(t){const e=this._getItemsArray();for(let i=1;i<=e.length;i++){const r=(this._activeItemIndex+t*i+e.length)%e.length;if(!this._skipPredicateFn(e[r]))return void this.setActiveItem(r)}}_setActiveInDefaultMode(t){this._setActiveItemByIndex(this._activeItemIndex+t,t)}_setActiveItemByIndex(t,e){const i=this._getItemsArray();if(i[t]){for(;this._skipPredicateFn(i[t]);)if(!i[t+=e])return;this.setActiveItem(t)}}_getItemsArray(){return this._items instanceof s.n_E?this._items.toArray():this._items}}class XC extends Uv{setActiveItem(t){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(t),this.activeItem&&this.activeItem.setActiveStyles()}}class eD extends Uv{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(t){return this._origin=t,this}setActiveItem(t){super.setActiveItem(t),this.activeItem&&this.activeItem.focus(this._origin)}}let Hv=(()=>{class n{constructor(e){this._platform=e}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return function jv(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(e)&&"visible"===getComputedStyle(e).visibility}isTabbable(e){if(!this._platform.isBrowser)return!1;const i=function LT(n){try{return n.frameElement}catch{return null}}(function rD(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(e));if(i&&(-1===Sp(i)||!this.isVisible(i)))return!1;let r=e.nodeName.toLowerCase(),o=Sp(e);return e.hasAttribute("contenteditable")?-1!==o:!("iframe"===r||"object"===r||this._platform.WEBKIT&&this._platform.IOS&&!function UT(n){let t=n.nodeName.toLowerCase(),e="input"===t&&n.type;return"text"===e||"password"===e||"select"===t||"textarea"===t}(e))&&("audio"===r?!!e.hasAttribute("controls")&&-1!==o:"video"===r?-1!==o&&(null!==o||this._platform.FIREFOX||e.hasAttribute("controls")):e.tabIndex>=0)}isFocusable(e,i){return function iD(n){return!function VT(n){return function BT(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function Ep(n){let t=n.nodeName.toLowerCase();return"input"===t||"select"===t||"button"===t||"textarea"===t}(n)||function tD(n){return function nD(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||Gv(n))}(e)&&!this.isDisabled(e)&&(i?.ignoreVisibility||this.isVisible(e))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(En))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Gv(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let t=n.getAttribute("tabindex");return!(!t||isNaN(parseInt(t,10)))}function Sp(n){if(!Gv(n))return null;const t=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}class zv{constructor(t,e,i,r,o=!1){this._element=t,this._checker=e,this._ngZone=i,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,o||this.attachAnchors()}get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}destroy(){const t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.remove()),e&&(e.removeEventListener("focus",this.endAnchorListener),e.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement(t)))})}focusFirstTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement(t)))})}focusLastTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement(t)))})}_getRegionBoundary(t){const e=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(t){const e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(!this._checker.isFocusable(e)){const i=this._getFirstTabbableElement(e);return i?.focus(t),!!i}return e.focus(t),!0}return this.focusFirstTabbableElement(t)}focusFirstTabbableElement(t){const e=this._getRegionBoundary("start");return e&&e.focus(t),!!e}focusLastTabbableElement(t){const e=this._getRegionBoundary("end");return e&&e.focus(t),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let i=0;i<e.length;i++){const r=e[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[i]):null;if(r)return r}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let i=e.length-1;i>=0;i--){const r=e[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[i]):null;if(r)return r}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.pipe(Et(1)).subscribe(t)}}let Eh=(()=>{class n{constructor(e,i,r){this._checker=e,this._ngZone=i,this._document=r}create(e,i=!1){return new zv(e,this._checker,this._ngZone,this._document,i)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Hv),s.LFG(s.R0b),s.LFG(te))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),sD=(()=>{class n{constructor(e,i,r){this._elementRef=e,this._focusTrapFactory=i,this._previouslyFocusedElement=null,this.focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement,!0)}get enabled(){return this.focusTrap.enabled}set enabled(e){this.focusTrap.enabled=Mt(e)}get autoCapture(){return this._autoCapture}set autoCapture(e){this._autoCapture=Mt(e)}ngOnDestroy(){this.focusTrap.destroy(),this._previouslyFocusedElement&&(this._previouslyFocusedElement.focus(),this._previouslyFocusedElement=null)}ngAfterContentInit(){this.focusTrap.attachAnchors(),this.autoCapture&&this._captureFocus()}ngDoCheck(){this.focusTrap.hasAttached()||this.focusTrap.attachAnchors()}ngOnChanges(e){const i=e.autoCapture;i&&!i.firstChange&&this.autoCapture&&this.focusTrap.hasAttached()&&this._captureFocus()}_captureFocus(){this._previouslyFocusedElement=Zu(),this.focusTrap.focusInitialElementWhenReady()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(Eh),s.Y36(te))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkTrapFocus",""]],inputs:{enabled:["cdkTrapFocus","enabled"],autoCapture:["cdkTrapFocusAutoCapture","autoCapture"]},exportAs:["cdkTrapFocus"],features:[s.TTD]}),n})();function Wg(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function Kg(n){const t=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}const oD=new s.OlP("cdk-input-modality-detector-options"),qT={ignoreKeys:[18,17,224,91,16]},Sh=Mc({passive:!0,capture:!0});let ZT=(()=>{class n{constructor(e,i,r,o){this._platform=e,this._mostRecentTarget=null,this._modality=new yn(null),this._lastTouchMs=0,this._onKeydown=u=>{this._options?.ignoreKeys?.some(h=>h===u.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=gh(u))},this._onMousedown=u=>{Date.now()-this._lastTouchMs<650||(this._modality.next(Wg(u)?"keyboard":"mouse"),this._mostRecentTarget=gh(u))},this._onTouchstart=u=>{Kg(u)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=gh(u))},this._options={...qT,...o},this.modalityDetected=this._modality.pipe(ZC(1)),this.modalityChanged=this.modalityDetected.pipe(Dp()),e.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,Sh),r.addEventListener("mousedown",this._onMousedown,Sh),r.addEventListener("touchstart",this._onTouchstart,Sh)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Sh),document.removeEventListener("mousedown",this._onMousedown,Sh),document.removeEventListener("touchstart",this._onTouchstart,Sh))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(En),s.LFG(s.R0b),s.LFG(te),s.LFG(oD,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const YT=new s.OlP("liveAnnouncerElement",{providedIn:"root",factory:function WT(){return null}}),KT=new s.OlP("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let $v=(()=>{class n{constructor(e,i,r,o){this._ngZone=i,this._defaultOptions=o,this._document=r,this._liveElement=e||this._createLiveElement()}announce(e,...i){const r=this._defaultOptions;let o,u;return 1===i.length&&"number"==typeof i[0]?u=i[0]:[o,u]=i,this.clear(),clearTimeout(this._previousTimeout),o||(o=r&&r.politeness?r.politeness:"polite"),null==u&&r&&(u=r.duration),this._liveElement.setAttribute("aria-live",o),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(h=>this._currentResolve=h)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=e,"number"==typeof u&&(this._previousTimeout=setTimeout(()=>this.clear(),u)),this._currentResolve(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const e="cdk-live-announcer-element",i=this._document.getElementsByClassName(e),r=this._document.createElement("div");for(let o=0;o<i.length;o++)i[o].remove();return r.classList.add(e),r.classList.add("cdk-visually-hidden"),r.setAttribute("aria-atomic","true"),r.setAttribute("aria-live","polite"),this._document.body.appendChild(r),r}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(YT,8),s.LFG(s.R0b),s.LFG(te),s.LFG(KT,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const QT=new s.OlP("cdk-focus-monitor-default-options"),Qg=Mc({passive:!0,capture:!0});let wl=(()=>{class n{constructor(e,i,r,o,u){this._ngZone=e,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new Ze.x,this._rootNodeFocusAndBlurListener=h=>{const _=gh(h),b="focus"===h.type?this._onFocus:this._onBlur;for(let D=_;D;D=D.parentElement)b.call(this,h,D)},this._document=o,this._detectionMode=u?.detectionMode||0}monitor(e,i=!1){const r=gl(e);if(!this._platform.isBrowser||1!==r.nodeType)return qe(null);const o=function gv(n){if(function mv(){if(null==mh){const n=typeof document<"u"?document.head:null;mh=!(!n||!n.createShadowRoot&&!n.attachShadow)}return mh}()){const t=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}(r)||this._getDocument(),u=this._elementInfo.get(r);if(u)return i&&(u.checkChildren=!0),u.subject;const h={checkChildren:i,subject:new Ze.x,rootNode:o};return this._elementInfo.set(r,h),this._registerGlobalListeners(h),h.subject}stopMonitoring(e){const i=gl(e),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(e,i,r){const o=gl(e);o===this._getDocument().activeElement?this._getClosestElementsInfo(o).forEach(([h,_])=>this._originChanged(h,i,_)):(this._setOrigin(i),"function"==typeof o.focus&&o.focus(r))}ngOnDestroy(){this._elementInfo.forEach((e,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(e){return 1===this._detectionMode||!!e?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(e,i){e.classList.toggle("cdk-focused",!!i),e.classList.toggle("cdk-touch-focused","touch"===i),e.classList.toggle("cdk-keyboard-focused","keyboard"===i),e.classList.toggle("cdk-mouse-focused","mouse"===i),e.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(e,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,i){const r=this._elementInfo.get(i),o=gh(e);!r||!r.checkChildren&&i!==o||this._originChanged(i,this._getFocusOrigin(o),r)}_onBlur(e,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&e.relatedTarget instanceof Node&&i.contains(e.relatedTarget)||(this._setClasses(i),this._emitOrigin(r.subject,null))}_emitOrigin(e,i){this._ngZone.run(()=>e.next(i))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const i=e.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,Qg),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,Qg)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Vt(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(e){const i=e.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Qg),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Qg),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,i,r){this._setClasses(e,i),this._emitOrigin(r.subject,i),this._lastFocusOrigin=i}_getClosestElementsInfo(e){const i=[];return this._elementInfo.forEach((r,o)=>{(o===e||r.checkChildren&&o.contains(e))&&i.push([o,r])}),i}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.R0b),s.LFG(En),s.LFG(ZT),s.LFG(te,8),s.LFG(QT,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),JT=(()=>{class n{constructor(e,i){this._elementRef=e,this._focusMonitor=i,this.cdkFocusChange=new s.vpe}ngAfterViewInit(){const e=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(e,1===e.nodeType&&e.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(i=>this.cdkFocusChange.emit(i))}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(wl))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"}}),n})();const lD="cdk-high-contrast-black-on-white",cD="cdk-high-contrast-white-on-black",qv="cdk-high-contrast-active";let uD=(()=>{class n{constructor(e,i){this._platform=e,this._document=i}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(e):null,o=(r&&r.backgroundColor||"").replace(/ /g,"");switch(e.remove(),o){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(qv),e.remove(lD),e.remove(cD),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?(e.add(qv),e.add(lD)):2===i&&(e.add(qv),e.add(cD))}}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(En),s.LFG(te))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Zv=(()=>{class n{constructor(e){e._applyBodyHighContrastModeCssClasses()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(uD))},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[Bv]]}),n})();function dD(n,t){if(1&n&&s._UZ(0,"mat-pseudo-checkbox",4),2&n){const e=s.oxw();s.Q6J("state",e.selected?"checked":"unchecked")("disabled",e.disabled)}}function hD(n,t){if(1&n&&(s.TgZ(0,"span",5),s._uU(1),s.qZA()),2&n){const e=s.oxw();s.xp6(1),s.hij("(",e.group.label,")")}}const fD=["*"],Ju=new s.OlP("mat-sanity-checks",{providedIn:"root",factory:function Qv(){return!0}});let Wt=(()=>{class n{constructor(e,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!_v()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(uD),s.LFG(Ju,8),s.LFG(te))},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[Pg],Pg]}),n})();function Fc(n){return class extends n{constructor(...t){super(...t),this._disabled=!1}get disabled(){return this._disabled}set disabled(t){this._disabled=Mt(t)}}}function Jg(n,t){return class extends n{constructor(...e){super(...e),this.defaultColor=t,this.color=t}get color(){return this._color}set color(e){const i=e||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}}}function Cl(n){return class extends n{constructor(...t){super(...t),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=Mt(t)}}}function Jv(n,t=0){return class extends n{constructor(...e){super(...e),this._tabIndex=t,this.defaultTabIndex=t}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(e){this._tabIndex=null!=e?xr(e):this.defaultTabIndex}}}function tA(n){return class extends n{constructor(...t){super(...t),this.stateChanges=new Ze.x,this.errorState=!1}updateErrorState(){const t=this.errorState,o=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);o!==t&&(this.errorState=o,this.stateChanges.next())}}}function Tt(n){return class extends n{constructor(...t){super(...t),this._isInitialized=!1,this._pendingSubscribers=[],this.initialized=new jn.y(e=>{this._isInitialized?this._notifySubscriber(e):this._pendingSubscribers.push(e)})}_markInitialized(){this._isInitialized=!0,this._pendingSubscribers.forEach(this._notifySubscriber),this._pendingSubscribers=null}_notifySubscriber(t){t.next(),t.complete()}}}const nA=new s.OlP("MAT_DATE_LOCALE",{providedIn:"root",factory:function iA(){return(0,s.f3M)(s.soG)}});class fr{constructor(){this._localeChanges=new Ze.x,this.localeChanges=this._localeChanges}getValidDateOrNull(t){return this.isDateInstance(t)&&this.isValid(t)?t:null}deserialize(t){return null==t||this.isDateInstance(t)&&this.isValid(t)?t:this.invalid()}setLocale(t){this.locale=t,this._localeChanges.next()}compareDate(t,e){return this.getYear(t)-this.getYear(e)||this.getMonth(t)-this.getMonth(e)||this.getDate(t)-this.getDate(e)}sameDate(t,e){if(t&&e){let i=this.isValid(t),r=this.isValid(e);return i&&r?!this.compareDate(t,e):i==r}return t==e}clampDate(t,e,i){return e&&this.compareDate(t,e)<0?e:i&&this.compareDate(t,i)>0?i:t}}const oo=new s.OlP("mat-date-formats"),rA=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|(?:(?:\+|-)\d{2}:\d{2}))?)?$/;function Ih(n,t){const e=Array(n);for(let i=0;i<n;i++)e[i]=t(i);return e}let Xg=(()=>{class n extends fr{constructor(e,i){super(),this.useUtcForDisplay=!1,super.setLocale(e)}getYear(e){return e.getFullYear()}getMonth(e){return e.getMonth()}getDate(e){return e.getDate()}getDayOfWeek(e){return e.getDay()}getMonthNames(e){const i=new Intl.DateTimeFormat(this.locale,{month:e,timeZone:"utc"});return Ih(12,r=>this._format(i,new Date(2017,r,1)))}getDateNames(){const e=new Intl.DateTimeFormat(this.locale,{day:"numeric",timeZone:"utc"});return Ih(31,i=>this._format(e,new Date(2017,0,i+1)))}getDayOfWeekNames(e){const i=new Intl.DateTimeFormat(this.locale,{weekday:e,timeZone:"utc"});return Ih(7,r=>this._format(i,new Date(2017,0,r+1)))}getYearName(e){const i=new Intl.DateTimeFormat(this.locale,{year:"numeric",timeZone:"utc"});return this._format(i,e)}getFirstDayOfWeek(){return 0}getNumDaysInMonth(e){return this.getDate(this._createDateWithOverflow(this.getYear(e),this.getMonth(e)+1,0))}clone(e){return new Date(e.getTime())}createDate(e,i,r){let o=this._createDateWithOverflow(e,i,r);return o.getMonth(),o}today(){return new Date}parse(e){return"number"==typeof e?new Date(e):e?new Date(Date.parse(e)):null}format(e,i){if(!this.isValid(e))throw Error("NativeDateAdapter: Cannot format invalid date.");const r=new Intl.DateTimeFormat(this.locale,{...i,timeZone:"utc"});return this._format(r,e)}addCalendarYears(e,i){return this.addCalendarMonths(e,12*i)}addCalendarMonths(e,i){let r=this._createDateWithOverflow(this.getYear(e),this.getMonth(e)+i,this.getDate(e));return this.getMonth(r)!=((this.getMonth(e)+i)%12+12)%12&&(r=this._createDateWithOverflow(this.getYear(r),this.getMonth(r),0)),r}addCalendarDays(e,i){return this._createDateWithOverflow(this.getYear(e),this.getMonth(e),this.getDate(e)+i)}toIso8601(e){return[e.getUTCFullYear(),this._2digit(e.getUTCMonth()+1),this._2digit(e.getUTCDate())].join("-")}deserialize(e){if("string"==typeof e){if(!e)return null;if(rA.test(e)){let i=new Date(e);if(this.isValid(i))return i}}return super.deserialize(e)}isDateInstance(e){return e instanceof Date}isValid(e){return!isNaN(e.getTime())}invalid(){return new Date(NaN)}_createDateWithOverflow(e,i,r){const o=new Date;return o.setFullYear(e,i,r),o.setHours(0,0,0,0),o}_2digit(e){return("00"+e).slice(-2)}_format(e,i){const r=new Date;return r.setUTCFullYear(i.getFullYear(),i.getMonth(),i.getDate()),r.setUTCHours(i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds()),e.format(r)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(nA,8),s.LFG(En))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const _i={parse:{dateInput:null},display:{dateInput:{year:"numeric",month:"numeric",day:"numeric"},monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"}}};let SP=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[{provide:fr,useClass:Xg}]}),n})(),Xv=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[{provide:oo,useValue:_i}],imports:[[SP]]}),n})(),eb=(()=>{class n{isErrorState(e,i){return!!(e&&e.invalid&&(e.touched||i&&i.submitted))}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),tb=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["","mat-line",""],["","matLine",""]],hostAttrs:[1,"mat-line"]}),n})();function Mh(n,t,e){n.nativeElement.classList.toggle(t,e)}let Mp=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[Wt],Wt]}),n})();class oA{constructor(t,e,i){this._renderer=t,this.element=e,this.config=i,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const mD={enterDuration:225,exitDuration:150},Xu=Mc({passive:!0}),gD=["mousedown","touchstart"],_D=["mouseup","mouseleave","touchend","touchcancel"];class lA{constructor(t,e,i,r){this._target=t,this._ngZone=e,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=gl(i))}fadeInRipple(t,e,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o={...mD,...i.animation};i.centered&&(t=r.left+r.width/2,e=r.top+r.height/2);const u=i.radius||function yD(n,t,e){const i=Math.max(Math.abs(n-e.left),Math.abs(n-e.right)),r=Math.max(Math.abs(t-e.top),Math.abs(t-e.bottom));return Math.sqrt(i*i+r*r)}(t,e,r),h=t-r.left,_=e-r.top,b=o.enterDuration,D=document.createElement("div");D.classList.add("mat-ripple-element"),D.style.left=h-u+"px",D.style.top=_-u+"px",D.style.height=2*u+"px",D.style.width=2*u+"px",null!=i.color&&(D.style.backgroundColor=i.color),D.style.transitionDuration=`${b}ms`,this._containerElement.appendChild(D),function e_(n){window.getComputedStyle(n).getPropertyValue("opacity")}(D),D.style.transform="scale(1)";const M=new oA(this,D,i);return M.state=0,this._activeRipples.add(M),i.persistent||(this._mostRecentTransientRipple=M),this._runTimeoutOutsideZone(()=>{const O=M===this._mostRecentTransientRipple;M.state=1,!i.persistent&&(!O||!this._isPointerDown)&&M.fadeOut()},b),M}fadeOutRipple(t){const e=this._activeRipples.delete(t);if(t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!e)return;const i=t.element,r={...mD,...t.config.animation};i.style.transitionDuration=`${r.exitDuration}ms`,i.style.opacity="0",t.state=2,this._runTimeoutOutsideZone(()=>{t.state=3,i.remove()},r.exitDuration)}fadeOutAll(){this._activeRipples.forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){const e=gl(t);!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,this._registerEvents(gD))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(_D),this._pointerUpEventsRegistered=!0)}_onMousedown(t){const e=Wg(t),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!e&&!i&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!Kg(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;for(let i=0;i<e.length;i++)this.fadeInRipple(e[i].clientX,e[i].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._activeRipples.forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_runTimeoutOutsideZone(t,e=0){this._ngZone.runOutsideAngular(()=>setTimeout(t,e))}_registerEvents(t){this._ngZone.runOutsideAngular(()=>{t.forEach(e=>{this._triggerElement.addEventListener(e,this,Xu)})})}_removeTriggerEvents(){this._triggerElement&&(gD.forEach(t=>{this._triggerElement.removeEventListener(t,this,Xu)}),this._pointerUpEventsRegistered&&_D.forEach(t=>{this._triggerElement.removeEventListener(t,this,Xu)}))}}const vD=new s.OlP("mat-ripple-global-options");let Nc=(()=>{class n{constructor(e,i,r,o,u){this._elementRef=e,this._animationMode=u,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=o||{},this._rippleRenderer=new lA(this,i,e,r)}get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,i=0,r){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,i,{...this.rippleConfig,...r}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...e})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.R0b),s.Y36(En),s.Y36(vD,8),s.Y36(s.QbO,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(e,i){2&e&&s.ekj("mat-ripple-unbounded",i.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),Tp=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[Wt],Wt]}),n})(),Th=(()=>{class n{constructor(e){this._animationMode=e,this.state="unchecked",this.disabled=!1}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.QbO,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:8,hostBindings:function(e,i){2&e&&s.ekj("mat-pseudo-checkbox-indeterminate","indeterminate"===i.state)("mat-pseudo-checkbox-checked","checked"===i.state)("mat-pseudo-checkbox-disabled",i.disabled)("_mat-animation-noopable","NoopAnimations"===i._animationMode)},inputs:{state:"state",disabled:"disabled"},decls:0,vars:0,template:function(e,i){},styles:['.mat-pseudo-checkbox{width:16px;height:16px;border:2px solid;border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox.mat-pseudo-checkbox-indeterminate{border-color:transparent}._mat-animation-noopable.mat-pseudo-checkbox{transition:none;animation:none}._mat-animation-noopable.mat-pseudo-checkbox::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{top:5px;left:1px;width:10px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{top:2.4px;left:1px;width:8px;height:3px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}\n'],encapsulation:2,changeDetection:0}),n})(),ed=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[Wt]]}),n})();const bD=new s.OlP("MAT_OPTION_PARENT_COMPONENT"),ib=new s.OlP("MatOptgroup");let dA=0;class wD{constructor(t,e=!1){this.source=t,this.isUserInput=e}}let hA=(()=>{class n{constructor(e,i,r,o){this._element=e,this._changeDetectorRef=i,this._parent=r,this.group=o,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+dA++,this.onSelectionChange=new s.vpe,this._stateChanges=new Ze.x}get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(e){this._disabled=Mt(e)}get disableRipple(){return!(!this._parent||!this._parent.disableRipple)}get active(){return this._active}get viewValue(){return(this._getHostElement().textContent||"").trim()}select(){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}deselect(){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}focus(e,i){const r=this._getHostElement();"function"==typeof r.focus&&r.focus(i)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(e){(13===e.keyCode||32===e.keyCode)&&!hr(e)&&(this._selectViaInteraction(),e.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getAriaSelected(){return this.selected||!this.multiple&&null}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const e=this.viewValue;e!==this._mostRecentViewValue&&(this._mostRecentViewValue=e,this._stateChanges.next())}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(e=!1){this.onSelectionChange.emit(new wD(this,e))}}return n.\u0275fac=function(e){s.$Z()},n.\u0275dir=s.lG2({type:n,inputs:{value:"value",id:"id",disabled:"disabled"},outputs:{onSelectionChange:"onSelectionChange"}}),n})(),t_=(()=>{class n extends hA{constructor(e,i,r,o){super(e,i,r,o)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.sBO),s.Y36(bD,8),s.Y36(ib,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-option","mat-focus-indicator"],hostVars:12,hostBindings:function(e,i){1&e&&s.NdJ("click",function(){return i._selectViaInteraction()})("keydown",function(o){return i._handleKeydown(o)}),2&e&&(s.Ikx("id",i.id),s.uIk("tabindex",i._getTabIndex())("aria-selected",i._getAriaSelected())("aria-disabled",i.disabled.toString()),s.ekj("mat-selected",i.selected)("mat-option-multiple",i.multiple)("mat-active",i.active)("mat-option-disabled",i.disabled))},exportAs:["matOption"],features:[s.qOj],ngContentSelectors:fD,decls:5,vars:4,consts:[["class","mat-option-pseudo-checkbox",3,"state","disabled",4,"ngIf"],[1,"mat-option-text"],["class","cdk-visually-hidden",4,"ngIf"],["mat-ripple","",1,"mat-option-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-option-pseudo-checkbox",3,"state","disabled"],[1,"cdk-visually-hidden"]],template:function(e,i){1&e&&(s.F$t(),s.YNc(0,dD,1,2,"mat-pseudo-checkbox",0),s.TgZ(1,"span",1),s.Hsn(2),s.qZA(),s.YNc(3,hD,2,1,"span",2),s._UZ(4,"div",3)),2&e&&(s.Q6J("ngIf",i.multiple),s.xp6(3),s.Q6J("ngIf",i.group&&i.group._inert),s.xp6(1),s.Q6J("matRippleTrigger",i._getHostElement())("matRippleDisabled",i.disabled||i.disableRipple))},dependencies:[Th,sn,Nc],styles:[".mat-option{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative;cursor:pointer;outline:none;display:flex;flex-direction:row;max-width:100%;box-sizing:border-box;align-items:center;-webkit-tap-highlight-color:transparent}.mat-option[disabled]{cursor:default}[dir=rtl] .mat-option{text-align:right}.mat-option .mat-icon{margin-right:16px;vertical-align:middle}.mat-option .mat-icon svg{vertical-align:top}[dir=rtl] .mat-option .mat-icon{margin-left:16px;margin-right:0}.mat-option[aria-disabled=true]{-webkit-user-select:none;user-select:none;cursor:default}.mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:32px}[dir=rtl] .mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:16px;padding-right:32px}.cdk-high-contrast-active .mat-option{margin:0 1px}.cdk-high-contrast-active .mat-option.mat-active{border:solid 1px currentColor;margin:0}.cdk-high-contrast-active .mat-option[aria-disabled=true]{opacity:.5}.mat-option-text{display:inline-block;flex-grow:1;overflow:hidden;text-overflow:ellipsis}.mat-option .mat-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-option-pseudo-checkbox{margin-right:8px}[dir=rtl] .mat-option-pseudo-checkbox{margin-left:8px;margin-right:0}\n"],encapsulation:2,changeDetection:0}),n})();function fA(n,t,e){if(e.length){let i=t.toArray(),r=e.toArray(),o=0;for(let u=0;u<n+1;u++)i[u].group&&i[u].group===r[o]&&o++;return o}return 0}let pA=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[Tp,Li,Wt,ed]]}),n})();class mA{}const ao="*";function pr(n,t){return{type:7,name:n,definitions:t,options:{}}}function Vn(n,t=null){return{type:4,styles:t,timings:n}}function rb(n,t=null){return{type:3,steps:n,options:t}}function Ah(n,t=null){return{type:2,steps:n,options:t}}function Ct(n){return{type:6,styles:n,offset:null}}function Pn(n,t,e){return{type:0,name:n,styles:t,options:e}}function td(n){return{type:5,steps:n}}function kn(n,t,e=null){return{type:1,expr:n,animation:t,options:e}}function Ap(n=null){return{type:9,options:n}}function n_(n,t,e=null){return{type:11,selector:n,animation:t,options:e}}function DD(n){Promise.resolve().then(n)}class xh{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){DD(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class ED{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,i=0,r=0;const o=this.players.length;0==o?DD(()=>this._onFinish()):this.players.forEach(u=>{u.onDone(()=>{++e==o&&this._onFinish()}),u.onDestroy(()=>{++i==o&&this._onDestroy()}),u.onStart(()=>{++r==o&&this._onStart()})}),this.totalTime=this.players.reduce((u,h)=>Math.max(u,h.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(r)})}getPosition(){const t=this.players.reduce((e,i)=>null===e||i.totalTime>e.totalTime?i:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}function gA(n,t){}class fs{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}}const _A={dialogContainer:pr("dialogContainer",[Pn("void, exit",Ct({opacity:0,transform:"scale(0.7)"})),Pn("enter",Ct({transform:"none"})),kn("* => enter",rb([Vn("150ms cubic-bezier(0, 0, 0.2, 1)",Ct({transform:"none",opacity:1})),n_("@*",Ap(),{optional:!0})])),kn("* => void, * => exit",rb([Vn("75ms cubic-bezier(0.4, 0.0, 0.2, 1)",Ct({opacity:0})),n_("@*",Ap(),{optional:!0})]))])};let yA=(()=>{class n extends Bg{constructor(e,i,r,o,u,h,_,b){super(),this._elementRef=e,this._focusTrapFactory=i,this._changeDetectorRef=r,this._config=u,this._interactivityChecker=h,this._ngZone=_,this._focusMonitor=b,this._animationStateChanged=new s.vpe,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=D=>(this._portalOutlet.hasAttached(),this._portalOutlet.attachDomPortal(D)),this._ariaLabelledBy=u.ariaLabelledBy||null,this._document=o}_initializeWithAttachedContent(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=Zu())}attachComponentPortal(e){return this._portalOutlet.hasAttached(),this._portalOutlet.attachComponentPortal(e)}attachTemplatePortal(e){return this._portalOutlet.hasAttached(),this._portalOutlet.attachTemplatePortal(e)}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(e,i){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const r=()=>{e.removeEventListener("blur",r),e.removeEventListener("mousedown",r),e.removeAttribute("tabindex")};e.addEventListener("blur",r),e.addEventListener("mousedown",r)})),e.focus(i)}_focusByCssSelector(e,i){let r=this._elementRef.nativeElement.querySelector(e);r&&this._forceFocus(r,i)}_trapFocus(){const e=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||e.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(i=>{i||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const e=this._elementFocusedBeforeDialogWasOpened;if(this._config.restoreFocus&&e&&"function"==typeof e.focus){const i=Zu(),r=this._elementRef.nativeElement;(!i||i===this._document.body||i===r||r.contains(i))&&(this._focusMonitor?(this._focusMonitor.focusVia(e,this._closeInteractionType),this._closeInteractionType=null):e.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const e=this._elementRef.nativeElement,i=Zu();return e===i||e.contains(i)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(Eh),s.Y36(s.sBO),s.Y36(te,8),s.Y36(fs),s.Y36(Hv),s.Y36(s.R0b),s.Y36(wl))},n.\u0275dir=s.lG2({type:n,viewQuery:function(e,i){if(1&e&&s.Gf(_l,7),2&e){let r;s.iGM(r=s.CRH())&&(i._portalOutlet=r.first)}},features:[s.qOj]}),n})(),ID=(()=>{class n extends yA{constructor(){super(...arguments),this._state="enter"}_onAnimationDone({toState:e,totalTime:i}){"enter"===e?(this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:i})):"exit"===e&&(this._restoreFocus(),this._animationStateChanged.next({state:"closed",totalTime:i}))}_onAnimationStart({toState:e,totalTime:i}){"enter"===e?this._animationStateChanged.next({state:"opening",totalTime:i}):("exit"===e||"void"===e)&&this._animationStateChanged.next({state:"closing",totalTime:i})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}_initializeWithAttachedContent(){super._initializeWithAttachedContent(),this._config.delayFocusTrap||this._trapFocus()}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1","aria-modal","true",1,"mat-dialog-container"],hostVars:6,hostBindings:function(e,i){1&e&&s.WFA("@dialogContainer.start",function(o){return i._onAnimationStart(o)})("@dialogContainer.done",function(o){return i._onAnimationDone(o)}),2&e&&(s.Ikx("id",i._id),s.uIk("role",i._config.role)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledBy)("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null),s.d8E("@dialogContainer",i._state))},features:[s.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(e,i){1&e&&s.YNc(0,gA,0,0,"ng-template",0)},dependencies:[_l],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[_A.dialogContainer]}}),n})(),MD=0;class nd{constructor(t,e,i="mat-dialog-"+MD++){this._overlayRef=t,this._containerInstance=e,this.id=i,this.disableClose=this._containerInstance._config.disableClose,this._afterOpened=new Ze.x,this._afterClosed=new Ze.x,this._beforeClosed=new Ze.x,this._state=0,e._id=i,e._animationStateChanged.pipe(S(r=>"opened"===r.state),Et(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),e._animationStateChanged.pipe(S(r=>"closed"===r.state),Et(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),t.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._afterClosed.next(this._result),this._afterClosed.complete(),this.componentInstance=null,this._overlayRef.dispose()}),t.keydownEvents().pipe(S(r=>27===r.keyCode&&!this.disableClose&&!hr(r))).subscribe(r=>{r.preventDefault(),sb(this,"keyboard")}),t.backdropClick().subscribe(()=>{this.disableClose?this._containerInstance._recaptureFocus():sb(this,"mouse")})}close(t){this._result=t,this._containerInstance._animationStateChanged.pipe(S(e=>"closing"===e.state),Et(1)).subscribe(e=>{this._beforeClosed.next(t),this._beforeClosed.complete(),this._overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._afterClosed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}updatePosition(t){let e=this._getPositionStrategy();return t&&(t.left||t.right)?t.left?e.left(t.left):e.right(t.right):e.centerHorizontally(),t&&(t.top||t.bottom)?t.top?e.top(t.top):e.bottom(t.bottom):e.centerVertically(),this._overlayRef.updatePosition(),this}updateSize(t="",e=""){return this._overlayRef.updateSize({width:t,height:e}),this._overlayRef.updatePosition(),this}addPanelClass(t){return this._overlayRef.addPanelClass(t),this}removePanelClass(t){return this._overlayRef.removePanelClass(t),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._overlayRef.dispose()}_getPositionStrategy(){return this._overlayRef.getConfig().positionStrategy}}function sb(n,t,e){return void 0!==n._containerInstance&&(n._containerInstance._closeInteractionType=t),n.close(e)}const xp=new s.OlP("MatDialogData"),ob=new s.OlP("mat-dialog-default-options"),TD=new s.OlP("mat-dialog-scroll-strategy"),wA={provide:TD,deps:[As],useFactory:function bA(n){return()=>n.scrollStrategies.block()}};let CA=(()=>{class n{constructor(e,i,r,o,u,h,_,b,D,M){this._overlay=e,this._injector=i,this._defaultOptions=r,this._parentDialog=o,this._overlayContainer=u,this._dialogRefConstructor=_,this._dialogContainerType=b,this._dialogDataToken=D,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new Ze.x,this._afterOpenedAtThisLevel=new Ze.x,this._ariaHiddenElements=new Map,this.afterAllClosed=cr(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Yn(void 0))),this._scrollStrategy=h}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(e,i){i=function DA(n,t){return{...t,...n}}(i,this._defaultOptions||new fs),i.id&&this.getDialogById(i.id);const r=this._createOverlay(i),o=this._attachDialogContainer(r,i),u=this._attachDialogContent(e,o,r,i);return this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(u),u.afterClosed().subscribe(()=>this._removeOpenDialog(u)),this.afterOpened.next(u),o._initializeWithAttachedContent(),u}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(e){return this.openDialogs.find(i=>i.id===e)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_createOverlay(e){const i=this._getOverlayConfig(e);return this._overlay.create(i)}_getOverlayConfig(e){const i=new Ku({positionStrategy:this._overlay.position().global(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,disposeOnNavigation:e.closeOnNavigation});return e.backdropClass&&(i.backdropClass=e.backdropClass),i}_attachDialogContainer(e,i){const o=s.zs3.create({parent:i&&i.viewContainerRef&&i.viewContainerRef.injector||this._injector,providers:[{provide:fs,useValue:i}]}),u=new kc(this._dialogContainerType,i.viewContainerRef,o,i.componentFactoryResolver);return e.attach(u).instance}_attachDialogContent(e,i,r,o){const u=new this._dialogRefConstructor(r,i,o.id);if(e instanceof s.Rgc)i.attachTemplatePortal(new _h(e,null,{$implicit:o.data,dialogRef:u}));else{const h=this._createInjector(o,u,i),_=i.attachComponentPortal(new kc(e,o.viewContainerRef,h,o.componentFactoryResolver));u.componentInstance=_.instance}return u.updateSize(o.width,o.height).updatePosition(o.position),u}_createInjector(e,i,r){const o=e&&e.viewContainerRef&&e.viewContainerRef.injector,u=[{provide:this._dialogContainerType,useValue:r},{provide:this._dialogDataToken,useValue:e.data},{provide:this._dialogRefConstructor,useValue:i}];return e.direction&&(!o||!o.get(qr,null,s.XFs.Optional))&&u.push({provide:qr,useValue:{value:e.direction,change:qe()}}),s.zs3.create({parent:o||this._injector,providers:u})}_removeOpenDialog(e){const i=this.openDialogs.indexOf(e);i>-1&&(this.openDialogs.splice(i,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((r,o)=>{r?o.setAttribute("aria-hidden",r):o.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const e=this._overlayContainer.getContainerElement();if(e.parentElement){const i=e.parentElement.children;for(let r=i.length-1;r>-1;r--){let o=i[r];o!==e&&"SCRIPT"!==o.nodeName&&"STYLE"!==o.nodeName&&!o.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(o,o.getAttribute("aria-hidden")),o.setAttribute("aria-hidden","true"))}}}_closeDialogs(e){let i=e.length;for(;i--;)e[i].close()}}return n.\u0275fac=function(e){s.$Z()},n.\u0275dir=s.lG2({type:n}),n})(),id=(()=>{class n extends CA{constructor(e,i,r,o,u,h,_,b){super(e,i,o,h,_,u,nd,ID,xp,b)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(As),s.LFG(s.zs3),s.LFG(Te,8),s.LFG(ob,8),s.LFG(TD),s.LFG(n,12),s.LFG(Zg),s.LFG(s.QbO,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),EA=0,ab=(()=>{class n{constructor(e,i,r){this.dialogRef=e,this._elementRef=i,this._dialog=r,this.type="button"}ngOnInit(){this.dialogRef||(this.dialogRef=AD(this._elementRef,this._dialog.openDialogs))}ngOnChanges(e){const i=e._matDialogClose||e._matDialogCloseResult;i&&(this.dialogResult=i.currentValue)}_onButtonClick(e){sb(this.dialogRef,0===e.screenX&&0===e.screenY?"keyboard":"mouse",this.dialogResult)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(nd,8),s.Y36(s.SBq),s.Y36(id))},n.\u0275dir=s.lG2({type:n,selectors:[["","mat-dialog-close",""],["","matDialogClose",""]],hostVars:2,hostBindings:function(e,i){1&e&&s.NdJ("click",function(o){return i._onButtonClick(o)}),2&e&&s.uIk("aria-label",i.ariaLabel||null)("type",i.type)},inputs:{ariaLabel:["aria-label","ariaLabel"],type:"type",dialogResult:["mat-dialog-close","dialogResult"],_matDialogClose:["matDialogClose","_matDialogClose"]},exportAs:["matDialogClose"],features:[s.TTD]}),n})(),s_=(()=>{class n{constructor(e,i,r){this._dialogRef=e,this._elementRef=i,this._dialog=r,this.id="mat-dialog-title-"+EA++}ngOnInit(){this._dialogRef||(this._dialogRef=AD(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{const e=this._dialogRef._containerInstance;e&&!e._ariaLabelledBy&&(e._ariaLabelledBy=this.id)})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(nd,8),s.Y36(s.SBq),s.Y36(id))},n.\u0275dir=s.lG2({type:n,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-dialog-title"],hostVars:1,hostBindings:function(e,i){2&e&&s.Ikx("id",i.id)},inputs:{id:"id"},exportAs:["matDialogTitle"]}),n})(),kp=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-dialog-content"]}),n})(),Rp=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-dialog-actions"]}),n})();function AD(n,t){let e=n.nativeElement.parentElement;for(;e&&!e.classList.contains("mat-dialog-container");)e=e.parentElement;return e?t.find(i=>i.id===e.id):null}let xD=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[id,wA],imports:[[Ch,cp,Wt],Wt]}),n})();var ye=F(5861);function kD(...n){const t=(0,jr.jO)(n),{args:e,keys:i}=il(n),r=new jn.y(o=>{const{length:u}=e;if(!u)return void o.complete();const h=new Array(u);let _=u,b=u;for(let D=0;D<u;D++){let M=!1;(0,zr.Xf)(e[D]).subscribe((0,Nn.x)(o,O=>{M||(M=!0,b--),h[D]=O},()=>_--,void 0,()=>{(!_||!M)&&(b||o.next(i?pa(i,h):h),o.complete())}))}});return t?r.pipe(fa(t)):r}let RD=(()=>{class n{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Qsj),s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n}),n})(),rd=(()=>{class n extends RD{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,features:[s.qOj]}),n})();const Yr=new s.OlP("NgValueAccessor"),ub={provide:Yr,useExisting:(0,s.Gpc)(()=>Dl),multi:!0},IA=new s.OlP("CompositionEventMode");let Dl=(()=>{class n extends RD{constructor(e,i,r){super(e,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function SA(){const n=P()?P().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Qsj),s.Y36(s.SBq),s.Y36(IA,8))},n.\u0275dir=s.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,i){1&e&&s.NdJ("input",function(o){return i._handleInput(o.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(o){return i._compositionEnd(o.target.value)})},features:[s._Bn([ub]),s.qOj]}),n})();function El(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function sd(n){return null!=n&&"number"==typeof n.length}const Ji=new s.OlP("NgValidators"),Lc=new s.OlP("NgAsyncValidators"),kP=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Mn{static min(t){return function o_(n){return t=>{if(El(t.value)||El(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}(t)}static max(t){return function OD(n){return t=>{if(El(t.value)||El(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}(t)}static required(t){return a_(t)}static requiredTrue(t){return function PD(n){return!0===n.value?null:{required:!0}}(t)}static email(t){return function db(n){return El(n.value)||kP.test(n.value)?null:{email:!0}}(t)}static minLength(t){return function l_(n){return t=>El(t.value)||!sd(t.value)?null:t.value.length<n?{minlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static maxLength(t){return function hb(n){return t=>sd(t.value)&&t.value.length>n?{maxlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static pattern(t){return function fb(n){if(!n)return Op;let t,e;return"string"==typeof n?(e="","^"!==n.charAt(0)&&(e+="^"),e+=n,"$"!==n.charAt(n.length-1)&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),i=>{if(El(i.value))return null;const r=i.value;return t.test(r)?null:{pattern:{requiredPattern:e,actualValue:r}}}}(t)}static nullValidator(t){return null}static compose(t){return AA(t)}static composeAsync(t){return VD(t)}}function a_(n){return El(n.value)?{required:!0}:null}function Op(n){return null}function pb(n){return null!=n}function FD(n){return(0,s.QGY)(n)?(0,_n.D)(n):n}function ND(n){let t={};return n.forEach(e=>{t=null!=e?{...t,...e}:t}),0===Object.keys(t).length?null:t}function LD(n,t){return t.map(e=>e(n))}function mb(n){return n.map(t=>function TA(n){return!n.validate}(t)?t:e=>t.validate(e))}function AA(n){if(!n)return null;const t=n.filter(pb);return 0==t.length?null:function(e){return ND(LD(e,t))}}function c_(n){return null!=n?AA(mb(n)):null}function VD(n){if(!n)return null;const t=n.filter(pb);return 0==t.length?null:function(e){return kD(LD(e,t).map(FD)).pipe((0,Ge.U)(ND))}}function gb(n){return null!=n?VD(mb(n)):null}function xA(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function kA(n){return n._rawValidators}function BD(n){return n._rawAsyncValidators}function _b(n){return n?Array.isArray(n)?n:[n]:[]}function Pp(n,t){return Array.isArray(n)?n.includes(t):n===t}function yb(n,t){const e=_b(t);return _b(n).forEach(r=>{Pp(e,r)||e.push(r)}),e}function UD(n,t){return _b(t).filter(e=>!Pp(n,e))}class HD{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=c_(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=gb(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class Wr extends HD{get formDirective(){return null}get path(){return null}}class Ta extends HD{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class jD{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Fp=(()=>{class n extends jD{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Ta,2))},n.\u0275dir=s.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,i){2&e&&s.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[s.qOj]}),n})(),Sl=(()=>{class n extends jD{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Wr,10))},n.\u0275dir=s.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,i){2&e&&s.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[s.qOj]}),n})();const Vc="VALID",Bc="INVALID",Rh="PENDING",Lp="DISABLED";function wb(n){return(h_(n)?n.validators:n)||null}function Vp(n){return Array.isArray(n)?c_(n):n||null}function Oh(n,t){return(h_(t)?t.asyncValidators:n)||null}function $D(n){return Array.isArray(n)?gb(n):n||null}function h_(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function Cb(n,t,e){const i=n.controls;if(!(t?Object.keys(i):i).length)throw new s.vHH(1e3,"");if(!i[e])throw new s.vHH(1001,"")}function Db(n,t,e){n._forEachChild((i,r)=>{if(void 0===e[r])throw new s.vHH(1002,"")})}class Ph{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=Vp(this._rawValidators),this._composedAsyncValidatorFn=$D(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===Vc}get invalid(){return this.status===Bc}get pending(){return this.status==Rh}get disabled(){return this.status===Lp}get enabled(){return this.status!==Lp}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=Vp(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=$D(t)}addValidators(t){this.setValidators(yb(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(yb(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(UD(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(UD(t,this._rawAsyncValidators))}hasValidator(t){return Pp(this._rawValidators,t)}hasAsyncValidator(t){return Pp(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=Rh,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Lp,this.errors=null,this._forEachChild(i=>{i.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Vc,this._forEachChild(i=>{i.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Vc||this.status===Rh)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Lp:Vc}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=Rh,this._hasOwnPendingAsyncValidator=!0;const e=FD(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){let e=t;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((i,r)=>i&&i._find(r),this)}getError(t,e){const i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new s.vpe,this.statusChanges=new s.vpe}_calculateStatus(){return this._allControlsDisabled()?Lp:this.errors?Bc:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Rh)?Rh:this._anyControlsHaveStatus(Bc)?Bc:Vc}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){h_(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}}class Fh extends Ph{constructor(t,e,i){super(wb(e),Oh(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,i={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){Db(this,0,t),Object.keys(t).forEach(i=>{Cb(this,!0,i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(i=>{const r=this.controls[i];r&&r.patchValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,i)=>(t[i]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,i)=>!!i._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const i=this.controls[e];i&&t(i,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const[e,i]of Object.entries(this.controls))if(this.contains(e)&&t(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(e,i,r)=>((i.enabled||this.disabled)&&(e[r]=i.value),e))}_reduceChildren(t,e){let i=t;return this._forEachChild((r,o)=>{i=e(i,r,o)}),i}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}}class NA extends Fh{}function Lh(n,t){Eb(n,t),t.valueAccessor.writeValue(n.value),n.disabled&&t.valueAccessor.setDisabledState?.(!0),function VA(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&p_(n,t)})}(n,t),function YD(n,t){const e=(i,r)=>{t.valueAccessor.writeValue(i),r&&t.viewToModelUpdate(i)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function ZD(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&p_(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function LA(n,t){if(t.valueAccessor.setDisabledState){const e=i=>{t.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function Vh(n,t,e=!0){const i=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(i),t.valueAccessor.registerOnTouched(i)),f_(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Bh(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function Eb(n,t){const e=kA(n);null!==t.validator?n.setValidators(xA(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const i=BD(n);null!==t.asyncValidator?n.setAsyncValidators(xA(i,t.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();Bh(t._rawValidators,r),Bh(t._rawAsyncValidators,r)}function f_(n,t){let e=!1;if(null!==n){if(null!==t.validator){const r=kA(n);if(Array.isArray(r)&&r.length>0){const o=r.filter(u=>u!==t.validator);o.length!==r.length&&(e=!0,n.setValidators(o))}}if(null!==t.asyncValidator){const r=BD(n);if(Array.isArray(r)&&r.length>0){const o=r.filter(u=>u!==t.asyncValidator);o.length!==r.length&&(e=!0,n.setAsyncValidators(o))}}}const i=()=>{};return Bh(t._rawValidators,i),Bh(t._rawAsyncValidators,i),e}function p_(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Sb(n,t){Eb(n,t)}function QD(n,t){n._syncPendingControls(),t.forEach(e=>{const i=e.control;"submit"===i.updateOn&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}const jA={provide:Wr,useExisting:(0,s.Gpc)(()=>g_)},m_=(()=>Promise.resolve())();let g_=(()=>{class n extends Wr{constructor(e,i){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new s.vpe,this.form=new Fh({},c_(e),gb(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){m_.then(()=>{const i=this._findContainer(e.path);e.control=i.registerControl(e.name,e.control),Lh(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){m_.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){m_.then(()=>{const i=this._findContainer(e.path),r=new Fh({});Sb(r,e),i.registerControl(e.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){m_.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,i){m_.then(()=>{this.form.get(e.path).setValue(i)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,QD(this.form,this._directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Ji,10),s.Y36(Lc,10))},n.\u0275dir=s.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,i){1&e&&s.NdJ("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[s._Bn([jA]),s.qOj]}),n})();function Tb(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}function Ab(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const Il=class extends Ph{constructor(t=null,e,i){super(wb(e),Oh(i,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),h_(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=Ab(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){Tb(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){Tb(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){Ab(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};let iE=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();const oE=new s.OlP("NgModelWithFormControlWarning"),$A={provide:Wr,useExisting:(0,s.Gpc)(()=>xa)};let xa=(()=>{class n extends Wr{constructor(e,i){super(),this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new s.vpe,this._setValidators(e),this._setAsyncValidators(i)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(f_(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const i=this.form.get(e.path);return Lh(i,e),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),i}getControl(e){return this.form.get(e.path)}removeControl(e){Vh(e.control||null,e,!1),function Uh(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,i){this.form.get(e.path).setValue(i)}onSubmit(e){return this.submitted=!0,QD(this.form,this.directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const i=e.control,r=this.form.get(e.path);i!==r&&(Vh(i||null,e),(n=>n instanceof Il)(r)&&(Lh(r,e),e.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const i=this.form.get(e.path);Sb(i,e),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const i=this.form.get(e.path);i&&function WD(n,t){return f_(n,t)}(i,e)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Eb(this.form,this),this._oldForm&&f_(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Ji,10),s.Y36(Lc,10))},n.\u0275dir=s.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(e,i){1&e&&s.NdJ("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[s._Bn([$A]),s.qOj,s.TTD]}),n})();const qA={provide:Ta,useExisting:(0,s.Gpc)(()=>od)};let od=(()=>{class n extends Ta{constructor(e,i,r,o,u){super(),this._ngModelWarningConfig=u,this._added=!1,this.update=new s.vpe,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=function mr(n,t){if(!t)return null;let e,i,r;return Array.isArray(t),t.forEach(o=>{o.constructor===Dl?e=o:function KD(n){return Object.getPrototypeOf(n.constructor)===rd}(o)?i=o:r=o}),r||i||e||null}(0,o)}set isDisabled(e){}ngOnChanges(e){this._added||this._setUpControl(),function Mb(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return function Nh(n,t){return[...t.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(e){return new(e||n)(s.Y36(Wr,13),s.Y36(Ji,10),s.Y36(Lc,10),s.Y36(Yr,10),s.Y36(oE,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[s._Bn([qA]),s.qOj,s.TTD]}),n})(),Hh=(()=>{class n{constructor(){this._validator=Op}ngOnChanges(e){if(this.inputName in e){const i=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):Op,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return null!=e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,features:[s.TTD]}),n})();const QP={provide:Ji,useExisting:(0,s.Gpc)(()=>ka),multi:!0};let ka=(()=>{class n extends Hh{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=s.D6c,this.createValidator=e=>a_}enabled(e){return e}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(e,i){2&e&&s.uIk("required",i._enabled?"":null)},inputs:{required:"required"},features:[s._Bn([QP]),s.qOj]}),n})(),yE=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[iE]}),n})(),tF=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[yE]}),n})(),tx=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:oE,useValue:e.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[yE]}),n})();class nx extends Ph{constructor(t,e,i){super(wb(e),Oh(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[this._adjustIndex(t)]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,i={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(t,e={}){let i=this._adjustIndex(t);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,i={}){let r=this._adjustIndex(t);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),e&&(this.controls.splice(r,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){Db(this,0,t),t.forEach((i,r)=>{Cb(this,!1,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_adjustIndex(t){return t<0?t+this.length:t}_syncPendingControls(){let t=this.controls.reduce((e,i)=>!!i._syncPendingControls()||e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((e,i)=>{t(e,i)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}_find(t){return this.at(t)??null}}function vE(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let Ub=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const e=new n;return e.useNonNullable=!0,e}group(e,i=null){const r=this._reduceControls(e);let o={};return vE(i)?o=i:null!==i&&(o.validators=i.validator,o.asyncValidators=i.asyncValidator),new Fh(r,o)}record(e,i=null){const r=this._reduceControls(e);return new NA(r,i)}control(e,i,r){let o={};return this.useNonNullable?(vE(i)?o=i:(o.validators=i,o.asyncValidators=r),new Il(e,{...o,nonNullable:!0})):new Il(e,i,r)}array(e,i,r){const o=e.map(u=>this._createControl(u));return new nx(o,i,r)}_reduceControls(e){const i={};return Object.keys(e).forEach(r=>{i[r]=this._createControl(e[r])}),i}_createControl(e){return e instanceof Il||e instanceof Ph?e:Array.isArray(e)?this.control(e[0],e.length>1?e[1]:null,e.length>2?e[2]:null):this.control(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:tx}),n})();var kr=F(2122);function ks(){return(0,ii.e)((n,t)=>{let e,i=!1;n.subscribe((0,Nn.x)(t,r=>{const o=e;e=r,i&&t.next([o,r]),i=!0}))})}var ht,jo=F(2011),sx=(F(9169),F(3942)),Xi=F(9681),w_=F(4859),Ra=F(1877),bn=F(2090),ox=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Go={},C_=C_||{},Gt=ox||self;function jp(){}function Gp(n){var t=typeof n;return"array"==(t="object"!=t?t:n?Array.isArray(n)?"array":t:"null")||"object"==t&&"number"==typeof n.length}function zp(n){var t=typeof n;return"object"==t&&null!=n||"function"==t}var Hb="closure_uid_"+(1e9*Math.random()>>>0),jb=0;function Uc(n,t,e){return n.call.apply(n.bind,arguments)}function CE(n,t,e){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(t,r)}}return function(){return n.apply(t,arguments)}}function er(n,t,e){return(er=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Uc:CE).apply(null,arguments)}function lo(n,t){var e=Array.prototype.slice.call(arguments,1);return function(){var i=e.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function gr(n,t){function e(){}e.prototype=t.prototype,n.X=t.prototype,n.prototype=new e,n.prototype.constructor=n,n.Wb=function(i,r,o){for(var u=Array(arguments.length-2),h=2;h<arguments.length;h++)u[h-2]=arguments[h];return t.prototype[r].apply(i,u)}}function ad(){this.s=this.s,this.o=this.o}ad.prototype.s=!1,ad.prototype.na=function(){!this.s&&(this.s=!0,this.M(),0)&&function wE(n){Object.prototype.hasOwnProperty.call(n,Hb)&&n[Hb]||(n[Hb]=++jb)}(this)},ad.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const DE=Array.prototype.indexOf?function(n,t){return Array.prototype.indexOf.call(n,t,void 0)}:function(n,t){if("string"==typeof n)return"string"!=typeof t||1!=t.length?-1:n.indexOf(t,0);for(let e=0;e<n.length;e++)if(e in n&&n[e]===t)return e;return-1};function Gb(n){const t=n.length;if(0<t){const e=Array(t);for(let i=0;i<t;i++)e[i]=n[i];return e}return[]}function EE(n,t){for(let e=1;e<arguments.length;e++){const i=arguments[e];if(Gp(i)){const r=n.length||0,o=i.length||0;n.length=r+o;for(let u=0;u<o;u++)n[r+u]=i[u]}else n.push(i)}}function _r(n,t){this.type=n,this.g=this.target=t,this.defaultPrevented=!1}_r.prototype.h=function(){this.defaultPrevented=!0};var sF=function(){if(!Gt.addEventListener||!Object.defineProperty)return!1;var n=!1,t=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Gt.addEventListener("test",jp,t),Gt.removeEventListener("test",jp,t)}catch{}return n}();function $p(n){return/^[\s\xa0]*$/.test(n)}var SE=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function D_(n,t){return n<t?-1:n>t?1:0}function zb(){var n=Gt.navigator;return n&&(n=n.userAgent)?n:""}function co(n){return-1!=zb().indexOf(n)}function E_(n){return E_[" "](n),n}E_[" "]=jp;var Zp,n,ME=co("Opera"),ld=co("Trident")||co("MSIE"),$b=co("Edge"),jh=$b||ld,qp=co("Gecko")&&!(-1!=zb().toLowerCase().indexOf("webkit")&&!co("Edge"))&&!(co("Trident")||co("MSIE"))&&!co("Edge"),TE=-1!=zb().toLowerCase().indexOf("webkit")&&!co("Edge");function AE(){var n=Gt.document;return n?n.documentMode:void 0}e:{var S_="",qb=(n=zb(),qp?/rv:([^\);]+)(\)|;)/.exec(n):$b?/Edge\/([\d\.]+)/.exec(n):ld?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):TE?/WebKit\/(\S+)/.exec(n):ME?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(qb&&(S_=qb?qb[1]:""),ld){var Zb=AE();if(null!=Zb&&Zb>parseFloat(S_)){Zp=String(Zb);break e}}Zp=S_}var oF={};var lx=Gt.document&&ld&&(AE()||parseInt(Zp,10))||void 0;function Yp(n,t){if(_r.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var e=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=t,t=n.relatedTarget){if(qp){e:{try{E_(t.nodeName);var r=!0;break e}catch{}r=!1}r||(t=null)}}else"mouseover"==e?t=n.fromElement:"mouseout"==e&&(t=n.toElement);this.relatedTarget=t,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:lF[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Yp.X.h.call(this)}}gr(Yp,_r);var lF={2:"touch",3:"pen",4:"mouse"};Yp.prototype.h=function(){Yp.X.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var M_="closure_listenable_"+(1e6*Math.random()|0),cF=0;function uF(n,t,e,i,r){this.listener=n,this.proxy=null,this.src=t,this.type=e,this.capture=!!i,this.ha=r,this.key=++cF,this.ba=this.ea=!1}function Yb(n){n.ba=!0,n.listener=null,n.proxy=null,n.src=null,n.ha=null}function Wb(n,t,e){for(const i in n)t.call(e,n[i],i,n)}function Wp(n){const t={};for(const e in n)t[e]=n[e];return t}const kE="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function RE(n,t){let e,i;for(let r=1;r<arguments.length;r++){for(e in i=arguments[r],i)n[e]=i[e];for(let o=0;o<kE.length;o++)e=kE[o],Object.prototype.hasOwnProperty.call(i,e)&&(n[e]=i[e])}}function Kp(n){this.src=n,this.g={},this.h=0}function Ml(n,t){var e=t.type;if(e in n.g){var o,i=n.g[e],r=DE(i,t);(o=0<=r)&&Array.prototype.splice.call(i,r,1),o&&(Yb(t),0==n.g[e].length&&(delete n.g[e],n.h--))}}function T_(n,t,e,i){for(var r=0;r<n.length;++r){var o=n[r];if(!o.ba&&o.listener==t&&o.capture==!!e&&o.ha==i)return r}return-1}Kp.prototype.add=function(n,t,e,i,r){var o=n.toString();(n=this.g[o])||(n=this.g[o]=[],this.h++);var u=T_(n,t,i,r);return-1<u?(t=n[u],e||(t.ea=!1)):((t=new uF(t,this.src,o,!!i,r)).ea=e,n.push(t)),t};var Qp="closure_lm_"+(1e6*Math.random()|0),Jp={};function OE(n,t,e,i,r){if(i&&i.once)return Xp(n,t,e,i,r);if(Array.isArray(t)){for(var o=0;o<t.length;o++)OE(n,t[o],e,i,r);return null}return e=Jb(e),n&&n[M_]?n.N(t,e,zp(i)?!!i.capture:!!i,r):A_(n,t,e,!1,i,r)}function A_(n,t,e,i,r,o){if(!t)throw Error("Invalid event type");var u=zp(r)?!!r.capture:!!r,h=x_(n);if(h||(n[Qp]=h=new Kp(n)),(e=h.add(t,e,i,u,o)).proxy)return e;if(i=function Kb(){const t=dF;return function n(e){return t.call(n.src,n.listener,e)}}(),e.proxy=i,i.src=n,i.listener=e,n.addEventListener)sF||(r=u),void 0===r&&(r=!1),n.addEventListener(t.toString(),i,r);else if(n.attachEvent)n.attachEvent(ux(t.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return e}function Xp(n,t,e,i,r){if(Array.isArray(t)){for(var o=0;o<t.length;o++)Xp(n,t[o],e,i,r);return null}return e=Jb(e),n&&n[M_]?n.O(t,e,zp(i)?!!i.capture:!!i,r):A_(n,t,e,!0,i,r)}function cx(n,t,e,i,r){if(Array.isArray(t))for(var o=0;o<t.length;o++)cx(n,t[o],e,i,r);else i=zp(i)?!!i.capture:!!i,e=Jb(e),n&&n[M_]?(n=n.i,(t=String(t).toString())in n.g&&-1<(e=T_(o=n.g[t],e,i,r))&&(Yb(o[e]),Array.prototype.splice.call(o,e,1),0==o.length&&(delete n.g[t],n.h--))):n&&(n=x_(n))&&(t=n.g[t.toString()],n=-1,t&&(n=T_(t,e,i,r)),(e=-1<n?t[n]:null)&&PE(e))}function PE(n){if("number"!=typeof n&&n&&!n.ba){var t=n.src;if(t&&t[M_])Ml(t.i,n);else{var e=n.type,i=n.proxy;t.removeEventListener?t.removeEventListener(e,i,n.capture):t.detachEvent?t.detachEvent(ux(e),i):t.addListener&&t.removeListener&&t.removeListener(i),(e=x_(t))?(Ml(e,n),0==e.h&&(e.src=null,t[Qp]=null)):Yb(n)}}}function ux(n){return n in Jp?Jp[n]:Jp[n]="on"+n}function dF(n,t){if(n.ba)n=!0;else{t=new Yp(t,this);var e=n.listener,i=n.ha||n.src;n.ea&&PE(n),n=e.call(i,t)}return n}function x_(n){return(n=n[Qp])instanceof Kp?n:null}var Qb="__closure_events_fn_"+(1e9*Math.random()>>>0);function Jb(n){return"function"==typeof n?n:(n[Qb]||(n[Qb]=function(t){return n.handleEvent(t)}),n[Qb])}function tr(){ad.call(this),this.i=new Kp(this),this.P=this,this.I=null}function yr(n,t){var e,i=n.I;if(i)for(e=[];i;i=i.I)e.push(i);if(n=n.P,i=t.type||t,"string"==typeof t)t=new _r(t,n);else if(t instanceof _r)t.target=t.target||n;else{var r=t;RE(t=new _r(i,n),r)}if(r=!0,e)for(var o=e.length-1;0<=o;o--){var u=t.g=e[o];r=em(u,i,!0,t)&&r}if(r=em(u=t.g=n,i,!0,t)&&r,r=em(u,i,!1,t)&&r,e)for(o=0;o<e.length;o++)r=em(u=t.g=e[o],i,!1,t)&&r}function em(n,t,e,i){if(!(t=n.i.g[String(t)]))return!0;t=t.concat();for(var r=!0,o=0;o<t.length;++o){var u=t[o];if(u&&!u.ba&&u.capture==e){var h=u.listener,_=u.ha||u.src;u.ea&&Ml(n.i,u),r=!1!==h.call(_,i)&&r}}return r&&!i.defaultPrevented}gr(tr,ad),tr.prototype[M_]=!0,tr.prototype.removeEventListener=function(n,t,e,i){cx(this,n,t,e,i)},tr.prototype.M=function(){if(tr.X.M.call(this),this.i){var t,n=this.i;for(t in n.g){for(var e=n.g[t],i=0;i<e.length;i++)Yb(e[i]);delete n.g[t],n.h--}}this.I=null},tr.prototype.N=function(n,t,e,i){return this.i.add(String(n),t,!1,e,i)},tr.prototype.O=function(n,t,e,i){return this.i.add(String(n),t,!0,e,i)};var k_=Gt.JSON.stringify;function FE(){var n=VE;let t=null;return n.g&&(t=n.g,n.g=n.g.next,n.g||(n.h=null),t.next=null),t}var R_,NE=new class{constructor(n,t){this.i=n,this.j=t,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new LE,n=>n.reset());class LE{constructor(){this.next=this.g=this.h=null}set(t,e){this.h=t,this.g=e,this.next=null}reset(){this.next=this.g=this.h=null}}function Xb(n){Gt.setTimeout(()=>{throw n},0)}function hx(n,t){R_||function ew(){var n=Gt.Promise.resolve(void 0);R_=function(){n.then(hF)}}(),tw||(R_(),tw=!0),VE.add(n,t)}var tw=!1,VE=new class dx{constructor(){this.h=this.g=null}add(t,e){const i=NE.get();i.set(t,e),this.h?this.h.next=i:this.g=i,this.h=i}};function hF(){for(var n;n=FE();){try{n.h.call(n.g)}catch(e){Xb(e)}var t=NE;t.j(n),100>t.h&&(t.h++,n.next=t.g,t.g=n)}tw=!1}function nw(n,t){tr.call(this),this.h=n||1,this.g=t||Gt,this.j=er(this.lb,this),this.l=Date.now()}function iw(n){n.ca=!1,n.R&&(n.g.clearTimeout(n.R),n.R=null)}function rw(n,t,e){if("function"==typeof n)e&&(n=er(n,e));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=er(n.handleEvent,n)}return 2147483647<Number(t)?-1:Gt.setTimeout(n,t||0)}function BE(n){n.g=rw(()=>{n.g=null,n.i&&(n.i=!1,BE(n))},n.j);const t=n.h;n.h=null,n.m.apply(null,t)}gr(nw,tr),(ht=nw.prototype).ca=!1,ht.R=null,ht.lb=function(){if(this.ca){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-n):(this.R&&(this.g.clearTimeout(this.R),this.R=null),yr(this,"tick"),this.ca&&(iw(this),this.start()))}},ht.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ht.M=function(){nw.X.M.call(this),iw(this),delete this.g};class fF extends ad{constructor(t,e){super(),this.m=t,this.j=e,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:BE(this)}M(){super.M(),this.g&&(Gt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function O_(n){ad.call(this),this.h=n,this.g={}}gr(O_,ad);var fx=[];function px(n,t,e,i){Array.isArray(e)||(e&&(fx[0]=e.toString()),e=fx);for(var r=0;r<e.length;r++){var o=OE(t,e[r],i||n.handleEvent,!1,n.h||n);if(!o)break;n.g[o.key]=o}}function mx(n){Wb(n.g,function(t,e){this.g.hasOwnProperty(e)&&PE(t)},n),n.g={}}function P_(){this.g=!0}function tm(n,t,e,i){n.info(function(){return"XMLHTTP TEXT ("+t+"): "+function _F(n,t){if(!n.g)return t;if(!t)return null;try{var e=JSON.parse(t);if(e)for(n=0;n<e.length;n++)if(Array.isArray(e[n])){var i=e[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var o=r[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var u=1;u<r.length;u++)r[u]=""}}}return k_(e)}catch{return t}}(n,e)+(i?" "+i:"")})}O_.prototype.M=function(){O_.X.M.call(this),mx(this)},O_.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},P_.prototype.Aa=function(){this.g=!1},P_.prototype.info=function(){};var Gh={},a=null;function l(){return a=a||new tr}function c(n){_r.call(this,Gh.Pa,n)}function d(n){const t=l();yr(t,new c(t))}function f(n,t){_r.call(this,Gh.STAT_EVENT,n),this.stat=t}function m(n){const t=l();yr(t,new f(t,n))}function v(n,t){_r.call(this,Gh.Qa,n),this.size=t}function C(n,t){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Gt.setTimeout(function(){n()},t)}Gh.Pa="serverreachability",gr(c,_r),Gh.STAT_EVENT="statevent",gr(f,_r),Gh.Qa="timingevent",gr(v,_r);var E={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},T={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function k(){}function z(){}k.prototype.h=null;var ze,X={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function ve(){_r.call(this,"d")}function Oe(){_r.call(this,"c")}function st(){}function bt(n,t,e,i){this.l=n,this.j=t,this.m=e,this.U=i||1,this.S=new O_(this),this.O=Ot,this.T=new nw(n=jh?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new Ae}function Ae(){this.i=null,this.g="",this.h=!1}gr(ve,_r),gr(Oe,_r),gr(st,k),st.prototype.g=function(){return new XMLHttpRequest},st.prototype.i=function(){return{}},ze=new st;var Ot=45e3,pn={},Bn={};function Tl(n,t,e){n.K=1,n.v=jE(dd(t)),n.s=e,n.P=!0,F_(n,null)}function F_(n,t){n.F=Date.now(),cd(n),n.A=dd(n.v);var e=n.A,i=n.U;Array.isArray(i)||(i=[String(i)]),EF(e.i,"t",i),n.C=0,e=n.l.H,n.h=new Ae,n.g=YF(n.l,e?t:null,!n.s),0<n.N&&(n.L=new fF(er(n.La,n,n.g),n.N)),px(n.S,n.g,"readystatechange",n.ib),t=n.H?Wp(n.H):{},n.s?(n.u||(n.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",n.g.da(n.A,n.u,n.s,t)):(n.u="GET",n.g.da(n.A,n.u,null,t)),d(),function pF(n,t,e,i,r,o){n.info(function(){if(n.g)if(o)for(var u="",h=o.split("&"),_=0;_<h.length;_++){var b=h[_].split("=");if(1<b.length){var D=b[0];b=b[1];var M=D.split("_");u=2<=M.length&&"type"==M[1]?u+(D+"=")+b+"&":u+(D+"=redacted&")}}else u=null;else u=o;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+t+"\n"+e+"\n"+u})}(n.j,n.u,n.A,n.m,n.U,n.s)}function N_(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Da}function L_(n,t,e){let r,i=!0;for(;!n.I&&n.C<e.length;){if(r=sw(n,e),r==Bn){4==t&&(n.o=4,m(14),i=!1),tm(n.j,n.m,null,"[Incomplete Response]");break}if(r==pn){n.o=4,m(15),tm(n.j,n.m,e,"[Invalid Chunk]"),i=!1;break}tm(n.j,n.m,r,null),gx(n,r)}N_(n)&&r!=Bn&&r!=pn&&(n.h.g="",n.C=0),4!=t||0!=e.length||n.h.h||(n.o=1,m(16),i=!1),n.i=n.i&&i,i?0<e.length&&!n.$&&(n.$=!0,(t=n.l).g==n&&t.$&&!t.K&&(t.j.info("Great, no buffering proxy detected. Bytes received: "+e.length),Ex(t),t.K=!0,m(11))):(tm(n.j,n.m,e,"[Invalid Chunked Response]"),Al(n),ud(n))}function sw(n,t){var e=n.C,i=t.indexOf("\n",e);return-1==i?Bn:(e=Number(t.substring(e,i)),isNaN(e)?pn:(i+=1)+e>t.length?Bn:(t=t.substr(i,e),n.C=i+e,t))}function cd(n){n.V=Date.now()+n.O,V_(n,n.O)}function V_(n,t){if(null!=n.B)throw Error("WatchDog timer not null");n.B=C(er(n.gb,n),t)}function zh(n){n.B&&(Gt.clearTimeout(n.B),n.B=null)}function ud(n){0==n.l.G||n.I||zF(n.l,n)}function Al(n){zh(n);var t=n.L;t&&"function"==typeof t.na&&t.na(),n.L=null,iw(n.T),mx(n.S),n.g&&(t=n.g,n.g=null,t.abort(),t.na())}function gx(n,t){try{var e=n.l;if(0!=e.G&&(e.g==n||_x(e.h,n)))if(!n.J&&_x(e.h,n)&&3==e.G){try{var i=e.Fa.g.parse(t)}catch{i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){e:if(!e.u){if(e.g){if(!(e.g.F+3e3<n.F))break e;YE(e),qE(e)}Dx(e),m(18)}}else e.Ba=r[1],0<e.Ba-e.T&&37500>r[2]&&e.L&&0==e.A&&!e.v&&(e.v=C(er(e.cb,e),6e3));if(1>=MF(e.h)&&e.ja){try{e.ja()}catch{}e.ja=void 0}}else im(e,11)}else if((n.J||e.g==n)&&YE(e),!$p(t))for(r=e.Fa.g.parse(t),t=0;t<r.length;t++){let b=r[t];if(e.T=b[0],b=b[1],2==e.G)if("c"==b[0]){e.I=b[1],e.ka=b[2];const D=b[3];null!=D&&(e.ma=D,e.j.info("VER="+e.ma));const M=b[4];null!=M&&(e.Ca=M,e.j.info("SVER="+e.Ca));const O=b[5];null!=O&&"number"==typeof O&&0<O&&(e.J=i=1.5*O,e.j.info("backChannelRequestTimeoutMs_="+i)),i=e;const B=n.g;if(B){const $=B.g?B.g.getResponseHeader("X-Client-Wire-Protocol"):null;if($){var o=i.h;o.g||-1==$.indexOf("spdy")&&-1==$.indexOf("quic")&&-1==$.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(yx(o,o.h),o.h=null))}if(i.D){const ne=B.g?B.g.getResponseHeader("X-HTTP-Session-Id"):null;ne&&(i.za=ne,yi(i.F,i.D,ne))}}e.G=3,e.l&&e.l.xa(),e.$&&(e.P=Date.now()-n.F,e.j.info("Handshake RTT: "+e.P+"ms"));var u=n;if((i=e).sa=ZF(i,i.H?i.ka:null,i.V),u.J){TF(i.h,u);var h=u,_=i.J;_&&h.setTimeout(_),h.B&&(zh(h),cd(h)),i.g=u}else jF(i);0<e.i.length&&ZE(e)}else"stop"!=b[0]&&"close"!=b[0]||im(e,7);else 3==e.G&&("stop"==b[0]||"close"==b[0]?"stop"==b[0]?im(e,7):Cx(e):"noop"!=b[0]&&e.l&&e.l.wa(b),e.A=0)}d()}catch{}}function yF(n,t){if(n.forEach&&"function"==typeof n.forEach)n.forEach(t,void 0);else if(Gp(n)||"string"==typeof n)Array.prototype.forEach.call(n,t,void 0);else for(var e=function zH(n){if(n.oa&&"function"==typeof n.oa)return n.oa();if(!n.W||"function"!=typeof n.W){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(Gp(n)||"string"==typeof n){var t=[];n=n.length;for(var e=0;e<n;e++)t.push(e);return t}t=[],e=0;for(const i in n)t[e++]=i;return t}}}(n),i=function GH(n){if(n.W&&"function"==typeof n.W)return n.W();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(Gp(n)){for(var t=[],e=n.length,i=0;i<e;i++)t.push(n[i]);return t}for(i in t=[],e=0,n)t[e++]=n[i];return t}(n),r=i.length,o=0;o<r;o++)t.call(void 0,i[o],e&&e[o],n)}(ht=bt.prototype).setTimeout=function(n){this.O=n},ht.ib=function(n){n=n.target;const t=this.L;t&&3==hd(n)?t.l():this.La(n)},ht.La=function(n){try{if(n==this.g)e:{const D=hd(this.g);var t=this.g.Ea();if(this.g.aa(),!(3>D)&&(3!=D||jh||this.g&&(this.h.h||this.g.fa()||NF(this.g)))){this.I||4!=D||7==t||d(),zh(this);var e=this.g.aa();this.Y=e;t:if(N_(this)){var i=NF(this.g);n="";var r=i.length,o=4==hd(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Al(this),ud(this);var u="";break t}this.h.i=new Gt.TextDecoder}for(t=0;t<r;t++)this.h.h=!0,n+=this.h.i.decode(i[t],{stream:o&&t==r-1});i.splice(0,r),this.h.g+=n,this.C=0,u=this.h.g}else u=this.g.fa();if(this.i=200==e,function mF(n,t,e,i,r,o,u){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+t+"\n"+e+"\n"+o+" "+u})}(this.j,this.u,this.A,this.m,this.U,D,e),this.i){if(this.Z&&!this.J){t:{if(this.g){var h,_=this.g;if((h=_.g?_.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!$p(h)){var b=h;break t}}b=null}if(!(e=b)){this.i=!1,this.o=3,m(12),Al(this),ud(this);break e}tm(this.j,this.m,e,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,gx(this,e)}this.P?(L_(this,D,u),jh&&this.i&&3==D&&(px(this.S,this.T,"tick",this.hb),this.T.start())):(tm(this.j,this.m,u,null),gx(this,u)),4==D&&Al(this),this.i&&!this.I&&(4==D?zF(this.l,this):(this.i=!1,cd(this)))}else 400==e&&0<u.indexOf("Unknown SID")?(this.o=3,m(12)):(this.o=0,m(13)),Al(this),ud(this)}}}catch{}},ht.hb=function(){if(this.g){var n=hd(this.g),t=this.g.fa();this.C<t.length&&(zh(this),L_(this,n,t),this.i&&4!=n&&cd(this))}},ht.cancel=function(){this.I=!0,Al(this)},ht.gb=function(){this.B=null;const n=Date.now();0<=n-this.V?(function gF(n,t){n.info(function(){return"TIMEOUT: "+t})}(this.j,this.A),2!=this.K&&(d(),m(17)),Al(this),this.o=2,ud(this)):V_(this,this.V-n)};var vF=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function nm(n,t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof nm){this.h=void 0!==t?t:n.h,UE(this,n.j),this.s=n.s,this.g=n.g,HE(this,n.m),this.l=n.l,t=n.i;var e=new lw;e.i=t.i,t.g&&(e.g=new Map(t.g),e.h=t.h),bF(this,e),this.o=n.o}else n&&(e=String(n).match(vF))?(this.h=!!t,UE(this,e[1]||"",!0),this.s=ow(e[2]||""),this.g=ow(e[3]||"",!0),HE(this,e[4]),this.l=ow(e[5]||"",!0),bF(this,e[6]||"",!0),this.o=ow(e[7]||"")):(this.h=!!t,this.i=new lw(null,this.h))}function dd(n){return new nm(n)}function UE(n,t,e){n.j=e?ow(t,!0):t,n.j&&(n.j=n.j.replace(/:$/,""))}function HE(n,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);n.m=t}else n.m=null}function bF(n,t,e){t instanceof lw?(n.i=t,function QH(n,t){t&&!n.j&&($h(n),n.i=null,n.g.forEach(function(e,i){var r=i.toLowerCase();i!=r&&(CF(this,i),EF(this,r,e))},n)),n.j=t}(n.i,n.h)):(e||(t=aw(t,WH)),n.i=new lw(t,n.h))}function yi(n,t,e){n.i.set(t,e)}function jE(n){return yi(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function ow(n,t){return n?t?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function aw(n,t,e){return"string"==typeof n?(n=encodeURI(n).replace(t,qH),e&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function qH(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}nm.prototype.toString=function(){var n=[],t=this.j;t&&n.push(aw(t,wF,!0),":");var e=this.g;return(e||"file"==t)&&(n.push("//"),(t=this.s)&&n.push(aw(t,wF,!0),"@"),n.push(encodeURIComponent(String(e)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(e=this.m)&&n.push(":",String(e))),(e=this.l)&&(this.g&&"/"!=e.charAt(0)&&n.push("/"),n.push(aw(e,"/"==e.charAt(0)?YH:ZH,!0))),(e=this.i.toString())&&n.push("?",e),(e=this.o)&&n.push("#",aw(e,KH)),n.join("")};var wF=/[#\/\?@]/g,ZH=/[#\?:]/g,YH=/[#\?]/g,WH=/[#\?@]/g,KH=/#/g;function lw(n,t){this.h=this.g=null,this.i=n||null,this.j=!!t}function $h(n){n.g||(n.g=new Map,n.h=0,n.i&&function $H(n,t){if(n){n=n.split("&");for(var e=0;e<n.length;e++){var i=n[e].indexOf("="),r=null;if(0<=i){var o=n[e].substring(0,i);r=n[e].substring(i+1)}else o=n[e];t(o,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(t,e){n.add(decodeURIComponent(t.replace(/\+/g," ")),e)}))}function CF(n,t){$h(n),t=B_(n,t),n.g.has(t)&&(n.i=null,n.h-=n.g.get(t).length,n.g.delete(t))}function DF(n,t){return $h(n),t=B_(n,t),n.g.has(t)}function EF(n,t,e){CF(n,t),0<e.length&&(n.i=null,n.g.set(B_(n,t),Gb(e)),n.h+=e.length)}function B_(n,t){return t=String(t),n.j&&(t=t.toLowerCase()),t}function SF(n){this.l=n||XH,n=Gt.PerformanceNavigationTiming?0<(n=Gt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Gt.g&&Gt.g.Ga&&Gt.g.Ga()&&Gt.g.Ga().$b),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(ht=lw.prototype).add=function(n,t){$h(this),this.i=null,n=B_(this,n);var e=this.g.get(n);return e||this.g.set(n,e=[]),e.push(t),this.h+=1,this},ht.forEach=function(n,t){$h(this),this.g.forEach(function(e,i){e.forEach(function(r){n.call(t,r,i,this)},this)},this)},ht.oa=function(){$h(this);const n=Array.from(this.g.values()),t=Array.from(this.g.keys()),e=[];for(let i=0;i<t.length;i++){const r=n[i];for(let o=0;o<r.length;o++)e.push(t[i])}return e},ht.W=function(n){$h(this);let t=[];if("string"==typeof n)DF(this,n)&&(t=t.concat(this.g.get(B_(this,n))));else{n=Array.from(this.g.values());for(let e=0;e<n.length;e++)t=t.concat(n[e])}return t},ht.set=function(n,t){return $h(this),this.i=null,DF(this,n=B_(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[t]),this.h+=1,this},ht.get=function(n,t){return n&&0<(n=this.W(n)).length?String(n[0]):t},ht.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],t=Array.from(this.g.keys());for(var e=0;e<t.length;e++){var i=t[e];const o=encodeURIComponent(String(i)),u=this.W(i);for(i=0;i<u.length;i++){var r=o;""!==u[i]&&(r+="="+encodeURIComponent(String(u[i]))),n.push(r)}}return this.i=n.join("&")};var XH=10;function IF(n){return!!n.h||!!n.g&&n.g.size>=n.j}function MF(n){return n.h?1:n.g?n.g.size:0}function _x(n,t){return n.h?n.h==t:!!n.g&&n.g.has(t)}function yx(n,t){n.g?n.g.add(t):n.h=t}function TF(n,t){n.h&&n.h==t?n.h=null:n.g&&n.g.has(t)&&n.g.delete(t)}function AF(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let t=n.i;for(const e of n.g.values())t=t.concat(e.D);return t}return Gb(n.i)}function vx(){}function e3(){this.g=new vx}function t3(n,t,e){const i=e||"";try{yF(n,function(r,o){let u=r;zp(r)&&(u=k_(r)),t.push(i+o+"="+encodeURIComponent(u))})}catch(r){throw t.push(i+"type="+encodeURIComponent("_badmap")),r}}function GE(n,t,e,i,r){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,r(i)}catch{}}function cw(n){this.l=n.ac||null,this.j=n.jb||!1}function zE(n,t){tr.call(this),this.D=n,this.u=t,this.m=void 0,this.readyState=bx,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}SF.prototype.cancel=function(){if(this.i=AF(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},vx.prototype.stringify=function(n){return Gt.JSON.stringify(n,void 0)},vx.prototype.parse=function(n){return Gt.JSON.parse(n,void 0)},gr(cw,k),cw.prototype.g=function(){return new zE(this.l,this.j)},cw.prototype.i=function(n){return function(){return n}}({}),gr(zE,tr);var bx=0;function xF(n){n.j.read().then(n.Ta.bind(n)).catch(n.ga.bind(n))}function uw(n){n.readyState=4,n.l=null,n.j=null,n.A=null,dw(n)}function dw(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(ht=zE.prototype).open=function(n,t){if(this.readyState!=bx)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=t,this.readyState=1,dw(this)},ht.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(t.body=n),(this.D||Gt).fetch(new Request(this.B,t)).then(this.Wa.bind(this),this.ga.bind(this))},ht.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,uw(this)),this.readyState=bx},ht.Wa=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,dw(this)),this.g&&(this.readyState=3,dw(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof Gt.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;xF(this)}else n.text().then(this.Va.bind(this),this.ga.bind(this))},ht.Ta=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var t=n.value?n.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!n.done}))&&(this.response=this.responseText+=t)}n.done?uw(this):dw(this),3==this.readyState&&xF(this)}},ht.Va=function(n){this.g&&(this.response=this.responseText=n,uw(this))},ht.Ua=function(n){this.g&&(this.response=n,uw(this))},ht.ga=function(){this.g&&uw(this)},ht.setRequestHeader=function(n,t){this.v.append(n,t)},ht.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},ht.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],t=this.h.entries();for(var e=t.next();!e.done;)n.push((e=e.value)[0]+": "+e[1]),e=t.next();return n.join("\r\n")},Object.defineProperty(zE.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var r3=Gt.JSON.parse;function ki(n){tr.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=kF,this.K=this.L=!1}gr(ki,tr);var kF="",s3=/^https?$/i,o3=["POST","PUT"];function RF(n,t){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=t,n.m=5,OF(n),$E(n)}function OF(n){n.D||(n.D=!0,yr(n,"complete"),yr(n,"error"))}function PF(n){if(n.h&&typeof C_<"u"&&(!n.C[1]||4!=hd(n)||2!=n.aa()))if(n.v&&4==hd(n))rw(n.Ha,0,n);else if(yr(n,"readystatechange"),4==hd(n)){n.h=!1;try{const h=n.aa();e:switch(h){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var e;if(!(e=t)){var i;if(i=0===h){var r=String(n.H).match(vF)[1]||null;if(!r&&Gt.self&&Gt.self.location){var o=Gt.self.location.protocol;r=o.substr(0,o.length-1)}i=!s3.test(r?r.toLowerCase():"")}e=i}if(e)yr(n,"complete"),yr(n,"success");else{n.m=6;try{var u=2<hd(n)?n.g.statusText:""}catch{u=""}n.j=u+" ["+n.aa()+"]",OF(n)}}finally{$E(n)}}}function $E(n,t){if(n.g){FF(n);const e=n.g,i=n.C[0]?jp:null;n.g=null,n.C=null,t||yr(n,"ready");try{e.onreadystatechange=i}catch{}}}function FF(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(Gt.clearTimeout(n.A),n.A=null)}function hd(n){return n.g?n.g.readyState:0}function NF(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case kF:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function LF(n){let t="";return Wb(n,function(e,i){t+=i,t+=":",t+=e,t+="\r\n"}),t}function wx(n,t,e){e:{for(i in e){var i=!1;break e}i=!0}i||(e=LF(e),"string"==typeof n?null!=e&&encodeURIComponent(String(e)):yi(n,t,e))}function hw(n,t,e){return e&&e.internalChannelParams&&e.internalChannelParams[n]||t}function VF(n){this.Ca=0,this.i=[],this.j=new P_,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=hw("failFast",!1,n),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=hw("baseRetryDelayMs",5e3,n),this.bb=hw("retryDelaySeedMs",1e4,n),this.$a=hw("forwardChannelMaxRetries",2,n),this.ta=hw("forwardChannelRequestTimeoutMs",2e4,n),this.ra=n&&n.xmlHttpFactory||void 0,this.Da=n&&n.Zb||!1,this.J=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.I="",this.h=new SF(n&&n.concurrentRequestLimit),this.Fa=new e3,this.O=n&&n.fastHandshake||!1,this.N=n&&n.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=n&&n.Xb||!1,n&&n.Aa&&this.j.Aa(),n&&n.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&n&&n.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function Cx(n){if(BF(n),3==n.G){var t=n.U++,e=dd(n.F);yi(e,"SID",n.I),yi(e,"RID",t),yi(e,"TYPE","terminate"),fw(n,e),(t=new bt(n,n.j,t,void 0)).K=2,t.v=jE(dd(e)),e=!1,Gt.navigator&&Gt.navigator.sendBeacon&&(e=Gt.navigator.sendBeacon(t.v.toString(),"")),!e&&Gt.Image&&((new Image).src=t.v,e=!0),e||(t.g=YF(t.l,null),t.g.da(t.v)),t.F=Date.now(),cd(t)}qF(n)}function qE(n){n.g&&(Ex(n),n.g.cancel(),n.g=null)}function BF(n){qE(n),n.u&&(Gt.clearTimeout(n.u),n.u=null),YE(n),n.h.cancel(),n.m&&("number"==typeof n.m&&Gt.clearTimeout(n.m),n.m=null)}function ZE(n){IF(n.h)||n.m||(n.m=!0,hx(n.Ja,n),n.C=0)}function UF(n,t){var e;e=t?t.m:n.U++;const i=dd(n.F);yi(i,"SID",n.I),yi(i,"RID",e),yi(i,"AID",n.T),fw(n,i),n.o&&n.s&&wx(i,n.o,n.s),e=new bt(n,n.j,e,n.C+1),null===n.o&&(e.H=n.s),t&&(n.i=t.D.concat(n.i)),t=HF(n,e,1e3),e.setTimeout(Math.round(.5*n.ta)+Math.round(.5*n.ta*Math.random())),yx(n.h,e),Tl(e,i,t)}function fw(n,t){n.ia&&Wb(n.ia,function(e,i){yi(t,i,e)}),n.l&&yF({},function(e,i){yi(t,i,e)})}function HF(n,t,e){e=Math.min(n.i.length,e);var i=n.l?er(n.l.Ra,n.l,n):null;e:{var r=n.i;let o=-1;for(;;){const u=["count="+e];-1==o?0<e?(o=r[0].h,u.push("ofs="+o)):o=0:u.push("ofs="+o);let h=!0;for(let _=0;_<e;_++){let b=r[_].h;const D=r[_].g;if(b-=o,0>b)o=Math.max(0,r[_].h-100),h=!1;else try{t3(D,u,"req"+b+"_")}catch{i&&i(D)}}if(h){i=u.join("&");break e}}}return n=n.i.splice(0,e),t.D=n,i}function jF(n){n.g||n.u||(n.Z=1,hx(n.Ia,n),n.A=0)}function Dx(n){return!(n.g||n.u||3<=n.A||(n.Z++,n.u=C(er(n.Ia,n),$F(n,n.A)),n.A++,0))}function Ex(n){null!=n.B&&(Gt.clearTimeout(n.B),n.B=null)}function GF(n){n.g=new bt(n,n.j,"rpc",n.Z),null===n.o&&(n.g.H=n.s),n.g.N=0;var t=dd(n.sa);yi(t,"RID","rpc"),yi(t,"SID",n.I),yi(t,"CI",n.L?"0":"1"),yi(t,"AID",n.T),yi(t,"TYPE","xmlhttp"),fw(n,t),n.o&&n.s&&wx(t,n.o,n.s),n.J&&n.g.setTimeout(n.J);var e=n.g;n=n.ka,e.K=1,e.v=jE(dd(t)),e.s=null,e.P=!0,F_(e,n)}function YE(n){null!=n.v&&(Gt.clearTimeout(n.v),n.v=null)}function zF(n,t){var e=null;if(n.g==t){YE(n),Ex(n),n.g=null;var i=2}else{if(!_x(n.h,t))return;e=t.D,TF(n.h,t),i=1}if(0!=n.G)if(n.pa=t.Y,t.i)if(1==i){e=t.s?t.s.length:0,t=Date.now()-t.F;var r=n.C;yr(i=l(),new v(i,e)),ZE(n)}else jF(n);else if(3==(r=t.o)||0==r&&0<n.pa||!(1==i&&function l3(n,t){return!(MF(n.h)>=n.h.j-(n.m?1:0)||(n.m?(n.i=t.D.concat(n.i),0):1==n.G||2==n.G||n.C>=(n.Za?0:n.$a)||(n.m=C(er(n.Ja,n,t),$F(n,n.C)),n.C++,0)))}(n,t)||2==i&&Dx(n)))switch(e&&0<e.length&&(t=n.h,t.i=t.i.concat(e)),r){case 1:im(n,5);break;case 4:im(n,10);break;case 3:im(n,6);break;default:im(n,2)}}function $F(n,t){let e=n.Xa+Math.floor(Math.random()*n.bb);return n.l||(e*=2),e*t}function im(n,t){if(n.j.info("Error code "+t),2==t){var e=null;n.l&&(e=null);var i=er(n.kb,n);e||(e=new nm("//www.google.com/images/cleardot.gif"),Gt.location&&"http"==Gt.location.protocol||UE(e,"https"),jE(e)),function n3(n,t){const e=new P_;if(Gt.Image){const i=new Image;i.onload=lo(GE,e,i,"TestLoadImage: loaded",!0,t),i.onerror=lo(GE,e,i,"TestLoadImage: error",!1,t),i.onabort=lo(GE,e,i,"TestLoadImage: abort",!1,t),i.ontimeout=lo(GE,e,i,"TestLoadImage: timeout",!1,t),Gt.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else t(!1)}(e.toString(),i)}else m(2);n.G=0,n.l&&n.l.va(t),qF(n),BF(n)}function qF(n){if(n.G=0,n.la=[],n.l){const t=AF(n.h);(0!=t.length||0!=n.i.length)&&(EE(n.la,t),EE(n.la,n.i),n.h.i.length=0,Gb(n.i),n.i.length=0),n.l.ua()}}function ZF(n,t,e){var i=e instanceof nm?dd(e):new nm(e,void 0);if(""!=i.g)t&&(i.g=t+"."+i.g),HE(i,i.m);else{var r=Gt.location;i=r.protocol,t=t?t+"."+r.hostname:r.hostname,r=+r.port;var o=new nm(null,void 0);i&&UE(o,i),t&&(o.g=t),r&&HE(o,r),e&&(o.l=e),i=o}return t=n.za,(e=n.D)&&t&&yi(i,e,t),yi(i,"VER",n.ma),fw(n,i),i}function YF(n,t,e){if(t&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new ki(e&&n.Da&&!n.ra?new cw({jb:!0}):n.ra)).Ka(n.H),t}function WF(){}function WE(){if(ld&&!(10<=Number(lx)))throw Error("Environmental error: no available transport.")}function zo(n,t){tr.call(this),this.g=new VF(t),this.l=n,this.h=t&&t.messageUrlParams||null,n=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(n?n["X-WebChannel-Content-Type"]=t.messageContentType:n={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(n?n["X-WebChannel-Client-Profile"]=t.ya:n={"X-WebChannel-Client-Profile":t.ya}),this.g.S=n,(n=t&&t.Yb)&&!$p(n)&&(this.g.o=n),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!$p(t)&&(this.g.D=t,null!==(n=this.h)&&t in n&&t in(n=this.h)&&delete n[t]),this.j=new U_(this)}function KF(n){ve.call(this);var t=n.__sm__;if(t){e:{for(const e in t){n=e;break e}n=void 0}(this.i=n)&&(n=this.i,t=null!==t&&n in t?t[n]:void 0),this.data=t}else this.data=n}function QF(){Oe.call(this),this.status=1}function U_(n){this.g=n}(ht=ki.prototype).Ka=function(n){this.L=n},ht.da=function(n,t,e,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);t=t?t.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():ze.g(),this.C=function N(n){return n.h||(n.h=n.i())}(this.u?this.u:ze),this.g.onreadystatechange=er(this.Ha,this);try{this.F=!0,this.g.open(t,String(n),!0),this.F=!1}catch(o){return void RF(this,o)}if(n=e||"",e=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)e.set(r,i[r]);else{if("function"!=typeof i.keys||"function"!=typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const o of i.keys())e.set(o,i.get(o))}i=Array.from(e.keys()).find(o=>"content-type"==o.toLowerCase()),r=Gt.FormData&&n instanceof Gt.FormData,!(0<=DE(o3,t))||i||r||e.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,u]of e)this.g.setRequestHeader(o,u);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{FF(this),0<this.B&&((this.K=function a3(n){return ld&&function aF(){return function IE(n){var t=oF;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=n(9)}(function(){let n=0;const t=SE(String(Zp)).split("."),e=SE("9").split("."),i=Math.max(t.length,e.length);for(let u=0;0==n&&u<i;u++){var r=t[u]||"",o=e[u]||"";do{if(r=/(\d*)(\D*)(.*)/.exec(r)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==r[0].length&&0==o[0].length)break;n=D_(0==r[1].length?0:parseInt(r[1],10),0==o[1].length?0:parseInt(o[1],10))||D_(0==r[2].length,0==o[2].length)||D_(r[2],o[2]),r=r[3],o=o[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=er(this.qa,this)):this.A=rw(this.qa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(o){RF(this,o)}},ht.qa=function(){typeof C_<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,yr(this,"timeout"),this.abort(8))},ht.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,yr(this,"complete"),yr(this,"abort"),$E(this))},ht.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),$E(this,!0)),ki.X.M.call(this)},ht.Ha=function(){this.s||(this.F||this.v||this.l?PF(this):this.fb())},ht.fb=function(){PF(this)},ht.aa=function(){try{return 2<hd(this)?this.g.status:-1}catch{return-1}},ht.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},ht.Sa=function(n){if(this.g){var t=this.g.responseText;return n&&0==t.indexOf(n)&&(t=t.substring(n.length)),r3(t)}},ht.Ea=function(){return this.m},ht.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(ht=VF.prototype).ma=8,ht.G=1,ht.Ja=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.U=Math.floor(1e5*Math.random()),n=this.U++;const r=new bt(this,this.j,n,void 0);let o=this.s;if(this.S&&(o?(o=Wp(o),RE(o,this.S)):o=this.S),null!==this.o||this.N||(r.H=o,o=null),this.O)e:{for(var t=0,e=0;e<this.i.length;e++){var i=this.i[e];if(void 0===(i="__data__"in i.g&&"string"==typeof(i=i.g.__data__)?i.length:void 0))break;if(4096<(t+=i)){t=e;break e}if(4096===t||e===this.i.length-1){t=e+1;break e}}t=1e3}else t=1e3;t=HF(this,r,t),yi(e=dd(this.F),"RID",n),yi(e,"CVER",22),this.D&&yi(e,"X-HTTP-Session-Id",this.D),fw(this,e),o&&(this.N?t="headers="+encodeURIComponent(String(LF(o)))+"&"+t:this.o&&wx(e,this.o,o)),yx(this.h,r),this.Ya&&yi(e,"TYPE","init"),this.O?(yi(e,"$req",t),yi(e,"SID","null"),r.Z=!0,Tl(r,e,null)):Tl(r,e,t),this.G=2}}else 3==this.G&&(n?UF(this,n):0==this.i.length||IF(this.h)||UF(this))},ht.Ia=function(){if(this.u=null,GF(this),this.$&&!(this.K||null==this.g||0>=this.P)){var n=2*this.P;this.j.info("BP detection timer enabled: "+n),this.B=C(er(this.eb,this),n)}},ht.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,m(10),qE(this),GF(this))},ht.cb=function(){null!=this.v&&(this.v=null,qE(this),Dx(this),m(19))},ht.kb=function(n){n?(this.j.info("Successfully pinged google.com"),m(2)):(this.j.info("Failed to ping google.com"),m(1))},(ht=WF.prototype).xa=function(){},ht.wa=function(){},ht.va=function(){},ht.ua=function(){},ht.Ra=function(){},WE.prototype.g=function(n,t){return new zo(n,t)},gr(zo,tr),zo.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var n=this.g,t=this.l,e=this.h||void 0;m(0),n.V=t,n.ia=e||{},n.L=n.Y,n.F=ZF(n,null,n.V),ZE(n)},zo.prototype.close=function(){Cx(this.g)},zo.prototype.u=function(n){var t=this.g;if("string"==typeof n){var e={};e.__data__=n,n=e}else this.v&&((e={}).__data__=k_(n),n=e);t.i.push(new class{constructor(n,t){this.h=n,this.g=t}}(t.ab++,n)),3==t.G&&ZE(t)},zo.prototype.M=function(){this.g.l=null,delete this.j,Cx(this.g),delete this.g,zo.X.M.call(this)},gr(KF,ve),gr(QF,Oe),gr(U_,WF),U_.prototype.xa=function(){yr(this.g,"a")},U_.prototype.wa=function(n){yr(this.g,new KF(n))},U_.prototype.va=function(n){yr(this.g,new QF)},U_.prototype.ua=function(){yr(this.g,"b")},WE.prototype.createWebChannel=WE.prototype.g,zo.prototype.send=zo.prototype.u,zo.prototype.open=zo.prototype.m,zo.prototype.close=zo.prototype.close,E.NO_ERROR=0,E.TIMEOUT=8,E.HTTP_ERROR=6,T.COMPLETE="complete",z.EventType=X,X.OPEN="a",X.CLOSE="b",X.ERROR="c",X.MESSAGE="d",tr.prototype.listen=tr.prototype.N,ki.prototype.listenOnce=ki.prototype.O,ki.prototype.getLastError=ki.prototype.Oa,ki.prototype.getLastErrorCode=ki.prototype.Ea,ki.prototype.getStatus=ki.prototype.aa,ki.prototype.getResponseJson=ki.prototype.Sa,ki.prototype.getResponseText=ki.prototype.fa,ki.prototype.send=ki.prototype.da,ki.prototype.setWithCredentials=ki.prototype.Ka;var c3=Go.createWebChannelTransport=function(){return new WE},u3=Go.getStatEventTarget=function(){return l()},Sx=Go.ErrorCode=E,d3=Go.EventType=T,h3=Go.Event=Gh,JF=Go.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},f3=Go.FetchXmlHttpFactory=cw,KE=Go.WebChannel=z,p3=Go.XhrIo=ki;const XF="@firebase/firestore";class Rr{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Rr.UNAUTHENTICATED=new Rr(null),Rr.GOOGLE_CREDENTIALS=new Rr("google-credentials-uid"),Rr.FIRST_PARTY=new Rr("first-party-uid"),Rr.MOCK_USER=new Rr("mock-user");let H_="9.15.0";const qh=new Ra.Yd("@firebase/firestore");function Ix(){return qh.logLevel}function Pe(n,...t){if(qh.logLevel<=Ra.in.DEBUG){const e=t.map(Mx);qh.debug(`Firestore (${H_}): ${n}`,...e)}}function ji(n,...t){if(qh.logLevel<=Ra.in.ERROR){const e=t.map(Mx);qh.error(`Firestore (${H_}): ${n}`,...e)}}function rm(n,...t){if(qh.logLevel<=Ra.in.WARN){const e=t.map(Mx);qh.warn(`Firestore (${H_}): ${n}`,...e)}}function Mx(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function ot(n="Unexpected state"){const t=`FIRESTORE (${H_}) INTERNAL ASSERTION FAILED: `+n;throw ji(t),new Error(t)}function vt(n,t){n||ot()}function Qe(n,t){return n}const de={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ke extends bn.ZR{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class vr{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}class eN{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class _3{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(Rr.UNAUTHENTICATED))}shutdown(){}}class y3{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class v3{constructor(t){this.t=t,this.currentUser=Rr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){var i=this;let r=this.i;const o=b=>this.i!==r?(r=this.i,e(b)):Promise.resolve();let u=new vr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new vr,t.enqueueRetryable(()=>o(this.currentUser))};const h=()=>{const b=u;t.enqueueRetryable((0,ye.Z)(function*(){yield b.promise,yield o(i.currentUser)}))},_=b=>{Pe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=b,this.auth.addAuthTokenListener(this.o),h()};this.t.onInit(b=>_(b)),setTimeout(()=>{if(!this.auth){const b=this.t.getImmediate({optional:!0});b?_(b):(Pe("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new vr)}},0),h()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(i=>this.i!==t?(Pe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(vt("string"==typeof i.accessToken),new eN(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return vt(null===t||"string"==typeof t),new Rr(t)}}class b3{constructor(t,e,i,r){this.h=t,this.l=e,this.m=i,this.g=r,this.type="FirstParty",this.user=Rr.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(vt(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const t=this.I();return t&&this.p.set("Authorization",t),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class w3{constructor(t,e,i,r){this.h=t,this.l=e,this.m=i,this.g=r}getToken(){return Promise.resolve(new b3(this.h,this.l,this.m,this.g))}start(t,e){t.enqueueRetryable(()=>e(Rr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class tN{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class C3{constructor(t){this.T=t,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(t,e){const i=o=>{null!=o.error&&Pe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const u=o.token!==this.A;return this.A=o.token,Pe("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?e(o.token):Promise.resolve()};this.o=o=>{t.enqueueRetryable(()=>i(o))};const r=o=>{Pe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.T.onInit(o=>r(o)),setTimeout(()=>{if(!this.appCheck){const o=this.T.getImmediate({optional:!0});o?r(o):Pe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(vt("string"==typeof e.token),this.A=e.token,new tN(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function D3(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(e);else for(let i=0;i<n;i++)e[i]=Math.floor(256*Math.random());return e}class nN{static R(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length;let i="";for(;i.length<20;){const r=D3(40);for(let o=0;o<r.length;++o)i.length<20&&r[o]<e&&(i+=t.charAt(r[o]%t.length))}return i}}function Zt(n,t){return n<t?-1:n>t?1:0}function j_(n,t,e){return n.length===t.length&&n.every((i,r)=>e(i,t[r]))}function iN(n){return n+"\0"}class vi{constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new ke(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new ke(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new ke(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ke(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return vi.fromMillis(Date.now())}static fromDate(t){return vi.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor(1e6*(t-1e3*e));return new vi(e,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?Zt(this.nanoseconds,t.nanoseconds):Zt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Dt{constructor(t){this.timestamp=t}static fromTimestamp(t){return new Dt(t)}static min(){return new Dt(new vi(0,0))}static max(){return new Dt(new vi(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class pw{constructor(t,e,i){void 0===e?e=0:e>t.length&&ot(),void 0===i?i=t.length-e:i>t.length-e&&ot(),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return 0===pw.comparator(this,t)}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof pw?t.forEach(i=>{e.push(i)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let r=0;r<i;r++){const o=t.get(r),u=e.get(r);if(o<u)return-1;if(o>u)return 1}return t.length<e.length?-1:t.length>e.length?1:0}}class wn extends pw{construct(t,e,i){return new wn(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new ke(de.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter(r=>r.length>0))}return new wn(e)}static emptyPath(){return new wn([])}}const E3=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ri extends pw{construct(t,e,i){return new Ri(t,e,i)}static isValidIdentifier(t){return E3.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ri.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Ri(["__name__"])}static fromServerFormat(t){const e=[];let i="",r=0;const o=()=>{if(0===i.length)throw new ke(de.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let u=!1;for(;r<t.length;){const h=t[r];if("\\"===h){if(r+1===t.length)throw new ke(de.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const _=t[r+1];if("\\"!==_&&"."!==_&&"`"!==_)throw new ke(de.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=_,r+=2}else"`"===h?(u=!u,r++):"."!==h||u?(i+=h,r++):(o(),r++)}if(o(),u)throw new ke(de.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ri(e)}static emptyPath(){return new Ri([])}}class Ye{constructor(t){this.path=t}static fromPath(t){return new Ye(wn.fromString(t))}static fromName(t){return new Ye(wn.fromString(t).popFirst(5))}static empty(){return new Ye(wn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return null!==t&&0===wn.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,e){return wn.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Ye(new wn(t.slice()))}}class QE{constructor(t,e,i,r){this.indexId=t,this.collectionGroup=e,this.fields=i,this.indexState=r}}function Tx(n){return n.fields.find(t=>2===t.kind)}function sm(n){return n.fields.filter(t=>2!==t.kind)}QE.UNKNOWN_ID=-1;class JE{constructor(t,e){this.fieldPath=t,this.kind=e}}class mw{constructor(t,e){this.sequenceNumber=t,this.offset=e}static empty(){return new mw(0,$o.min())}}function rN(n,t){const e=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=Dt.fromTimestamp(1e9===i?new vi(e+1,0):new vi(e,i));return new $o(r,Ye.empty(),t)}function sN(n){return new $o(n.readTime,n.key,-1)}class $o{constructor(t,e,i){this.readTime=t,this.documentKey=e,this.largestBatchId=i}static min(){return new $o(Dt.min(),Ye.empty(),-1)}static max(){return new $o(Dt.max(),Ye.empty(),-1)}}function Ax(n,t){let e=n.readTime.compareTo(t.readTime);return 0!==e?e:(e=Ye.comparator(n.documentKey,t.documentKey),0!==e?e:Zt(n.largestBatchId,t.largestBatchId))}const oN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class aN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}function Zh(n){return xx.apply(this,arguments)}function xx(){return xx=(0,ye.Z)(function*(n){if(n.code!==de.FAILED_PRECONDITION||n.message!==oN)throw n;Pe("LocalStore","Unexpectedly lost primary lease")}),xx.apply(this,arguments)}class le{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&ot(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new le((i,r)=>{this.nextCallback=o=>{this.wrapSuccess(t,o).next(i,r)},this.catchCallback=o=>{this.wrapFailure(e,o).next(i,r)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof le?e:le.resolve(e)}catch(e){return le.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):le.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):le.reject(e)}static resolve(t){return new le((e,i)=>{e(t)})}static reject(t){return new le((e,i)=>{i(t)})}static waitFor(t){return new le((e,i)=>{let r=0,o=0,u=!1;t.forEach(h=>{++r,h.next(()=>{++o,u&&o===r&&e()},_=>i(_))}),u=!0,o===r&&e()})}static or(t){let e=le.resolve(!1);for(const i of t)e=e.next(r=>r?le.resolve(r):i());return e}static forEach(t,e){const i=[];return t.forEach((r,o)=>{i.push(e.call(this,r,o))}),this.waitFor(i)}static mapArray(t,e){return new le((i,r)=>{const o=t.length,u=new Array(o);let h=0;for(let _=0;_<o;_++){const b=_;e(t[b]).next(D=>{u[b]=D,++h,h===o&&i(u)},D=>r(D))}})}static doWhile(t,e){return new le((i,r)=>{const o=()=>{!0===t()?e().next(()=>{o()},r):i()};o()})}}class XE{constructor(t,e){this.action=t,this.transaction=e,this.aborted=!1,this.P=new vr,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{e.error?this.P.reject(new gw(t,e.error)):this.P.resolve()},this.transaction.onerror=i=>{const r=kx(i.target.error);this.P.reject(new gw(t,r))}}static open(t,e,i,r){try{return new XE(e,t.transaction(r,i))}catch(o){throw new gw(e,o)}}get v(){return this.P.promise}abort(t){t&&this.P.reject(t),this.aborted||(Pe("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const t=this.transaction;this.aborted||"function"!=typeof t.commit||t.commit()}store(t){const e=this.transaction.objectStore(t);return new T3(e)}}class xl{constructor(t,e,i){this.name=t,this.version=e,this.S=i,12.2===xl.D((0,bn.z$)())&&ji("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(t){return Pe("SimpleDb","Removing database:",t),om(window.indexedDB.deleteDatabase(t)).toPromise()}static C(){if(!(0,bn.hl)())return!1;if(xl.N())return!0;const t=(0,bn.z$)(),e=xl.D(t),i=0<e&&e<10,r=xl.k(t),o=0<r&&r<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||i||o)}static N(){var t;return typeof process<"u"&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.O)}static M(t,e){return t.store(e)}static D(t){const e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static k(t){const e=t.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}F(t){var e=this;return(0,ye.Z)(function*(){return e.db||(Pe("SimpleDb","Opening database:",e.name),e.db=yield new Promise((i,r)=>{const o=indexedDB.open(e.name,e.version);o.onsuccess=u=>{i(u.target.result)},o.onblocked=()=>{r(new gw(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},o.onerror=u=>{const h=u.target.error;r("VersionError"===h.name?new ke(de.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===h.name?new ke(de.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+h):new gw(t,h))},o.onupgradeneeded=u=>{Pe("SimpleDb",'Database "'+e.name+'" requires upgrade from version:',u.oldVersion),e.S.$(u.target.result,o.transaction,u.oldVersion,e.version).next(()=>{Pe("SimpleDb","Database upgrade to version "+e.version+" complete")})}})),e.B&&(e.db.onversionchange=i=>e.B(i)),e.db})()}L(t){this.B=t,this.db&&(this.db.onversionchange=e=>t(e))}runTransaction(t,e,i,r){var o=this;return(0,ye.Z)(function*(){const u="readonly"===e;let h=0;for(;;){++h;try{o.db=yield o.F(t);const _=XE.open(o.db,t,u?"readonly":"readwrite",i),b=r(_).next(D=>(_.V(),D)).catch(D=>(_.abort(D),le.reject(D))).toPromise();return b.catch(()=>{}),yield _.v,b}catch(_){const b=_,D="FirebaseError"!==b.name&&h<3;if(Pe("SimpleDb","Transaction failed with error:",b.message,"Retrying:",D),o.close(),!D)return Promise.reject(b)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class M3{constructor(t){this.q=t,this.U=!1,this.K=null}get isDone(){return this.U}get G(){return this.K}set cursor(t){this.q=t}done(){this.U=!0}j(t){this.K=t}delete(){return om(this.q.delete())}}class gw extends ke{constructor(t,e){super(de.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${e}`),this.name="IndexedDbTransactionError"}}function Yh(n){return"IndexedDbTransactionError"===n.name}class T3{constructor(t){this.store=t}put(t,e){let i;return void 0!==e?(Pe("SimpleDb","PUT",this.store.name,t,e),i=this.store.put(e,t)):(Pe("SimpleDb","PUT",this.store.name,"<auto-key>",t),i=this.store.put(t)),om(i)}add(t){return Pe("SimpleDb","ADD",this.store.name,t,t),om(this.store.add(t))}get(t){return om(this.store.get(t)).next(e=>(void 0===e&&(e=null),Pe("SimpleDb","GET",this.store.name,t,e),e))}delete(t){return Pe("SimpleDb","DELETE",this.store.name,t),om(this.store.delete(t))}count(){return Pe("SimpleDb","COUNT",this.store.name),om(this.store.count())}W(t,e){const i=this.options(t,e);if(i.index||"function"!=typeof this.store.getAll){const r=this.cursor(i),o=[];return this.H(r,(u,h)=>{o.push(h)}).next(()=>o)}{const r=this.store.getAll(i.range);return new le((o,u)=>{r.onerror=h=>{u(h.target.error)},r.onsuccess=h=>{o(h.target.result)}})}}J(t,e){const i=this.store.getAll(t,null===e?void 0:e);return new le((r,o)=>{i.onerror=u=>{o(u.target.error)},i.onsuccess=u=>{r(u.target.result)}})}Y(t,e){Pe("SimpleDb","DELETE ALL",this.store.name);const i=this.options(t,e);i.X=!1;const r=this.cursor(i);return this.H(r,(o,u,h)=>h.delete())}Z(t,e){let i;e?i=t:(i={},e=t);const r=this.cursor(i);return this.H(r,e)}tt(t){const e=this.cursor({});return new le((i,r)=>{e.onerror=o=>{const u=kx(o.target.error);r(u)},e.onsuccess=o=>{const u=o.target.result;u?t(u.primaryKey,u.value).next(h=>{h?u.continue():i()}):i()}})}H(t,e){const i=[];return new le((r,o)=>{t.onerror=u=>{o(u.target.error)},t.onsuccess=u=>{const h=u.target.result;if(!h)return void r();const _=new M3(h),b=e(h.primaryKey,h.value,_);if(b instanceof le){const D=b.catch(M=>(_.done(),le.reject(M)));i.push(D)}_.isDone?r():null===_.G?h.continue():h.continue(_.G)}}).next(()=>le.waitFor(i))}options(t,e){let i;return void 0!==t&&("string"==typeof t?i=t:e=t),{index:i,range:e}}cursor(t){let e="next";if(t.reverse&&(e="prev"),t.index){const i=this.store.index(t.index);return t.X?i.openKeyCursor(t.range,e):i.openCursor(t.range,e)}return this.store.openCursor(t.range,e)}}function om(n){return new le((t,e)=>{n.onsuccess=i=>{t(i.target.result)},n.onerror=i=>{const r=kx(i.target.error);e(r)}})}let lN=!1;function kx(n){const t=xl.D((0,bn.z$)());if(t>=12.2&&t<13){const e="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(e)>=0){const i=new ke("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${e}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return lN||(lN=!0,setTimeout(()=>{throw i},0)),i}}return n}class A3{constructor(t,e){this.asyncQueue=t,this.et=e,this.task=null}start(){this.nt(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}nt(t){var e=this;Pe("IndexBackiller",`Scheduled in ${t}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",t,(0,ye.Z)(function*(){e.task=null;try{Pe("IndexBackiller",`Documents written: ${yield e.et.st()}`)}catch(i){Yh(i)?Pe("IndexBackiller","Ignoring IndexedDB error during index backfill: ",i):yield Zh(i)}yield e.nt(6e4)}))}}class x3{constructor(t,e){this.localStore=t,this.persistence=e}st(t=50){var e=this;return(0,ye.Z)(function*(){return e.persistence.runTransaction("Backfill Indexes","readwrite-primary",i=>e.it(i,t))})()}it(t,e){const i=new Set;let r=e,o=!0;return le.doWhile(()=>!0===o&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(t).next(u=>{if(null!==u&&!i.has(u))return Pe("IndexBackiller",`Processing collection: ${u}`),this.rt(t,u,r).next(h=>{r-=h,i.add(u)});o=!1})).next(()=>e-r)}rt(t,e,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(t,e).next(r=>this.localStore.localDocuments.getNextDocuments(t,e,r,i).next(o=>{const u=o.changes;return this.localStore.indexManager.updateIndexEntries(t,u).next(()=>this.ot(r,o)).next(h=>(Pe("IndexBackiller",`Updating offset: ${h}`),this.localStore.indexManager.updateCollectionGroup(t,e,h))).next(()=>u.size)}))}ot(t,e){let i=t;return e.changes.forEach((r,o)=>{const u=sN(o);Ax(u,i)>0&&(i=u)}),new $o(i.readTime,i.documentKey,Math.max(e.batchId,t.largestBatchId))}}let qo=(()=>{class n{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=r=>this.ut(r),this.ct=r=>i.writeSequenceNumber(r))}ut(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ct&&this.ct(e),e}}return n.at=-1,n})();class k3{constructor(t,e,i,r,o,u,h,_){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=r,this.ssl=o,this.forceLongPolling=u,this.autoDetectLongPolling=h,this.useFetchStreams=_}}class Wh{constructor(t,e){this.projectId=t,this.database=e||"(default)"}static empty(){return new Wh("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof Wh&&t.projectId===this.projectId&&t.database===this.database}}function cN(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function am(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function uN(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}function _w(n){return null==n}function yw(n){return 0===n&&1/n==-1/0}function dN(n){return"number"==typeof n&&Number.isInteger(n)&&!yw(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class br{constructor(t){this.binaryString=t}static fromBase64String(t){const e=atob(t);return new br(e)}static fromUint8Array(t){const e=function(i){let r="";for(let o=0;o<i.length;++o)r+=String.fromCharCode(i[o]);return r}(t);return new br(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const e=new Uint8Array(t.length);for(let i=0;i<t.length;i++)e[i]=t.charCodeAt(i);return e}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Zt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}br.EMPTY_BYTE_STRING=new br("");const O3=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Kh(n){if(vt(!!n),"string"==typeof n){let t=0;const e=O3.exec(n);if(vt(!!e),e[1]){let r=e[1];r=(r+"000000000").substr(0,9),t=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Oi(n.seconds),nanos:Oi(n.nanos)}}function Oi(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function lm(n){return"string"==typeof n?br.fromBase64String(n):br.fromUint8Array(n)}function Rx(n){var t,e;return"server_timestamp"===(null===(e=((null===(t=n?.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===e?void 0:e.stringValue)}function hN(n){const t=n.mapValue.fields.__previous_value__;return Rx(t)?hN(t):t}function vw(n){const t=Kh(n.mapValue.fields.__local_write_time__.timestampValue);return new vi(t.seconds,t.nanos)}const Qh={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},eS={nullValue:"NULL_VALUE"};function cm(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Rx(n)?4:gN(n)?9007199254740991:10:ot()}function Hc(n,t){if(n===t)return!0;const e=cm(n);if(e!==cm(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return vw(n).isEqual(vw(t));case 3:return function(i,r){if("string"==typeof i.timestampValue&&"string"==typeof r.timestampValue&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const o=Kh(i.timestampValue),u=Kh(r.timestampValue);return o.seconds===u.seconds&&o.nanos===u.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return r=t,lm(n.bytesValue).isEqual(lm(r.bytesValue));case 7:return n.referenceValue===t.referenceValue;case 8:return function(i,r){return Oi(i.geoPointValue.latitude)===Oi(r.geoPointValue.latitude)&&Oi(i.geoPointValue.longitude)===Oi(r.geoPointValue.longitude)}(n,t);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return Oi(i.integerValue)===Oi(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const o=Oi(i.doubleValue),u=Oi(r.doubleValue);return o===u?yw(o)===yw(u):isNaN(o)&&isNaN(u)}return!1}(n,t);case 9:return j_(n.arrayValue.values||[],t.arrayValue.values||[],Hc);case 10:return function(i,r){const o=i.mapValue.fields||{},u=r.mapValue.fields||{};if(cN(o)!==cN(u))return!1;for(const h in o)if(o.hasOwnProperty(h)&&(void 0===u[h]||!Hc(o[h],u[h])))return!1;return!0}(n,t);default:return ot()}var r}function bw(n,t){return void 0!==(n.values||[]).find(e=>Hc(e,t))}function Jh(n,t){if(n===t)return 0;const e=cm(n),i=cm(t);if(e!==i)return Zt(e,i);switch(e){case 0:case 9007199254740991:return 0;case 1:return Zt(n.booleanValue,t.booleanValue);case 2:return function(r,o){const u=Oi(r.integerValue||r.doubleValue),h=Oi(o.integerValue||o.doubleValue);return u<h?-1:u>h?1:u===h?0:isNaN(u)?isNaN(h)?0:-1:1}(n,t);case 3:return fN(n.timestampValue,t.timestampValue);case 4:return fN(vw(n),vw(t));case 5:return Zt(n.stringValue,t.stringValue);case 6:return function(r,o){const u=lm(r),h=lm(o);return u.compareTo(h)}(n.bytesValue,t.bytesValue);case 7:return function(r,o){const u=r.split("/"),h=o.split("/");for(let _=0;_<u.length&&_<h.length;_++){const b=Zt(u[_],h[_]);if(0!==b)return b}return Zt(u.length,h.length)}(n.referenceValue,t.referenceValue);case 8:return function(r,o){const u=Zt(Oi(r.latitude),Oi(o.latitude));return 0!==u?u:Zt(Oi(r.longitude),Oi(o.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return function(r,o){const u=r.values||[],h=o.values||[];for(let _=0;_<u.length&&_<h.length;++_){const b=Jh(u[_],h[_]);if(b)return b}return Zt(u.length,h.length)}(n.arrayValue,t.arrayValue);case 10:return function(r,o){if(r===Qh.mapValue&&o===Qh.mapValue)return 0;if(r===Qh.mapValue)return 1;if(o===Qh.mapValue)return-1;const u=r.fields||{},h=Object.keys(u),_=o.fields||{},b=Object.keys(_);h.sort(),b.sort();for(let D=0;D<h.length&&D<b.length;++D){const M=Zt(h[D],b[D]);if(0!==M)return M;const O=Jh(u[h[D]],_[b[D]]);if(0!==O)return O}return Zt(h.length,b.length)}(n.mapValue,t.mapValue);default:throw ot()}}function fN(n,t){if("string"==typeof n&&"string"==typeof t&&n.length===t.length)return Zt(n,t);const e=Kh(n),i=Kh(t),r=Zt(e.seconds,i.seconds);return 0!==r?r:Zt(e.nanos,i.nanos)}function G_(n){return Ox(n)}function Ox(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const r=Kh(i);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?lm(n.bytesValue).toBase64():"referenceValue"in n?Ye.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(t=n.geoPointValue).latitude},${t.longitude})`:"arrayValue"in n?function(i){let r="[",o=!0;for(const u of i.values||[])o?o=!1:r+=",",r+=Ox(u);return r+"]"}(n.arrayValue):"mapValue"in n?function(i){const r=Object.keys(i.fields||{}).sort();let o="{",u=!0;for(const h of r)u?u=!1:o+=",",o+=`${h}:${Ox(i.fields[h])}`;return o+"}"}(n.mapValue):ot();var t}function um(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function Px(n){return!!n&&"integerValue"in n}function ww(n){return!!n&&"arrayValue"in n}function pN(n){return!!n&&"nullValue"in n}function mN(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function tS(n){return!!n&&"mapValue"in n}function Cw(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const t={mapValue:{fields:{}}};return am(n.mapValue.fields,(e,i)=>t.mapValue.fields[e]=Cw(i)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=Cw(n.arrayValue.values[e]);return t}return Object.assign({},n)}function gN(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function P3(n){return"nullValue"in n?eS:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?um(Wh.empty(),Ye.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:ot()}function F3(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?um(Wh.empty(),Ye.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?Qh:ot()}function _N(n,t){const e=Jh(n.value,t.value);return 0!==e?e:n.inclusive&&!t.inclusive?-1:!n.inclusive&&t.inclusive?1:0}function yN(n,t){const e=Jh(n.value,t.value);return 0!==e?e:n.inclusive&&!t.inclusive?1:!n.inclusive&&t.inclusive?-1:0}class Xh{constructor(t,e){this.position=t,this.inclusive=e}}function vN(n,t,e){let i=0;for(let r=0;r<n.position.length;r++){const o=t[r],u=n.position[r];if(i=o.field.isKeyField()?Ye.comparator(Ye.fromName(u.referenceValue),e.key):Jh(u,e.data.field(o.field)),"desc"===o.dir&&(i*=-1),0!==i)break}return i}function bN(n,t){if(null===n)return null===t;if(null===t||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!Hc(n.position[e],t.position[e]))return!1;return!0}class wN{}class dn extends wN{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?"in"===e||"not-in"===e?this.createKeyFieldInFilter(t,e,i):new N3(t,e,i):"array-contains"===e?new B3(t,i):"in"===e?new AN(t,i):"not-in"===e?new U3(t,i):"array-contains-any"===e?new H3(t,i):new dn(t,e,i)}static createKeyFieldInFilter(t,e,i){return"in"===e?new L3(t,i):new V3(t,i)}matches(t){const e=t.data.field(this.field);return"!="===this.op?null!==e&&this.matchesComparison(Jh(e,this.value)):null!==e&&cm(this.value)===cm(e)&&this.matchesComparison(Jh(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return ot()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Un extends wN{constructor(t,e){super(),this.filters=t,this.op=e,this.ht=null}static create(t,e){return new Un(t,e)}matches(t){return z_(this)?void 0===this.filters.find(e=>!e.matches(t)):void 0!==this.filters.find(e=>e.matches(t))}getFlattenedFilters(){return null!==this.ht||(this.ht=this.filters.reduce((t,e)=>t.concat(e.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const t=this.lt(e=>e.isInequality());return null!==t?t.field:null}lt(t){for(const e of this.getFlattenedFilters())if(t(e))return e;return null}}function z_(n){return"and"===n.op}function Fx(n){return"or"===n.op}function CN(n){return DN(n)&&z_(n)}function DN(n){for(const t of n.filters)if(t instanceof Un)return!1;return!0}function EN(n){if(n instanceof dn)return n.field.canonicalString()+n.op.toString()+G_(n.value);{const t=n.filters.map(e=>EN(e)).join(",");return`${n.op}(${t})`}}function SN(n,t){return n instanceof dn?(e=n,(i=t)instanceof dn&&e.op===i.op&&e.field.isEqual(i.field)&&Hc(e.value,i.value)):n instanceof Un?function(e,i){return i instanceof Un&&e.op===i.op&&e.filters.length===i.filters.length&&e.filters.reduce((r,o,u)=>r&&SN(o,i.filters[u]),!0)}(n,t):void ot();var e,i}function IN(n,t){const e=n.filters.concat(t);return Un.create(e,n.op)}function MN(n){return n instanceof dn?`${(t=n).field.canonicalString()} ${t.op} ${G_(t.value)}`:n instanceof Un?function(t){return t.op.toString()+" {"+t.getFilters().map(MN).join(" ,")+"}"}(n):"Filter";var t}class N3 extends dn{constructor(t,e,i){super(t,e,i),this.key=Ye.fromName(i.referenceValue)}matches(t){const e=Ye.comparator(t.key,this.key);return this.matchesComparison(e)}}class L3 extends dn{constructor(t,e){super(t,"in",e),this.keys=TN(0,e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class V3 extends dn{constructor(t,e){super(t,"not-in",e),this.keys=TN(0,e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function TN(n,t){var e;return((null===(e=t.arrayValue)||void 0===e?void 0:e.values)||[]).map(i=>Ye.fromName(i.referenceValue))}class B3 extends dn{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return ww(e)&&bw(e.arrayValue,this.value)}}class AN extends dn{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return null!==e&&bw(this.value.arrayValue,e)}}class U3 extends dn{constructor(t,e){super(t,"not-in",e)}matches(t){if(bw(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return null!==e&&!bw(this.value.arrayValue,e)}}class H3 extends dn{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!ww(e)||!e.arrayValue.values)&&e.arrayValue.values.some(i=>bw(this.value.arrayValue,i))}}class $_{constructor(t,e="asc"){this.field=t,this.dir=e}}function j3(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}class Pi{constructor(t,e){this.comparator=t,this.root=e||Kr.EMPTY}insert(t,e){return new Pi(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,Kr.BLACK,null,null))}remove(t){return new Pi(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Kr.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(0===i)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(0===r)return e+i.left.size;r<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,i)=>(t(e,i),!1))}toString(){const t=[];return this.inorderTraversal((e,i)=>(t.push(`${e}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new nS(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new nS(this.root,t,this.comparator,!1)}getReverseIterator(){return new nS(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new nS(this.root,t,this.comparator,!0)}}class nS{constructor(t,e,i,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!t.isEmpty();)if(o=e?i(t.key,e):1,e&&r&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(0===o){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Kr{constructor(t,e,i,r,o){this.key=t,this.value=e,this.color=i??Kr.RED,this.left=r??Kr.EMPTY,this.right=o??Kr.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,r,o){return new Kr(t??this.key,e??this.value,i??this.color,r??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let r=this;const o=i(t,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(t,e,i),null):0===o?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Kr.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,r=this;if(e(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===e(t,r.key)){if(r.right.isEmpty())return Kr.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Kr.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Kr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ot();const t=this.left.check();if(t!==this.right.check())throw ot();return t+(this.isRed()?0:1)}}Kr.EMPTY=null,Kr.RED=!0,Kr.BLACK=!1,Kr.EMPTY=new class{constructor(){this.size=0}get key(){throw ot()}get value(){throw ot()}get color(){throw ot()}get left(){throw ot()}get right(){throw ot()}copy(n,t,e,i,r){return this}insert(n,t,e){return new Kr(n,t)}remove(n,t){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Gn{constructor(t){this.comparator=t,this.data=new Pi(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,i)=>(t(e),!1))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}}forEachWhile(t,e){let i;for(i=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new xN(this.data.getIterator())}getIteratorFrom(t){return new xN(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(i=>{e=e.add(i)}),e}isEqual(t){if(!(t instanceof Gn)||this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const r=e.getNext().key,o=i.getNext().key;if(0!==this.comparator(r,o))return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new Gn(this.comparator);return e.data=t,e}}class xN{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function q_(n){return n.hasNext()?n.getNext():void 0}class Zo{constructor(t){this.fields=t,t.sort(Ri.comparator)}static empty(){return new Zo([])}unionWith(t){let e=new Gn(Ri.comparator);for(const i of this.fields)e=e.add(i);for(const i of t)e=e.add(i);return new Zo(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return j_(this.fields,t.fields,(e,i)=>e.isEqual(i))}}class Qr{constructor(t){this.value=t}static empty(){return new Qr({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!tS(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=Cw(e)}setAll(t){let e=Ri.emptyPath(),i={},r=[];t.forEach((u,h)=>{if(!e.isImmediateParentOf(h)){const _=this.getFieldsMap(e);this.applyChanges(_,i,r),i={},r=[],e=h.popLast()}u?i[h.lastSegment()]=Cw(u):r.push(h.lastSegment())});const o=this.getFieldsMap(e);this.applyChanges(o,i,r)}delete(t){const e=this.field(t.popLast());tS(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return Hc(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let r=e.mapValue.fields[t.get(i)];tS(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=r),e=r}return e.mapValue.fields}applyChanges(t,e,i){am(e,(r,o)=>t[r]=o);for(const r of i)delete t[r]}clone(){return new Qr(Cw(this.value))}}function kN(n){const t=[];return am(n.fields,(e,i)=>{const r=new Ri([e]);if(tS(i)){const o=kN(i.mapValue).fields;if(0===o.length)t.push(r);else for(const u of o)t.push(r.child(u))}else t.push(r)}),new Zo(t)}class oi{constructor(t,e,i,r,o,u,h){this.key=t,this.documentType=e,this.version=i,this.readTime=r,this.createTime=o,this.data=u,this.documentState=h}static newInvalidDocument(t){return new oi(t,0,Dt.min(),Dt.min(),Dt.min(),Qr.empty(),0)}static newFoundDocument(t,e,i,r){return new oi(t,1,e,Dt.min(),i,r,0)}static newNoDocument(t,e){return new oi(t,2,e,Dt.min(),Dt.min(),Qr.empty(),0)}static newUnknownDocument(t,e){return new oi(t,3,e,Dt.min(),Dt.min(),Qr.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(Dt.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Qr.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Qr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Dt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof oi&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new oi(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class G3{constructor(t,e=null,i=[],r=[],o=null,u=null,h=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=r,this.limit=o,this.startAt=u,this.endAt=h,this.ft=null}}function Nx(n,t=null,e=[],i=[],r=null,o=null,u=null){return new G3(n,t,e,i,r,o,u)}function dm(n){const t=Qe(n);if(null===t.ft){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(i=>EN(i)).join(","),e+="|ob:",e+=t.orderBy.map(i=>{return(r=i).field.canonicalString()+r.dir;var r}).join(","),_w(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(i=>G_(i)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(i=>G_(i)).join(",")),t.ft=e}return t.ft}function Dw(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!j3(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!SN(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!bN(n.startAt,t.startAt)&&bN(n.endAt,t.endAt)}function iS(n){return Ye.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function rS(n,t){return n.filters.filter(e=>e instanceof dn&&e.field.isEqual(t))}function RN(n,t,e){let i=eS,r=!0;for(const o of rS(n,t)){let u=eS,h=!0;switch(o.op){case"<":case"<=":u=P3(o.value);break;case"==":case"in":case">=":u=o.value;break;case">":u=o.value,h=!1;break;case"!=":case"not-in":u=eS}_N({value:i,inclusive:r},{value:u,inclusive:h})<0&&(i=u,r=h)}if(null!==e)for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(t)){const u=e.position[o];_N({value:i,inclusive:r},{value:u,inclusive:e.inclusive})<0&&(i=u,r=e.inclusive);break}return{value:i,inclusive:r}}function ON(n,t,e){let i=Qh,r=!0;for(const o of rS(n,t)){let u=Qh,h=!0;switch(o.op){case">=":case">":u=F3(o.value),h=!1;break;case"==":case"in":case"<=":u=o.value;break;case"<":u=o.value,h=!1;break;case"!=":case"not-in":u=Qh}yN({value:i,inclusive:r},{value:u,inclusive:h})>0&&(i=u,r=h)}if(null!==e)for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(t)){const u=e.position[o];yN({value:i,inclusive:r},{value:u,inclusive:e.inclusive})>0&&(i=u,r=e.inclusive);break}return{value:i,inclusive:r}}class fd{constructor(t,e=null,i=[],r=[],o=null,u="F",h=null,_=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=r,this.limit=o,this.limitType=u,this.startAt=h,this.endAt=_,this.dt=null,this._t=null}}function PN(n,t,e,i,r,o,u,h){return new fd(n,t,e,i,r,o,u,h)}function Z_(n){return new fd(n)}function FN(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function Lx(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function sS(n){for(const t of n.filters){const e=t.getFirstInequalityField();if(null!==e)return e}return null}function Vx(n){return null!==n.collectionGroup}function hm(n){const t=Qe(n);if(null===t.dt){t.dt=[];const e=sS(t),i=Lx(t);if(null!==e&&null===i)e.isKeyField()||t.dt.push(new $_(e)),t.dt.push(new $_(Ri.keyField(),"asc"));else{let r=!1;for(const o of t.explicitOrderBy)t.dt.push(o),o.field.isKeyField()&&(r=!0);if(!r){const o=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.dt.push(new $_(Ri.keyField(),o))}}}return t.dt}function Rs(n){const t=Qe(n);if(!t._t)if("F"===t.limitType)t._t=Nx(t.path,t.collectionGroup,hm(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const o of hm(t))e.push(new $_(o.field,"desc"===o.dir?"asc":"desc"));const i=t.endAt?new Xh(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Xh(t.startAt.position,t.startAt.inclusive):null;t._t=Nx(t.path,t.collectionGroup,e,t.filters,t.limit,i,r)}return t._t}function Bx(n,t){t.getFirstInequalityField(),sS(n);const e=n.filters.concat([t]);return new fd(n.path,n.collectionGroup,n.explicitOrderBy.slice(),e,n.limit,n.limitType,n.startAt,n.endAt)}function oS(n,t,e){return new fd(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function Ew(n,t){return Dw(Rs(n),Rs(t))&&n.limitType===t.limitType}function NN(n){return`${dm(Rs(n))}|lt:${n.limitType}`}function Ux(n){return`Query(target=${function(t){let e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=`, filters: [${t.filters.map(i=>MN(i)).join(", ")}]`),_w(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=`, orderBy: [${t.orderBy.map(i=>{return`${(r=i).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),t.startAt&&(e+=", startAt: ",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(i=>G_(i)).join(",")),t.endAt&&(e+=", endAt: ",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(i=>G_(i)).join(",")),`Target(${e})`}(Rs(n))}; limitType=${n.limitType})`}function Hx(n,t){return t.isFoundDocument()&&function(e,i){const r=i.key.path;return null!==e.collectionGroup?i.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(r):Ye.isDocumentKey(e.path)?e.path.isEqual(r):e.path.isImmediateParentOf(r)}(n,t)&&function(e,i){for(const r of hm(e))if(!r.field.isKeyField()&&null===i.data.field(r.field))return!1;return!0}(n,t)&&function(e,i){for(const r of e.filters)if(!r.matches(i))return!1;return!0}(n,t)&&(i=t,!((e=n).startAt&&!function(r,o,u){const h=vN(r,o,u);return r.inclusive?h<=0:h<0}(e.startAt,hm(e),i)||e.endAt&&!function(r,o,u){const h=vN(r,o,u);return r.inclusive?h>=0:h>0}(e.endAt,hm(e),i)));var e,i}function LN(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function VN(n){return(t,e)=>{let i=!1;for(const r of hm(n)){const o=z3(r,t,e);if(0!==o)return o;i=i||r.field.isKeyField()}return 0}}function z3(n,t,e){const i=n.field.isKeyField()?Ye.comparator(t.key,e.key):function(r,o,u){const h=o.data.field(r),_=u.data.field(r);return null!==h&&null!==_?Jh(h,_):ot()}(n.field,t,e);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return ot()}}function BN(n,t){if(n.wt){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:yw(t)?"-0":t}}function UN(n){return{integerValue:""+n}}function HN(n,t){return dN(t)?UN(t):BN(n,t)}class aS{constructor(){this._=void 0}}function $3(n,t,e){return n instanceof Y_?function(i,r){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&(o.fields.__previous_value__=r),{mapValue:o}}(e,t):n instanceof fm?GN(n,t):n instanceof pm?zN(n,t):function(i,r){const o=jN(i,r),u=$N(o)+$N(i.gt);return Px(o)&&Px(i.gt)?UN(u):BN(i.yt,u)}(n,t)}function q3(n,t,e){return n instanceof fm?GN(n,t):n instanceof pm?zN(n,t):e}function jN(n,t){return n instanceof W_?Px(e=t)||(i=e)&&"doubleValue"in i?t:{integerValue:0}:null;var i,e}class Y_ extends aS{}class fm extends aS{constructor(t){super(),this.elements=t}}function GN(n,t){const e=qN(t);for(const i of n.elements)e.some(r=>Hc(r,i))||e.push(i);return{arrayValue:{values:e}}}class pm extends aS{constructor(t){super(),this.elements=t}}function zN(n,t){let e=qN(t);for(const i of n.elements)e=e.filter(r=>!Hc(r,i));return{arrayValue:{values:e}}}class W_ extends aS{constructor(t,e){super(),this.yt=t,this.gt=e}}function $N(n){return Oi(n.integerValue||n.doubleValue)}function qN(n){return ww(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Sw{constructor(t,e){this.field=t,this.transform=e}}class Y3{constructor(t,e){this.version=t,this.transformResults=e}}class bi{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new bi}static exists(t){return new bi(void 0,t)}static updateTime(t){return new bi(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function lS(n,t){return void 0!==n.updateTime?t.isFoundDocument()&&t.version.isEqual(n.updateTime):void 0===n.exists||n.exists===t.isFoundDocument()}class cS{}function ZN(n,t){if(!n.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return n.isNoDocument()?new Q_(n.key,bi.none()):new K_(n.key,n.data,bi.none());{const e=n.data,i=Qr.empty();let r=new Gn(Ri.comparator);for(let o of t.fields)if(!r.has(o)){let u=e.field(o);null===u&&o.length>1&&(o=o.popLast(),u=e.field(o)),null===u?i.delete(o):i.set(o,u),r=r.add(o)}return new pd(n.key,i,new Zo(r.toArray()),bi.none())}}function W3(n,t,e){n instanceof K_?function(i,r,o){const u=i.value.clone(),h=KN(i.fieldTransforms,r,o.transformResults);u.setAll(h),r.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(n,t,e):n instanceof pd?function(i,r,o){if(!lS(i.precondition,r))return void r.convertToUnknownDocument(o.version);const u=KN(i.fieldTransforms,r,o.transformResults),h=r.data;h.setAll(WN(i)),h.setAll(u),r.convertToFoundDocument(o.version,h).setHasCommittedMutations()}(n,t,e):t.convertToNoDocument(e.version).setHasCommittedMutations()}function Iw(n,t,e,i){return n instanceof K_?function(r,o,u,h){if(!lS(r.precondition,o))return u;const _=r.value.clone(),b=QN(r.fieldTransforms,h,o);return _.setAll(b),o.convertToFoundDocument(o.version,_).setHasLocalMutations(),null}(n,t,e,i):n instanceof pd?function(r,o,u,h){if(!lS(r.precondition,o))return u;const _=QN(r.fieldTransforms,h,o),b=o.data;return b.setAll(WN(r)),b.setAll(_),o.convertToFoundDocument(o.version,b).setHasLocalMutations(),null===u?null:u.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(D=>D.field))}(n,t,e,i):(u=e,lS(n.precondition,o=t)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):u);var o,u}function K3(n,t){let e=null;for(const i of n.fieldTransforms){const r=t.data.field(i.field),o=jN(i.transform,r||null);null!=o&&(null===e&&(e=Qr.empty()),e.set(i.field,o))}return e||null}function YN(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&(i=t.fieldTransforms,!!(void 0===(e=n.fieldTransforms)&&void 0===i||e&&i&&j_(e,i,(r,o)=>function Z3(n,t){return n.field.isEqual(t.field)&&(i=t.transform,(e=n.transform)instanceof fm&&i instanceof fm||e instanceof pm&&i instanceof pm?j_(e.elements,i.elements,Hc):e instanceof W_&&i instanceof W_?Hc(e.gt,i.gt):e instanceof Y_&&i instanceof Y_);var e,i}(r,o))))&&(0===n.type?n.value.isEqual(t.value):1!==n.type||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask));var e,i}class K_ extends cS{constructor(t,e,i,r=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class pd extends cS{constructor(t,e,i,r,o=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=r,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function WN(n){const t=new Map;return n.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const i=n.data.field(e);t.set(e,i)}}),t}function KN(n,t,e){const i=new Map;vt(n.length===e.length);for(let r=0;r<e.length;r++){const o=n[r],u=o.transform,h=t.data.field(o.field);i.set(o.field,q3(u,h,e[r]))}return i}function QN(n,t,e){const i=new Map;for(const r of n){const o=r.transform,u=e.data.field(r.field);i.set(r.field,$3(o,u,t))}return i}class Q_ extends cS{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class jx extends cS{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Q3{constructor(t){this.count=t}}var nr,Cn;function JN(n){switch(n){default:return ot();case de.CANCELLED:case de.UNKNOWN:case de.DEADLINE_EXCEEDED:case de.RESOURCE_EXHAUSTED:case de.INTERNAL:case de.UNAVAILABLE:case de.UNAUTHENTICATED:return!1;case de.INVALID_ARGUMENT:case de.NOT_FOUND:case de.ALREADY_EXISTS:case de.PERMISSION_DENIED:case de.FAILED_PRECONDITION:case de.ABORTED:case de.OUT_OF_RANGE:case de.UNIMPLEMENTED:case de.DATA_LOSS:return!0}}function XN(n){if(void 0===n)return ji("GRPC error has no .code"),de.UNKNOWN;switch(n){case nr.OK:return de.OK;case nr.CANCELLED:return de.CANCELLED;case nr.UNKNOWN:return de.UNKNOWN;case nr.DEADLINE_EXCEEDED:return de.DEADLINE_EXCEEDED;case nr.RESOURCE_EXHAUSTED:return de.RESOURCE_EXHAUSTED;case nr.INTERNAL:return de.INTERNAL;case nr.UNAVAILABLE:return de.UNAVAILABLE;case nr.UNAUTHENTICATED:return de.UNAUTHENTICATED;case nr.INVALID_ARGUMENT:return de.INVALID_ARGUMENT;case nr.NOT_FOUND:return de.NOT_FOUND;case nr.ALREADY_EXISTS:return de.ALREADY_EXISTS;case nr.PERMISSION_DENIED:return de.PERMISSION_DENIED;case nr.FAILED_PRECONDITION:return de.FAILED_PRECONDITION;case nr.ABORTED:return de.ABORTED;case nr.OUT_OF_RANGE:return de.OUT_OF_RANGE;case nr.UNIMPLEMENTED:return de.UNIMPLEMENTED;case nr.DATA_LOSS:return de.DATA_LOSS;default:return ot()}}(Cn=nr||(nr={}))[Cn.OK=0]="OK",Cn[Cn.CANCELLED=1]="CANCELLED",Cn[Cn.UNKNOWN=2]="UNKNOWN",Cn[Cn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Cn[Cn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Cn[Cn.NOT_FOUND=5]="NOT_FOUND",Cn[Cn.ALREADY_EXISTS=6]="ALREADY_EXISTS",Cn[Cn.PERMISSION_DENIED=7]="PERMISSION_DENIED",Cn[Cn.UNAUTHENTICATED=16]="UNAUTHENTICATED",Cn[Cn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Cn[Cn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Cn[Cn.ABORTED=10]="ABORTED",Cn[Cn.OUT_OF_RANGE=11]="OUT_OF_RANGE",Cn[Cn.UNIMPLEMENTED=12]="UNIMPLEMENTED",Cn[Cn.INTERNAL=13]="INTERNAL",Cn[Cn.UNAVAILABLE=14]="UNAVAILABLE",Cn[Cn.DATA_LOSS=15]="DATA_LOSS";class ef{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0!==i)for(const[r,o]of i)if(this.equalsFn(r,t))return o}has(t){return void 0!==this.get(t)}set(t,e){const i=this.mapKeyFn(t),r=this.inner[i];if(void 0===r)return this.inner[i]=[[t,e]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return void(r[o]=[t,e]);r.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return 1===i.length?delete this.inner[e]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(t){am(this.inner,(e,i)=>{for(const[r,o]of i)t(r,o)})}isEmpty(){return uN(this.inner)}size(){return this.innerSize}}const J3=new Pi(Ye.comparator);function uo(){return J3}const eL=new Pi(Ye.comparator);function Mw(...n){let t=eL;for(const e of n)t=t.insert(e.key,e);return t}function tL(n){let t=eL;return n.forEach((e,i)=>t=t.insert(e,i.overlayedDocument)),t}function jc(){return Tw()}function nL(){return Tw()}function Tw(){return new ef(n=>n.toString(),(n,t)=>n.isEqual(t))}const X3=new Pi(Ye.comparator),ej=new Gn(Ye.comparator);function Qt(...n){let t=ej;for(const e of n)t=t.add(e);return t}const tj=new Gn(Zt);function uS(){return tj}class Aw{constructor(t,e,i,r,o){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(t,e,i){const r=new Map;return r.set(t,xw.createSynthesizedTargetChangeForCurrentChange(t,e,i)),new Aw(Dt.min(),r,uS(),uo(),Qt())}}class xw{constructor(t,e,i,r,o){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(t,e,i){return new xw(i,e,Qt(),Qt(),Qt())}}class dS{constructor(t,e,i,r){this.It=t,this.removedTargetIds=e,this.key=i,this.Tt=r}}class iL{constructor(t,e){this.targetId=t,this.Et=e}}class rL{constructor(t,e,i=br.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=r}}class sL{constructor(){this.At=0,this.Rt=aL(),this.bt=br.EMPTY_BYTE_STRING,this.Pt=!1,this.vt=!0}get current(){return this.Pt}get resumeToken(){return this.bt}get Vt(){return 0!==this.At}get St(){return this.vt}Dt(t){t.approximateByteSize()>0&&(this.vt=!0,this.bt=t)}Ct(){let t=Qt(),e=Qt(),i=Qt();return this.Rt.forEach((r,o)=>{switch(o){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:i=i.add(r);break;default:ot()}}),new xw(this.bt,this.Pt,t,e,i)}xt(){this.vt=!1,this.Rt=aL()}Nt(t,e){this.vt=!0,this.Rt=this.Rt.insert(t,e)}kt(t){this.vt=!0,this.Rt=this.Rt.remove(t)}Ot(){this.At+=1}Mt(){this.At-=1}Ft(){this.vt=!0,this.Pt=!0}}class nj{constructor(t){this.$t=t,this.Bt=new Map,this.Lt=uo(),this.qt=oL(),this.Ut=new Gn(Zt)}Kt(t){for(const e of t.It)t.Tt&&t.Tt.isFoundDocument()?this.Gt(e,t.Tt):this.Qt(e,t.key,t.Tt);for(const e of t.removedTargetIds)this.Qt(e,t.key,t.Tt)}jt(t){this.forEachTarget(t,e=>{const i=this.Wt(e);switch(t.state){case 0:this.zt(e)&&i.Dt(t.resumeToken);break;case 1:i.Mt(),i.Vt||i.xt(),i.Dt(t.resumeToken);break;case 2:i.Mt(),i.Vt||this.removeTarget(e);break;case 3:this.zt(e)&&(i.Ft(),i.Dt(t.resumeToken));break;case 4:this.zt(e)&&(this.Ht(e),i.Dt(t.resumeToken));break;default:ot()}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.Bt.forEach((i,r)=>{this.zt(r)&&e(r)})}Jt(t){const e=t.targetId,i=t.Et.count,r=this.Yt(e);if(r){const o=r.target;if(iS(o))if(0===i){const u=new Ye(o.path);this.Qt(e,u,oi.newNoDocument(u,Dt.min()))}else vt(1===i);else this.Xt(e)!==i&&(this.Ht(e),this.Ut=this.Ut.add(e))}}Zt(t){const e=new Map;this.Bt.forEach((o,u)=>{const h=this.Yt(u);if(h){if(o.current&&iS(h.target)){const _=new Ye(h.target.path);null!==this.Lt.get(_)||this.te(u,_)||this.Qt(u,_,oi.newNoDocument(_,t))}o.St&&(e.set(u,o.Ct()),o.xt())}});let i=Qt();this.qt.forEach((o,u)=>{let h=!0;u.forEachWhile(_=>{const b=this.Yt(_);return!b||2===b.purpose||(h=!1,!1)}),h&&(i=i.add(o))}),this.Lt.forEach((o,u)=>u.setReadTime(t));const r=new Aw(t,e,this.Ut,this.Lt,i);return this.Lt=uo(),this.qt=oL(),this.Ut=new Gn(Zt),r}Gt(t,e){if(!this.zt(t))return;const i=this.te(t,e.key)?2:0;this.Wt(t).Nt(e.key,i),this.Lt=this.Lt.insert(e.key,e),this.qt=this.qt.insert(e.key,this.ee(e.key).add(t))}Qt(t,e,i){if(!this.zt(t))return;const r=this.Wt(t);this.te(t,e)?r.Nt(e,1):r.kt(e),this.qt=this.qt.insert(e,this.ee(e).delete(t)),i&&(this.Lt=this.Lt.insert(e,i))}removeTarget(t){this.Bt.delete(t)}Xt(t){const e=this.Wt(t).Ct();return this.$t.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Ot(t){this.Wt(t).Ot()}Wt(t){let e=this.Bt.get(t);return e||(e=new sL,this.Bt.set(t,e)),e}ee(t){let e=this.qt.get(t);return e||(e=new Gn(Zt),this.qt=this.qt.insert(t,e)),e}zt(t){const e=null!==this.Yt(t);return e||Pe("WatchChangeAggregator","Detected inactive target",t),e}Yt(t){const e=this.Bt.get(t);return e&&e.Vt?null:this.$t.ne(t)}Ht(t){this.Bt.set(t,new sL),this.$t.getRemoteKeysForTarget(t).forEach(e=>{this.Qt(t,e,null)})}te(t,e){return this.$t.getRemoteKeysForTarget(t).has(e)}}function oL(){return new Pi(Ye.comparator)}function aL(){return new Pi(Ye.comparator)}const ij={asc:"ASCENDING",desc:"DESCENDING"},rj={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},sj={and:"AND",or:"OR"};class oj{constructor(t,e){this.databaseId=t,this.wt=e}}function J_(n,t){return n.wt?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function lL(n,t){return n.wt?t.toBase64():t.toUint8Array()}function aj(n,t){return J_(n,t.toTimestamp())}function Gi(n){return vt(!!n),Dt.fromTimestamp(function(t){const e=Kh(t);return new vi(e.seconds,e.nanos)}(n))}function Gx(n,t){return(e=n,new wn(["projects",e.projectId,"databases",e.database])).child("documents").child(t).canonicalString();var e}function cL(n){const t=wn.fromString(n);return vt(yL(t)),t}function kw(n,t){return Gx(n.databaseId,t.path)}function Gc(n,t){const e=cL(t);if(e.get(1)!==n.databaseId.projectId)throw new ke(de.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new ke(de.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new Ye(dL(e))}function zx(n,t){return Gx(n.databaseId,t)}function uL(n){const t=cL(n);return 4===t.length?wn.emptyPath():dL(t)}function Rw(n){return new wn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function dL(n){return vt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function hL(n,t,e){return{name:kw(n,t),fields:e.value.mapValue.fields}}function fL(n,t,e){const i=Gc(n,t.name),r=Gi(t.updateTime),o=t.createTime?Gi(t.createTime):Dt.min(),u=new Qr({mapValue:{fields:t.fields}}),h=oi.newFoundDocument(i,r,o,u);return e&&h.setHasCommittedMutations(),e?h.setHasCommittedMutations():h}function Ow(n,t){let e;if(t instanceof K_)e={update:hL(n,t.key,t.value)};else if(t instanceof Q_)e={delete:kw(n,t.key)};else if(t instanceof pd)e={update:hL(n,t.key,t.data),updateMask:mj(t.fieldMask)};else{if(!(t instanceof jx))return ot();e={verify:kw(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(i=>function(r,o){const u=o.transform;if(u instanceof Y_)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof fm)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof pm)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof W_)return{fieldPath:o.field.canonicalString(),increment:u.gt};throw ot()}(0,i))),t.precondition.isNone||(e.currentDocument=void 0!==(r=t.precondition).updateTime?{updateTime:aj(n,r.updateTime)}:void 0!==r.exists?{exists:r.exists}:ot()),e;var r}function $x(n,t){const e=t.currentDocument?void 0!==(r=t.currentDocument).updateTime?bi.updateTime(Gi(r.updateTime)):void 0!==r.exists?bi.exists(r.exists):bi.none():bi.none(),i=t.updateTransforms?t.updateTransforms.map(r=>function(o,u){let h=null;"setToServerValue"in u?(vt("REQUEST_TIME"===u.setToServerValue),h=new Y_):"appendMissingElements"in u?h=new fm(u.appendMissingElements.values||[]):"removeAllFromArray"in u?h=new pm(u.removeAllFromArray.values||[]):"increment"in u?h=new W_(o,u.increment):ot();const _=Ri.fromServerFormat(u.fieldPath);return new Sw(_,h)}(n,r)):[];var r;if(t.update){const r=Gc(n,t.update.name),o=new Qr({mapValue:{fields:t.update.fields}});if(t.updateMask){const u=new Zo((t.updateMask.fieldPaths||[]).map(b=>Ri.fromServerFormat(b)));return new pd(r,o,u,e,i)}return new K_(r,o,e,i)}if(t.delete){const r=Gc(n,t.delete);return new Q_(r,e)}if(t.verify){const r=Gc(n,t.verify);return new jx(r,e)}return ot()}function pL(n,t){return{documents:[zx(n,t.path)]}}function qx(n,t){const e={structuredQuery:{}},i=t.path;null!==t.collectionGroup?(e.parent=zx(n,i),e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(e.parent=zx(n,i.popLast()),e.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(_){if(0!==_.length)return _L(Un.create(_,"and"))}(t.filters);r&&(e.structuredQuery.where=r);const o=function(_){if(0!==_.length)return _.map(b=>{return{field:X_((D=b).field),direction:hj(D.dir)};var D})}(t.orderBy);o&&(e.structuredQuery.orderBy=o);const u=(b=t.limit,n.wt||_w(b)?b:{value:b});var b,h,_;return null!==u&&(e.structuredQuery.limit=u),t.startAt&&(e.structuredQuery.startAt={before:(h=t.startAt).inclusive,values:h.position}),t.endAt&&(e.structuredQuery.endAt={before:!(_=t.endAt).inclusive,values:_.position}),e}function mL(n){let t=uL(n.parent);const e=n.structuredQuery,i=e.from?e.from.length:0;let r=null;if(i>0){vt(1===i);const D=e.from[0];D.allDescendants?r=D.collectionId:t=t.child(D.collectionId)}let o=[];e.where&&(o=function(D){const M=gL(D);return M instanceof Un&&CN(M)?M.getFilters():[M]}(e.where));let u=[];e.orderBy&&(u=e.orderBy.map(D=>{return new $_(ey((M=D).field),function(O){switch(O){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(M.direction));var M}));let h=null;e.limit&&(h=function(D){let M;return M="object"==typeof D?D.value:D,_w(M)?null:M}(e.limit));let _=null;var D;e.startAt&&(_=new Xh((D=e.startAt).values||[],!!D.before));let b=null;return e.endAt&&(b=function(D){return new Xh(D.values||[],!D.before)}(e.endAt)),PN(t,r,u,o,h,"F",_,b)}function gL(n){return void 0!==n.unaryFilter?function(t){switch(t.unaryFilter.op){case"IS_NAN":const e=ey(t.unaryFilter.field);return dn.create(e,"==",{doubleValue:NaN});case"IS_NULL":const i=ey(t.unaryFilter.field);return dn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=ey(t.unaryFilter.field);return dn.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=ey(t.unaryFilter.field);return dn.create(o,"!=",{nullValue:"NULL_VALUE"});default:return ot()}}(n):void 0!==n.fieldFilter?dn.create(ey((t=n).fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ot()}}(t.fieldFilter.op),t.fieldFilter.value):void 0!==n.compositeFilter?function(t){return Un.create(t.compositeFilter.filters.map(e=>gL(e)),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return ot()}}(t.compositeFilter.op))}(n):ot();var t}function hj(n){return ij[n]}function fj(n){return rj[n]}function pj(n){return sj[n]}function X_(n){return{fieldPath:n.canonicalString()}}function ey(n){return Ri.fromServerFormat(n.fieldPath)}function _L(n){return n instanceof dn?function(t){if("=="===t.op){if(mN(t.value))return{unaryFilter:{field:X_(t.field),op:"IS_NAN"}};if(pN(t.value))return{unaryFilter:{field:X_(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(mN(t.value))return{unaryFilter:{field:X_(t.field),op:"IS_NOT_NAN"}};if(pN(t.value))return{unaryFilter:{field:X_(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:X_(t.field),op:fj(t.op),value:t.value}}}(n):n instanceof Un?function(t){const e=t.getFilters().map(i=>_L(i));return 1===e.length?e[0]:{compositeFilter:{op:pj(t.op),filters:e}}}(n):ot()}function mj(n){const t=[];return n.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function yL(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function Os(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=vL(t)),t=gj(n.get(e),t);return vL(t)}function gj(n,t){let e=t;const i=n.length;for(let r=0;r<i;r++){const o=n.charAt(r);switch(o){case"\0":e+="\x01\x10";break;case"\x01":e+="\x01\x11";break;default:e+=o}}return e}function vL(n){return n+"\x01\x01"}function zc(n){const t=n.length;if(vt(t>=2),2===t)return vt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),wn.emptyPath();const e=t-2,i=[];let r="";for(let o=0;o<t;){const u=n.indexOf("\x01",o);switch((u<0||u>e)&&ot(),n.charAt(u+1)){case"\x01":const h=n.substring(o,u);let _;0===r.length?_=h:(r+=h,_=r,r=""),i.push(_);break;case"\x10":r+=n.substring(o,u),r+="\0";break;case"\x11":r+=n.substring(o,u+1);break;default:ot()}o=u+2}return new wn(i)}const bL=["userId","batchId"];function hS(n,t){return[n,Os(t)]}function wL(n,t,e){return[n,Os(t),e]}const _j={},yj=["prefixPath","collectionGroup","readTime","documentId"],vj=["prefixPath","collectionGroup","documentId"],bj=["collectionGroup","readTime","prefixPath","documentId"],wj=["canonicalId","targetId"],Cj=["targetId","path"],Dj=["path","targetId"],Ej=["collectionId","parent"],Sj=["indexId","uid"],Ij=["uid","sequenceNumber"],Mj=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Tj=["indexId","uid","orderedDocumentKey"],Aj=["userId","collectionPath","documentId"],xj=["userId","collectionPath","largestBatchId"],kj=["userId","collectionGroup","largestBatchId"],CL=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Rj=[...CL,"documentOverlays"],DL=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],EL=DL,Oj=[...EL,"indexConfiguration","indexState","indexEntries"];class Zx extends aN{constructor(t,e){super(),this.se=t,this.currentSequenceNumber=e}}function Or(n,t){const e=Qe(n);return xl.M(e.se,t)}class Yx{constructor(t,e,i,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let r=0;r<this.mutations.length;r++){const o=this.mutations[r];o.key.isEqual(t.key)&&W3(o,t,i[r])}}applyToLocalView(t,e){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(e=Iw(i,t,e,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(e=Iw(i,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const i=nL();return this.mutations.forEach(r=>{const o=t.get(r.key),u=o.overlayedDocument;let h=this.applyToLocalView(u,o.mutatedFields);h=e.has(r.key)?null:h;const _=ZN(u,h);null!==_&&i.set(r.key,_),u.isValidDocument()||u.convertToNoDocument(Dt.min())}),i}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),Qt())}isEqual(t){return this.batchId===t.batchId&&j_(this.mutations,t.mutations,(e,i)=>YN(e,i))&&j_(this.baseMutations,t.baseMutations,(e,i)=>YN(e,i))}}class Wx{constructor(t,e,i,r){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=r}static from(t,e,i){vt(t.mutations.length===i.length);let r=X3;const o=t.mutations;for(let u=0;u<o.length;u++)r=r.insert(o[u].key,i[u].version);return new Wx(t,e,i,r)}}class Kx{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return null!==t&&this.mutation===t.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class tf{constructor(t,e,i,r,o=Dt.min(),u=Dt.min(),h=br.EMPTY_BYTE_STRING){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=h}withSequenceNumber(t){return new tf(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(t,e){return new tf(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t)}withLastLimboFreeSnapshotVersion(t){return new tf(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}class SL{constructor(t){this.ie=t}}function IL(n,t){const e=t.key,i={prefixPath:e.getCollectionPath().popLast().toArray(),collectionGroup:e.collectionGroup,documentId:e.path.lastSegment(),readTime:fS(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())i.document={name:kw(r=n.ie,(o=t).key),fields:o.data.value.mapValue.fields,updateTime:J_(r,o.version.toTimestamp()),createTime:J_(r,o.createTime.toTimestamp())};else if(t.isNoDocument())i.noDocument={path:e.path.toArray(),readTime:mm(t.version)};else{if(!t.isUnknownDocument())return ot();i.unknownDocument={path:e.path.toArray(),version:mm(t.version)}}var r,o;return i}function fS(n){const t=n.toTimestamp();return[t.seconds,t.nanoseconds]}function mm(n){const t=n.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function gm(n){const t=new vi(n.seconds,n.nanoseconds);return Dt.fromTimestamp(t)}function _m(n,t){const e=(t.baseMutations||[]).map(o=>$x(n.ie,o));for(let o=0;o<t.mutations.length-1;++o){const u=t.mutations[o];o+1<t.mutations.length&&void 0!==t.mutations[o+1].transform&&(u.updateTransforms=t.mutations[o+1].transform.fieldTransforms,t.mutations.splice(o+1,1),++o)}const i=t.mutations.map(o=>$x(n.ie,o)),r=vi.fromMillis(t.localWriteTimeMs);return new Yx(t.batchId,r,e,i)}function Pw(n){const t=gm(n.readTime),e=void 0!==n.lastLimboFreeSnapshotVersion?gm(n.lastLimboFreeSnapshotVersion):Dt.min();let i;var r;return void 0!==n.query.documents?(vt(1===(r=n.query).documents.length),i=Rs(Z_(uL(r.documents[0])))):i=Rs(mL(n.query)),new tf(i,n.targetId,0,n.lastListenSequenceNumber,t,e,br.fromBase64String(n.resumeToken))}function ML(n,t){const e=mm(t.snapshotVersion),i=mm(t.lastLimboFreeSnapshotVersion);let r;r=iS(t.target)?pL(n.ie,t.target):qx(n.ie,t.target);const o=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:dm(t.target),readTime:e,resumeToken:o,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function Qx(n){const t=mL({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?oS(t,t.limit,"L"):t}function Jx(n,t){return new Kx(t.largestBatchId,$x(n.ie,t.overlayMutation))}function TL(n,t){const e=t.path.lastSegment();return[n,Os(t.path.popLast()),e]}function AL(n,t,e,i){return{indexId:n,uid:t.uid||"",sequenceNumber:e,readTime:mm(i.readTime),documentKey:Os(i.documentKey.path),largestBatchId:i.largestBatchId}}class Fj{getBundleMetadata(t,e){return xL(t).get(e).next(i=>{if(i)return{id:(r=i).bundleId,createTime:gm(r.createTime),version:r.version};var r})}saveBundleMetadata(t,e){return xL(t).put({bundleId:(i=e).id,createTime:mm(Gi(i.createTime)),version:i.version});var i}getNamedQuery(t,e){return kL(t).get(e).next(i=>{if(i)return{name:(r=i).name,query:Qx(r.bundledQuery),readTime:gm(r.readTime)};var r})}saveNamedQuery(t,e){return kL(t).put({name:(i=e).name,readTime:mm(Gi(i.readTime)),bundledQuery:i.bundledQuery});var i}}function xL(n){return Or(n,"bundles")}function kL(n){return Or(n,"namedQueries")}class pS{constructor(t,e){this.yt=t,this.userId=e}static re(t,e){return new pS(t,e.uid||"")}getOverlay(t,e){return Fw(t).get(TL(this.userId,e)).next(i=>i?Jx(this.yt,i):null)}getOverlays(t,e){const i=jc();return le.forEach(e,r=>this.getOverlay(t,r).next(o=>{null!==o&&i.set(r,o)})).next(()=>i)}saveOverlays(t,e,i){const r=[];return i.forEach((o,u)=>{const h=new Kx(e,u);r.push(this.oe(t,h))}),le.waitFor(r)}removeOverlaysForBatchId(t,e,i){const r=new Set;e.forEach(u=>r.add(Os(u.getCollectionPath())));const o=[];return r.forEach(u=>{const h=IDBKeyRange.bound([this.userId,u,i],[this.userId,u,i+1],!1,!0);o.push(Fw(t).Y("collectionPathOverlayIndex",h))}),le.waitFor(o)}getOverlaysForCollection(t,e,i){const r=jc(),o=Os(e),u=IDBKeyRange.bound([this.userId,o,i],[this.userId,o,Number.POSITIVE_INFINITY],!0);return Fw(t).W("collectionPathOverlayIndex",u).next(h=>{for(const _ of h){const b=Jx(this.yt,_);r.set(b.getKey(),b)}return r})}getOverlaysForCollectionGroup(t,e,i,r){const o=jc();let u;const h=IDBKeyRange.bound([this.userId,e,i],[this.userId,e,Number.POSITIVE_INFINITY],!0);return Fw(t).Z({index:"collectionGroupOverlayIndex",range:h},(_,b,D)=>{const M=Jx(this.yt,b);o.size()<r||M.largestBatchId===u?(o.set(M.getKey(),M),u=M.largestBatchId):D.done()}).next(()=>o)}oe(t,e){return Fw(t).put(function(i,r,o){const[u,h,_]=TL(r,o.mutation.key);return{userId:r,collectionPath:h,documentId:_,collectionGroup:o.mutation.key.getCollectionGroup(),largestBatchId:o.largestBatchId,overlayMutation:Ow(i.ie,o.mutation)}}(this.yt,this.userId,e))}}function Fw(n){return Or(n,"documentOverlays")}class ym{constructor(){}ue(t,e){this.ce(t,e),e.ae()}ce(t,e){if("nullValue"in t)this.he(e,5);else if("booleanValue"in t)this.he(e,10),e.le(t.booleanValue?1:0);else if("integerValue"in t)this.he(e,15),e.le(Oi(t.integerValue));else if("doubleValue"in t){const i=Oi(t.doubleValue);isNaN(i)?this.he(e,13):(this.he(e,15),yw(i)?e.le(0):e.le(i))}else if("timestampValue"in t){const i=t.timestampValue;this.he(e,20),"string"==typeof i?e.fe(i):(e.fe(`${i.seconds||""}`),e.le(i.nanos||0))}else if("stringValue"in t)this.de(t.stringValue,e),this._e(e);else if("bytesValue"in t)this.he(e,30),e.we(lm(t.bytesValue)),this._e(e);else if("referenceValue"in t)this.me(t.referenceValue,e);else if("geoPointValue"in t){const i=t.geoPointValue;this.he(e,45),e.le(i.latitude||0),e.le(i.longitude||0)}else"mapValue"in t?gN(t)?this.he(e,Number.MAX_SAFE_INTEGER):(this.ge(t.mapValue,e),this._e(e)):"arrayValue"in t?(this.ye(t.arrayValue,e),this._e(e)):ot()}de(t,e){this.he(e,25),this.pe(t,e)}pe(t,e){e.fe(t)}ge(t,e){const i=t.fields||{};this.he(e,55);for(const r of Object.keys(i))this.de(r,e),this.ce(i[r],e)}ye(t,e){const i=t.values||[];this.he(e,50);for(const r of i)this.ce(r,e)}me(t,e){this.he(e,37),Ye.fromName(t).path.forEach(i=>{this.he(e,60),this.pe(i,e)})}he(t,e){t.le(e)}_e(t){t.le(2)}}function Nj(n){if(0===n)return 8;let t=0;return n>>4==0&&(t+=4,n<<=4),n>>6==0&&(t+=2,n<<=2),n>>7==0&&(t+=1),t}function RL(n){const t=64-function(e){let i=0;for(let r=0;r<8;++r){const o=Nj(255&e[r]);if(i+=o,8!==o)break}return i}(n);return Math.ceil(t/8)}ym.Ie=new ym;class Lj{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Te(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this.Ee(i.value),i=e.next();this.Ae()}Re(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this.be(i.value),i=e.next();this.Pe()}ve(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this.Ee(i);else if(i<2048)this.Ee(960|i>>>6),this.Ee(128|63&i);else if(e<"\ud800"||"\udbff"<e)this.Ee(480|i>>>12),this.Ee(128|63&i>>>6),this.Ee(128|63&i);else{const r=e.codePointAt(0);this.Ee(240|r>>>18),this.Ee(128|63&r>>>12),this.Ee(128|63&r>>>6),this.Ee(128|63&r)}}this.Ae()}Ve(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this.be(i);else if(i<2048)this.be(960|i>>>6),this.be(128|63&i);else if(e<"\ud800"||"\udbff"<e)this.be(480|i>>>12),this.be(128|63&i>>>6),this.be(128|63&i);else{const r=e.codePointAt(0);this.be(240|r>>>18),this.be(128|63&r>>>12),this.be(128|63&r>>>6),this.be(128|63&r)}}this.Pe()}Se(t){const e=this.De(t),i=RL(e);this.Ce(1+i),this.buffer[this.position++]=255&i;for(let r=e.length-i;r<e.length;++r)this.buffer[this.position++]=255&e[r]}xe(t){const e=this.De(t),i=RL(e);this.Ce(1+i),this.buffer[this.position++]=~(255&i);for(let r=e.length-i;r<e.length;++r)this.buffer[this.position++]=~(255&e[r])}Ne(){this.ke(255),this.ke(255)}Oe(){this.Me(255),this.Me(255)}reset(){this.position=0}seed(t){this.Ce(t.length),this.buffer.set(t,this.position),this.position+=t.length}Fe(){return this.buffer.slice(0,this.position)}De(t){const e=function(r){const o=new DataView(new ArrayBuffer(8));return o.setFloat64(0,r,!1),new Uint8Array(o.buffer)}(t),i=0!=(128&e[0]);e[0]^=i?255:128;for(let r=1;r<e.length;++r)e[r]^=i?255:0;return e}Ee(t){const e=255&t;0===e?(this.ke(0),this.ke(255)):255===e?(this.ke(255),this.ke(0)):this.ke(e)}be(t){const e=255&t;0===e?(this.Me(0),this.Me(255)):255===e?(this.Me(255),this.Me(0)):this.Me(t)}Ae(){this.ke(0),this.ke(1)}Pe(){this.Me(0),this.Me(1)}ke(t){this.Ce(1),this.buffer[this.position++]=t}Me(t){this.Ce(1),this.buffer[this.position++]=~t}Ce(t){const e=t+this.position;if(e<=this.buffer.length)return;let i=2*this.buffer.length;i<e&&(i=e);const r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}}class Vj{constructor(t){this.$e=t}we(t){this.$e.Te(t)}fe(t){this.$e.ve(t)}le(t){this.$e.Se(t)}ae(){this.$e.Ne()}}class Bj{constructor(t){this.$e=t}we(t){this.$e.Re(t)}fe(t){this.$e.Ve(t)}le(t){this.$e.xe(t)}ae(){this.$e.Oe()}}class Nw{constructor(){this.$e=new Lj,this.Be=new Vj(this.$e),this.Le=new Bj(this.$e)}seed(t){this.$e.seed(t)}qe(t){return 0===t?this.Be:this.Le}Fe(){return this.$e.Fe()}reset(){this.$e.reset()}}class vm{constructor(t,e,i,r){this.indexId=t,this.documentKey=e,this.arrayValue=i,this.directionalValue=r}Ue(){const t=this.directionalValue.length,e=0===t||255===this.directionalValue[t-1]?t+1:t,i=new Uint8Array(e);return i.set(this.directionalValue,0),e!==t?i.set([0],this.directionalValue.length):++i[i.length-1],new vm(this.indexId,this.documentKey,this.arrayValue,i)}}function nf(n,t){let e=n.indexId-t.indexId;return 0!==e?e:(e=OL(n.arrayValue,t.arrayValue),0!==e?e:(e=OL(n.directionalValue,t.directionalValue),0!==e?e:Ye.comparator(n.documentKey,t.documentKey)))}function OL(n,t){for(let e=0;e<n.length&&e<t.length;++e){const i=n[e]-t[e];if(0!==i)return i}return n.length-t.length}class Uj{constructor(t){this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Ke=t.orderBy,this.Ge=[];for(const e of t.filters){const i=e;i.isInequality()?this.Qe=i:this.Ge.push(i)}}je(t){vt(t.collectionGroup===this.collectionId);const e=Tx(t);if(void 0!==e&&!this.We(e))return!1;const i=sm(t);let r=0,o=0;for(;r<i.length&&this.We(i[r]);++r);if(r===i.length)return!0;if(void 0!==this.Qe){const u=i[r];if(!this.ze(this.Qe,u)||!this.He(this.Ke[o++],u))return!1;++r}for(;r<i.length;++r){const u=i[r];if(o>=this.Ke.length||!this.He(this.Ke[o++],u))return!1}return!0}We(t){for(const e of this.Ge)if(this.ze(e,t))return!0;return!1}ze(t,e){return!(void 0===t||!t.field.isEqual(e.fieldPath))&&2===e.kind==("array-contains"===t.op||"array-contains-any"===t.op)}He(t,e){return!!t.field.isEqual(e.fieldPath)&&(0===e.kind&&"asc"===t.dir||1===e.kind&&"desc"===t.dir)}}function PL(n){var t,e;if(vt(n instanceof dn||n instanceof Un),n instanceof dn){if(n instanceof AN){const r=(null===(e=null===(t=n.value.arrayValue)||void 0===t?void 0:t.values)||void 0===e?void 0:e.map(o=>dn.create(n.field,"==",o)))||[];return Un.create(r,"or")}return n}const i=n.filters.map(r=>PL(r));return Un.create(i,n.op)}function Hj(n){if(0===n.getFilters().length)return[];const t=tk(PL(n));return vt(FL(t)),Xx(t)||ek(t)?[t]:t.getFilters()}function Xx(n){return n instanceof dn}function ek(n){return n instanceof Un&&CN(n)}function FL(n){return Xx(n)||ek(n)||function(t){if(t instanceof Un&&Fx(t)){for(const e of t.getFilters())if(!Xx(e)&&!ek(e))return!1;return!0}return!1}(n)}function tk(n){if(vt(n instanceof dn||n instanceof Un),n instanceof dn)return n;if(1===n.filters.length)return tk(n.filters[0]);const t=n.filters.map(i=>tk(i));let e=Un.create(t,n.op);return e=mS(e),FL(e)?e:(vt(e instanceof Un),vt(z_(e)),vt(e.filters.length>1),e.filters.reduce((i,r)=>nk(i,r)))}function nk(n,t){let e;return vt(n instanceof dn||n instanceof Un),vt(t instanceof dn||t instanceof Un),e=n instanceof dn?t instanceof dn?Un.create([n,t],"and"):NL(n,t):t instanceof dn?NL(t,n):function(i,r){if(vt(i.filters.length>0&&r.filters.length>0),z_(i)&&z_(r))return IN(i,r.getFilters());const o=Fx(i)?i:r,u=Fx(i)?r:i,h=o.filters.map(_=>nk(_,u));return Un.create(h,"or")}(n,t),mS(e)}function NL(n,t){if(z_(t))return IN(t,n.getFilters());{const e=t.filters.map(i=>nk(n,i));return Un.create(e,"or")}}function mS(n){if(vt(n instanceof dn||n instanceof Un),n instanceof dn)return n;const t=n.getFilters();if(1===t.length)return mS(t[0]);if(DN(n))return n;const e=t.map(r=>mS(r)),i=[];return e.forEach(r=>{r instanceof dn?i.push(r):r instanceof Un&&(r.op===n.op?i.push(...r.filters):i.push(r))}),1===i.length?i[0]:Un.create(i,n.op)}class jj{constructor(){this.Je=new ik}addToCollectionParentIndex(t,e){return this.Je.add(e),le.resolve()}getCollectionParents(t,e){return le.resolve(this.Je.getEntries(e))}addFieldIndex(t,e){return le.resolve()}deleteFieldIndex(t,e){return le.resolve()}getDocumentsMatchingTarget(t,e){return le.resolve(null)}getIndexType(t,e){return le.resolve(0)}getFieldIndexes(t,e){return le.resolve([])}getNextCollectionGroupToUpdate(t){return le.resolve(null)}getMinOffset(t,e){return le.resolve($o.min())}getMinOffsetFromCollectionGroup(t,e){return le.resolve($o.min())}updateCollectionGroup(t,e,i){return le.resolve()}updateIndexEntries(t,e){return le.resolve()}}class ik{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e]||new Gn(wn.comparator),o=!r.has(i);return this.index[e]=r.add(i),o}has(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e];return r&&r.has(i)}getEntries(t){return(this.index[t]||new Gn(wn.comparator)).toArray()}}const gS=new Uint8Array(0);class Gj{constructor(t,e){this.user=t,this.databaseId=e,this.Ye=new ik,this.Xe=new ef(i=>dm(i),(i,r)=>Dw(i,r)),this.uid=t.uid||""}addToCollectionParentIndex(t,e){if(!this.Ye.has(e)){const i=e.lastSegment(),r=e.popLast();t.addOnCommittedListener(()=>{this.Ye.add(e)});const o={collectionId:i,parent:Os(r)};return LL(t).put(o)}return le.resolve()}getCollectionParents(t,e){const i=[],r=IDBKeyRange.bound([e,""],[iN(e),""],!1,!0);return LL(t).W(r).next(o=>{for(const u of o){if(u.collectionId!==e)break;i.push(zc(u.parent))}return i})}addFieldIndex(t,e){const i=_S(t),r={indexId:(u=e).indexId,collectionGroup:u.collectionGroup,fields:u.fields.map(h=>[h.fieldPath.canonicalString(),h.kind])};var u;delete r.indexId;const o=i.add(r);if(e.indexState){const u=Vw(t);return o.next(h=>{u.put(AL(h,this.user,e.indexState.sequenceNumber,e.indexState.offset))})}return o.next()}deleteFieldIndex(t,e){const i=_S(t),r=Vw(t),o=Lw(t);return i.delete(e.indexId).next(()=>r.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0))).next(()=>o.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0)))}getDocumentsMatchingTarget(t,e){const i=Lw(t);let r=!0;const o=new Map;return le.forEach(this.Ze(e),u=>this.tn(t,u).next(h=>{r&&(r=!!h),o.set(u,h)})).next(()=>{if(r){let u=Qt();const h=[];return le.forEach(o,(_,b)=>{var D;Pe("IndexedDbIndexManager",`Using index ${D=_,`id=${D.indexId}|cg=${D.collectionGroup}|f=${D.fields.map(gt=>`${gt.fieldPath}:${gt.kind}`).join(",")}`} to execute ${dm(e)}`);const M=function(gt,dt){const At=Tx(dt);if(void 0===At)return null;for(const Nt of rS(gt,At.fieldPath))switch(Nt.op){case"array-contains-any":return Nt.value.arrayValue.values||[];case"array-contains":return[Nt.value]}return null}(b,_),O=function(gt,dt){const At=new Map;for(const Nt of sm(dt))for(const mn of rS(gt,Nt.fieldPath))switch(mn.op){case"==":case"in":At.set(Nt.fieldPath.canonicalString(),mn.value);break;case"not-in":case"!=":return At.set(Nt.fieldPath.canonicalString(),mn.value),Array.from(At.values())}return null}(b,_),B=function(gt,dt){const At=[];let Nt=!0;for(const mn of sm(dt)){const Vs=0===mn.kind?RN(gt,mn.fieldPath,gt.startAt):ON(gt,mn.fieldPath,gt.startAt);At.push(Vs.value),Nt&&(Nt=Vs.inclusive)}return new Xh(At,Nt)}(b,_),$=function(gt,dt){const At=[];let Nt=!0;for(const mn of sm(dt)){const Vs=0===mn.kind?ON(gt,mn.fieldPath,gt.endAt):RN(gt,mn.fieldPath,gt.endAt);At.push(Vs.value),Nt&&(Nt=Vs.inclusive)}return new Xh(At,Nt)}(b,_),ne=this.en(_,b,B),ce=this.en(_,b,$),We=this.nn(_,b,O),ft=this.sn(_.indexId,M,ne,B.inclusive,ce,$.inclusive,We);return le.forEach(ft,gt=>i.J(gt,e.limit).next(dt=>{dt.forEach(At=>{const Nt=Ye.fromSegments(At.documentKey);u.has(Nt)||(u=u.add(Nt),h.push(Nt))})}))}).next(()=>h)}return le.resolve(null)})}Ze(t){let e=this.Xe.get(t);return e||(e=0===t.filters.length?[t]:Hj(Un.create(t.filters,"and")).map(i=>Nx(t.path,t.collectionGroup,t.orderBy,i.getFilters(),t.limit,t.startAt,t.endAt)),this.Xe.set(t,e),e)}sn(t,e,i,r,o,u,h){const _=(null!=e?e.length:1)*Math.max(i.length,o.length),b=_/(null!=e?e.length:1),D=[];for(let M=0;M<_;++M){const O=e?this.rn(e[M/b]):gS,B=this.on(t,O,i[M%b],r),$=this.un(t,O,o[M%b],u),ne=h.map(ce=>this.on(t,O,ce,!0));D.push(...this.createRange(B,$,ne))}return D}on(t,e,i,r){const o=new vm(t,Ye.empty(),e,i);return r?o:o.Ue()}un(t,e,i,r){const o=new vm(t,Ye.empty(),e,i);return r?o.Ue():o}tn(t,e){const i=new Uj(e),r=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment();return this.getFieldIndexes(t,r).next(o=>{let u=null;for(const h of o)i.je(h)&&(!u||h.fields.length>u.fields.length)&&(u=h);return u})}getIndexType(t,e){let i=2;const r=this.Ze(e);return le.forEach(r,o=>this.tn(t,o).next(u=>{u?0!==i&&u.fields.length<function(h){let _=new Gn(Ri.comparator),b=!1;for(const D of h.filters)for(const M of D.getFlattenedFilters())M.field.isKeyField()||("array-contains"===M.op||"array-contains-any"===M.op?b=!0:_=_.add(M.field));for(const D of h.orderBy)D.field.isKeyField()||(_=_.add(D.field));return _.size+(b?1:0)}(o)&&(i=1):i=0})).next(()=>null!==e.limit&&r.length>1&&2===i?1:i)}cn(t,e){const i=new Nw;for(const r of sm(t)){const o=e.data.field(r.fieldPath);if(null==o)return null;const u=i.qe(r.kind);ym.Ie.ue(o,u)}return i.Fe()}rn(t){const e=new Nw;return ym.Ie.ue(t,e.qe(0)),e.Fe()}an(t,e){const i=new Nw;return ym.Ie.ue(um(this.databaseId,e),i.qe(function(r){const o=sm(r);return 0===o.length?0:o[o.length-1].kind}(t))),i.Fe()}nn(t,e,i){if(null===i)return[];let r=[];r.push(new Nw);let o=0;for(const u of sm(t)){const h=i[o++];for(const _ of r)if(this.hn(e,u.fieldPath)&&ww(h))r=this.ln(r,u,h);else{const b=_.qe(u.kind);ym.Ie.ue(h,b)}}return this.fn(r)}en(t,e,i){return this.nn(t,e,i.position)}fn(t){const e=[];for(let i=0;i<t.length;++i)e[i]=t[i].Fe();return e}ln(t,e,i){const r=[...t],o=[];for(const u of i.arrayValue.values||[])for(const h of r){const _=new Nw;_.seed(h.Fe()),ym.Ie.ue(u,_.qe(e.kind)),o.push(_)}return o}hn(t,e){return!!t.filters.find(i=>i instanceof dn&&i.field.isEqual(e)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(t,e){const i=_S(t),r=Vw(t);return(e?i.W("collectionGroupIndex",IDBKeyRange.bound(e,e)):i.W()).next(o=>{const u=[];return le.forEach(o,h=>r.get([h.indexId,this.uid]).next(_=>{u.push(function(b,D){const M=D?new mw(D.sequenceNumber,new $o(gm(D.readTime),new Ye(zc(D.documentKey)),D.largestBatchId)):mw.empty(),O=b.fields.map(([B,$])=>new JE(Ri.fromServerFormat(B),$));return new QE(b.indexId,b.collectionGroup,O,M)}(h,_))})).next(()=>u)})}getNextCollectionGroupToUpdate(t){return this.getFieldIndexes(t).next(e=>0===e.length?null:(e.sort((i,r)=>{const o=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return 0!==o?o:Zt(i.collectionGroup,r.collectionGroup)}),e[0].collectionGroup))}updateCollectionGroup(t,e,i){const r=_S(t),o=Vw(t);return this.dn(t).next(u=>r.W("collectionGroupIndex",IDBKeyRange.bound(e,e)).next(h=>le.forEach(h,_=>o.put(AL(_.indexId,this.user,u,i)))))}updateIndexEntries(t,e){const i=new Map;return le.forEach(e,(r,o)=>{const u=i.get(r.collectionGroup);return(u?le.resolve(u):this.getFieldIndexes(t,r.collectionGroup)).next(h=>(i.set(r.collectionGroup,h),le.forEach(h,_=>this._n(t,r,_).next(b=>{const D=this.wn(o,_);return b.isEqual(D)?le.resolve():this.mn(t,o,_,b,D)}))))})}gn(t,e,i,r){return Lw(t).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.an(i,e.key),documentKey:e.key.path.toArray()})}yn(t,e,i,r){return Lw(t).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.an(i,e.key),e.key.path.toArray()])}_n(t,e,i){const r=Lw(t);let o=new Gn(nf);return r.Z({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.an(i,e)])},(u,h)=>{o=o.add(new vm(i.indexId,e,h.arrayValue,h.directionalValue))}).next(()=>o)}wn(t,e){let i=new Gn(nf);const r=this.cn(e,t);if(null==r)return i;const o=Tx(e);if(null!=o){const u=t.data.field(o.fieldPath);if(ww(u))for(const h of u.arrayValue.values||[])i=i.add(new vm(e.indexId,t.key,this.rn(h),r))}else i=i.add(new vm(e.indexId,t.key,gS,r));return i}mn(t,e,i,r,o){Pe("IndexedDbIndexManager","Updating index entries for document '%s'",e.key);const u=[];return function(h,_,b,D,M){const O=h.getIterator(),B=_.getIterator();let $=q_(O),ne=q_(B);for(;$||ne;){let ce=!1,We=!1;if($&&ne){const ft=b($,ne);ft<0?We=!0:ft>0&&(ce=!0)}else null!=$?We=!0:ce=!0;ce?(D(ne),ne=q_(B)):We?(M($),$=q_(O)):($=q_(O),ne=q_(B))}}(r,o,nf,h=>{u.push(this.gn(t,e,i,h))},h=>{u.push(this.yn(t,e,i,h))}),le.waitFor(u)}dn(t){let e=1;return Vw(t).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,o)=>{o.done(),e=r.sequenceNumber+1}).next(()=>e)}createRange(t,e,i){i=i.sort((u,h)=>nf(u,h)).filter((u,h,_)=>!h||0!==nf(u,_[h-1]));const r=[];r.push(t);for(const u of i){const h=nf(u,t),_=nf(u,e);if(0===h)r[0]=t.Ue();else if(h>0&&_<0)r.push(u),r.push(u.Ue());else if(_>0)break}r.push(e);const o=[];for(let u=0;u<r.length;u+=2){if(this.pn(r[u],r[u+1]))return[];o.push(IDBKeyRange.bound([r[u].indexId,this.uid,r[u].arrayValue,r[u].directionalValue,gS,[]],[r[u+1].indexId,this.uid,r[u+1].arrayValue,r[u+1].directionalValue,gS,[]]))}return o}pn(t,e){return nf(t,e)>0}getMinOffsetFromCollectionGroup(t,e){return this.getFieldIndexes(t,e).next(VL)}getMinOffset(t,e){return le.mapArray(this.Ze(e),i=>this.tn(t,i).next(r=>r||ot())).next(VL)}}function LL(n){return Or(n,"collectionParents")}function Lw(n){return Or(n,"indexEntries")}function _S(n){return Or(n,"indexConfiguration")}function Vw(n){return Or(n,"indexState")}function VL(n){vt(0!==n.length);let t=n[0].indexState.offset,e=t.largestBatchId;for(let i=1;i<n.length;i++){const r=n[i].indexState.offset;Ax(r,t)<0&&(t=r),e<r.largestBatchId&&(e=r.largestBatchId)}return new $o(t.readTime,t.documentKey,e)}const BL={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class ho{constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}static withCacheSize(t){return new ho(t,ho.DEFAULT_COLLECTION_PERCENTILE,ho.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function UL(n,t,e){const i=n.store("mutations"),r=n.store("documentMutations"),o=[],u=IDBKeyRange.only(e.batchId);let h=0;const _=i.Z({range:u},(D,M,O)=>(h++,O.delete()));o.push(_.next(()=>{vt(1===h)}));const b=[];for(const D of e.mutations){const M=wL(t,D.key.path,e.batchId);o.push(r.delete(M)),b.push(D.key)}return le.waitFor(o).next(()=>b)}function yS(n){if(!n)return 0;let t;if(n.document)t=n.document;else if(n.unknownDocument)t=n.unknownDocument;else{if(!n.noDocument)throw ot();t=n.noDocument}return JSON.stringify(t).length}ho.DEFAULT_COLLECTION_PERCENTILE=10,ho.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ho.DEFAULT=new ho(41943040,ho.DEFAULT_COLLECTION_PERCENTILE,ho.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ho.DISABLED=new ho(-1,0,0);class vS{constructor(t,e,i,r){this.userId=t,this.yt=e,this.indexManager=i,this.referenceDelegate=r,this.In={}}static re(t,e,i,r){vt(""!==t.uid);const o=t.isAuthenticated()?t.uid:"";return new vS(o,e,i,r)}checkEmpty(t){let e=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return rf(t).Z({index:"userMutationsIndex",range:i},(r,o,u)=>{e=!1,u.done()}).next(()=>e)}addMutationBatch(t,e,i,r){const o=ty(t),u=rf(t);return u.add({}).next(h=>{vt("number"==typeof h);const _=new Yx(h,e,i,r),b=function(O,B,$){const ne=$.baseMutations.map(We=>Ow(O.ie,We)),ce=$.mutations.map(We=>Ow(O.ie,We));return{userId:B,batchId:$.batchId,localWriteTimeMs:$.localWriteTime.toMillis(),baseMutations:ne,mutations:ce}}(this.yt,this.userId,_),D=[];let M=new Gn((O,B)=>Zt(O.canonicalString(),B.canonicalString()));for(const O of r){const B=wL(this.userId,O.key.path,h);M=M.add(O.key.path.popLast()),D.push(u.put(b)),D.push(o.put(B,_j))}return M.forEach(O=>{D.push(this.indexManager.addToCollectionParentIndex(t,O))}),t.addOnCommittedListener(()=>{this.In[h]=_.keys()}),le.waitFor(D).next(()=>_)})}lookupMutationBatch(t,e){return rf(t).get(e).next(i=>i?(vt(i.userId===this.userId),_m(this.yt,i)):null)}Tn(t,e){return this.In[e]?le.resolve(this.In[e]):this.lookupMutationBatch(t,e).next(i=>{if(i){const r=i.keys();return this.In[e]=r,r}return null})}getNextMutationBatchAfterBatchId(t,e){const i=e+1,r=IDBKeyRange.lowerBound([this.userId,i]);let o=null;return rf(t).Z({index:"userMutationsIndex",range:r},(u,h,_)=>{h.userId===this.userId&&(vt(h.batchId>=i),o=_m(this.yt,h)),_.done()}).next(()=>o)}getHighestUnacknowledgedBatchId(t){const e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return rf(t).Z({index:"userMutationsIndex",range:e,reverse:!0},(r,o,u)=>{i=o.batchId,u.done()}).next(()=>i)}getAllMutationBatches(t){const e=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return rf(t).W("userMutationsIndex",e).next(i=>i.map(r=>_m(this.yt,r)))}getAllMutationBatchesAffectingDocumentKey(t,e){const i=hS(this.userId,e.path),r=IDBKeyRange.lowerBound(i),o=[];return ty(t).Z({range:r},(u,h,_)=>{const[b,D,M]=u,O=zc(D);if(b===this.userId&&e.path.isEqual(O))return rf(t).get(M).next(B=>{if(!B)throw ot();vt(B.userId===this.userId),o.push(_m(this.yt,B))});_.done()}).next(()=>o)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new Gn(Zt);const r=[];return e.forEach(o=>{const u=hS(this.userId,o.path),h=IDBKeyRange.lowerBound(u),_=ty(t).Z({range:h},(b,D,M)=>{const[O,B,$]=b,ne=zc(B);O===this.userId&&o.path.isEqual(ne)?i=i.add($):M.done()});r.push(_)}),le.waitFor(r).next(()=>this.En(t,i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1,o=hS(this.userId,i),u=IDBKeyRange.lowerBound(o);let h=new Gn(Zt);return ty(t).Z({range:u},(_,b,D)=>{const[M,O,B]=_,$=zc(O);M===this.userId&&i.isPrefixOf($)?$.length===r&&(h=h.add(B)):D.done()}).next(()=>this.En(t,h))}En(t,e){const i=[],r=[];return e.forEach(o=>{r.push(rf(t).get(o).next(u=>{if(null===u)throw ot();vt(u.userId===this.userId),i.push(_m(this.yt,u))}))}),le.waitFor(r).next(()=>i)}removeMutationBatch(t,e){return UL(t.se,this.userId,e).next(i=>(t.addOnCommittedListener(()=>{this.An(e.batchId)}),le.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(t,r))))}An(t){delete this.In[t]}performConsistencyCheck(t){return this.checkEmpty(t).next(e=>{if(!e)return le.resolve();const i=IDBKeyRange.lowerBound([this.userId]),r=[];return ty(t).Z({range:i},(o,u,h)=>{if(o[0]===this.userId){const _=zc(o[1]);r.push(_)}else h.done()}).next(()=>{vt(0===r.length)})})}containsKey(t,e){return HL(t,this.userId,e)}Rn(t){return jL(t).get(this.userId).next(e=>e||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function HL(n,t,e){const i=hS(t,e.path),r=i[1],o=IDBKeyRange.lowerBound(i);let u=!1;return ty(n).Z({range:o,X:!0},(h,_,b)=>{const[D,M,O]=h;D===t&&M===r&&(u=!0),b.done()}).next(()=>u)}function rf(n){return Or(n,"mutations")}function ty(n){return Or(n,"documentMutations")}function jL(n){return Or(n,"mutationQueues")}class bm{constructor(t){this.bn=t}next(){return this.bn+=2,this.bn}static Pn(){return new bm(0)}static vn(){return new bm(-1)}}class zj{constructor(t,e){this.referenceDelegate=t,this.yt=e}allocateTargetId(t){return this.Vn(t).next(e=>{const i=new bm(e.highestTargetId);return e.highestTargetId=i.next(),this.Sn(t,e).next(()=>e.highestTargetId)})}getLastRemoteSnapshotVersion(t){return this.Vn(t).next(e=>Dt.fromTimestamp(new vi(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(t){return this.Vn(t).next(e=>e.highestListenSequenceNumber)}setTargetsMetadata(t,e,i){return this.Vn(t).next(r=>(r.highestListenSequenceNumber=e,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),e>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e),this.Sn(t,r)))}addTargetData(t,e){return this.Dn(t,e).next(()=>this.Vn(t).next(i=>(i.targetCount+=1,this.Cn(e,i),this.Sn(t,i))))}updateTargetData(t,e){return this.Dn(t,e)}removeTargetData(t,e){return this.removeMatchingKeysForTargetId(t,e.targetId).next(()=>ny(t).delete(e.targetId)).next(()=>this.Vn(t)).next(i=>(vt(i.targetCount>0),i.targetCount-=1,this.Sn(t,i)))}removeTargets(t,e,i){let r=0;const o=[];return ny(t).Z((u,h)=>{const _=Pw(h);_.sequenceNumber<=e&&null===i.get(_.targetId)&&(r++,o.push(this.removeTargetData(t,_)))}).next(()=>le.waitFor(o)).next(()=>r)}forEachTarget(t,e){return ny(t).Z((i,r)=>{const o=Pw(r);e(o)})}Vn(t){return GL(t).get("targetGlobalKey").next(e=>(vt(null!==e),e))}Sn(t,e){return GL(t).put("targetGlobalKey",e)}Dn(t,e){return ny(t).put(ML(this.yt,e))}Cn(t,e){let i=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,i=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,i=!0),i}getTargetCount(t){return this.Vn(t).next(e=>e.targetCount)}getTargetData(t,e){const i=dm(e),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let o=null;return ny(t).Z({range:r,index:"queryTargetsIndex"},(u,h,_)=>{const b=Pw(h);Dw(e,b.target)&&(o=b,_.done())}).next(()=>o)}addMatchingKeys(t,e,i){const r=[],o=sf(t);return e.forEach(u=>{const h=Os(u.path);r.push(o.put({targetId:i,path:h})),r.push(this.referenceDelegate.addReference(t,i,u))}),le.waitFor(r)}removeMatchingKeys(t,e,i){const r=sf(t);return le.forEach(e,o=>{const u=Os(o.path);return le.waitFor([r.delete([i,u]),this.referenceDelegate.removeReference(t,i,o)])})}removeMatchingKeysForTargetId(t,e){const i=sf(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(t,e){const i=IDBKeyRange.bound([e],[e+1],!1,!0),r=sf(t);let o=Qt();return r.Z({range:i,X:!0},(u,h,_)=>{const b=zc(u[1]),D=new Ye(b);o=o.add(D)}).next(()=>o)}containsKey(t,e){const i=Os(e.path),r=IDBKeyRange.bound([i],[iN(i)],!1,!0);let o=0;return sf(t).Z({index:"documentTargetsIndex",X:!0,range:r},([u,h],_,b)=>{0!==u&&(o++,b.done())}).next(()=>o>0)}ne(t,e){return ny(t).get(e).next(i=>i?Pw(i):null)}}function ny(n){return Or(n,"targets")}function GL(n){return Or(n,"targetGlobal")}function sf(n){return Or(n,"targetDocuments")}function zL([n,t],[e,i]){const r=Zt(n,e);return 0===r?Zt(t,i):r}class $j{constructor(t){this.xn=t,this.buffer=new Gn(zL),this.Nn=0}kn(){return++this.Nn}On(t){const e=[t,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(e);else{const i=this.buffer.last();zL(e,i)<0&&(this.buffer=this.buffer.delete(i).add(e))}}get maxValue(){return this.buffer.last()[0]}}class qj{constructor(t,e,i){this.garbageCollector=t,this.asyncQueue=e,this.localStore=i,this.Mn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}stop(){this.Mn&&(this.Mn.cancel(),this.Mn=null)}get started(){return null!==this.Mn}Fn(t){var e=this;Pe("LruGarbageCollector",`Garbage collection scheduled in ${t}ms`),this.Mn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(0,ye.Z)(function*(){e.Mn=null;try{yield e.localStore.collectGarbage(e.garbageCollector)}catch(i){Yh(i)?Pe("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield Zh(i)}yield e.Fn(3e5)}))}}class Zj{constructor(t,e){this.$n=t,this.params=e}calculateTargetCount(t,e){return this.$n.Bn(t).next(i=>Math.floor(e/100*i))}nthSequenceNumber(t,e){if(0===e)return le.resolve(qo.at);const i=new $j(e);return this.$n.forEachTarget(t,r=>i.On(r.sequenceNumber)).next(()=>this.$n.Ln(t,r=>i.On(r))).next(()=>i.maxValue)}removeTargets(t,e,i){return this.$n.removeTargets(t,e,i)}removeOrphanedDocuments(t,e){return this.$n.removeOrphanedDocuments(t,e)}collect(t,e){return-1===this.params.cacheSizeCollectionThreshold?(Pe("LruGarbageCollector","Garbage collection skipped; disabled"),le.resolve(BL)):this.getCacheSize(t).next(i=>i<this.params.cacheSizeCollectionThreshold?(Pe("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),BL):this.qn(t,e))}getCacheSize(t){return this.$n.getCacheSize(t)}qn(t,e){let i,r,o,u,h,_,b;const D=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(M=>(M>this.params.maximumSequenceNumbersToCollect?(Pe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${M}`),r=this.params.maximumSequenceNumbersToCollect):r=M,u=Date.now(),this.nthSequenceNumber(t,r))).next(M=>(i=M,h=Date.now(),this.removeTargets(t,i,e))).next(M=>(o=M,_=Date.now(),this.removeOrphanedDocuments(t,i))).next(M=>(b=Date.now(),Ix()<=Ra.in.DEBUG&&Pe("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${u-D}ms\n\tDetermined least recently used ${r} in `+(h-u)+`ms\n\tRemoved ${o} targets in `+(_-h)+`ms\n\tRemoved ${M} documents in `+(b-_)+`ms\nTotal Duration: ${b-D}ms`),le.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:o,documentsRemoved:M})))}}class Yj{constructor(t,e){this.db=t,this.garbageCollector=new Zj(this,e)}Bn(t){const e=this.Un(t);return this.db.getTargetCache().getTargetCount(t).next(i=>e.next(r=>i+r))}Un(t){let e=0;return this.Ln(t,i=>{e++}).next(()=>e)}forEachTarget(t,e){return this.db.getTargetCache().forEachTarget(t,e)}Ln(t,e){return this.Kn(t,(i,r)=>e(r))}addReference(t,e,i){return bS(t,i)}removeReference(t,e,i){return bS(t,i)}removeTargets(t,e,i){return this.db.getTargetCache().removeTargets(t,e,i)}markPotentiallyOrphaned(t,e){return bS(t,e)}Gn(t,e){return function(i,r){let o=!1;return jL(i).tt(u=>HL(i,u,r).next(h=>(h&&(o=!0),le.resolve(!h)))).next(()=>o)}(t,e)}removeOrphanedDocuments(t,e){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let o=0;return this.Kn(t,(u,h)=>{if(h<=e){const _=this.Gn(t,u).next(b=>{if(!b)return o++,i.getEntry(t,u).next(()=>(i.removeEntry(u,Dt.min()),sf(t).delete([0,Os(u.path)])))});r.push(_)}}).next(()=>le.waitFor(r)).next(()=>i.apply(t)).next(()=>o)}removeTarget(t,e){const i=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,i)}updateLimboDocument(t,e){return bS(t,e)}Kn(t,e){const i=sf(t);let r,o=qo.at;return i.Z({index:"documentTargetsIndex"},([u,h],{path:_,sequenceNumber:b})=>{0===u?(o!==qo.at&&e(new Ye(zc(r)),o),o=b,r=_):o=qo.at}).next(()=>{o!==qo.at&&e(new Ye(zc(r)),o)})}getCacheSize(t){return this.db.getRemoteDocumentCache().getSize(t)}}function bS(n,t){return sf(n).put((i=n.currentSequenceNumber,{targetId:0,path:Os(t.path),sequenceNumber:i}));var i}class $L{constructor(){this.changes=new ef(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,oi.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return void 0!==i?le.resolve(i):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class Wj{constructor(t){this.yt=t}setIndexManager(t){this.indexManager=t}addEntry(t,e,i){return wm(t).put(i)}removeEntry(t,e,i){return wm(t).delete(function(r,o){const u=r.path.toArray();return[u.slice(0,u.length-2),u[u.length-2],fS(o),u[u.length-1]]}(e,i))}updateMetadata(t,e){return this.getMetadata(t).next(i=>(i.byteSize+=e,this.Qn(t,i)))}getEntry(t,e){let i=oi.newInvalidDocument(e);return wm(t).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Bw(e))},(r,o)=>{i=this.jn(e,o)}).next(()=>i)}Wn(t,e){let i={size:0,document:oi.newInvalidDocument(e)};return wm(t).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Bw(e))},(r,o)=>{i={document:this.jn(e,o),size:yS(o)}}).next(()=>i)}getEntries(t,e){let i=uo();return this.zn(t,e,(r,o)=>{const u=this.jn(r,o);i=i.insert(r,u)}).next(()=>i)}Hn(t,e){let i=uo(),r=new Pi(Ye.comparator);return this.zn(t,e,(o,u)=>{const h=this.jn(o,u);i=i.insert(o,h),r=r.insert(o,yS(u))}).next(()=>({documents:i,Jn:r}))}zn(t,e,i){if(e.isEmpty())return le.resolve();let r=new Gn(WL);e.forEach(_=>r=r.add(_));const o=IDBKeyRange.bound(Bw(r.first()),Bw(r.last())),u=r.getIterator();let h=u.getNext();return wm(t).Z({index:"documentKeyIndex",range:o},(_,b,D)=>{const M=Ye.fromSegments([...b.prefixPath,b.collectionGroup,b.documentId]);for(;h&&WL(h,M)<0;)i(h,null),h=u.getNext();h&&h.isEqual(M)&&(i(h,b),h=u.hasNext()?u.getNext():null),h?D.j(Bw(h)):D.done()}).next(()=>{for(;h;)i(h,null),h=u.hasNext()?u.getNext():null})}getAllFromCollection(t,e,i){const r=[e.popLast().toArray(),e.lastSegment(),fS(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],o=[e.popLast().toArray(),e.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return wm(t).W(IDBKeyRange.bound(r,o,!0)).next(u=>{let h=uo();for(const _ of u){const b=this.jn(Ye.fromSegments(_.prefixPath.concat(_.collectionGroup,_.documentId)),_);h=h.insert(b.key,b)}return h})}getAllFromCollectionGroup(t,e,i,r){let o=uo();const u=YL(e,i),h=YL(e,$o.max());return wm(t).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(u,h,!0)},(_,b,D)=>{const M=this.jn(Ye.fromSegments(b.prefixPath.concat(b.collectionGroup,b.documentId)),b);o=o.insert(M.key,M),o.size===r&&D.done()}).next(()=>o)}newChangeBuffer(t){return new Kj(this,!!t&&t.trackRemovals)}getSize(t){return this.getMetadata(t).next(e=>e.byteSize)}getMetadata(t){return ZL(t).get("remoteDocumentGlobalKey").next(e=>(vt(!!e),e))}Qn(t,e){return ZL(t).put("remoteDocumentGlobalKey",e)}jn(t,e){if(e){const i=function Pj(n,t){let e;if(t.document)e=fL(n.ie,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const i=Ye.fromSegments(t.noDocument.path),r=gm(t.noDocument.readTime);e=oi.newNoDocument(i,r),t.hasCommittedMutations&&e.setHasCommittedMutations()}else{if(!t.unknownDocument)return ot();{const i=Ye.fromSegments(t.unknownDocument.path),r=gm(t.unknownDocument.version);e=oi.newUnknownDocument(i,r)}}return t.readTime&&e.setReadTime(function(i){const r=new vi(i[0],i[1]);return Dt.fromTimestamp(r)}(t.readTime)),e}(this.yt,e);if(!i.isNoDocument()||!i.version.isEqual(Dt.min()))return i}return oi.newInvalidDocument(t)}}function qL(n){return new Wj(n)}class Kj extends $L{constructor(t,e){super(),this.Yn=t,this.trackRemovals=e,this.Xn=new ef(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(t){const e=[];let i=0,r=new Gn((o,u)=>Zt(o.canonicalString(),u.canonicalString()));return this.changes.forEach((o,u)=>{const h=this.Xn.get(o);if(e.push(this.Yn.removeEntry(t,o,h.readTime)),u.isValidDocument()){const _=IL(this.Yn.yt,u);r=r.add(o.path.popLast()),i+=yS(_)-h.size,e.push(this.Yn.addEntry(t,o,_))}else if(i-=h.size,this.trackRemovals){const _=IL(this.Yn.yt,u.convertToNoDocument(Dt.min()));e.push(this.Yn.addEntry(t,o,_))}}),r.forEach(o=>{e.push(this.Yn.indexManager.addToCollectionParentIndex(t,o))}),e.push(this.Yn.updateMetadata(t,i)),le.waitFor(e)}getFromCache(t,e){return this.Yn.Wn(t,e).next(i=>(this.Xn.set(e,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(t,e){return this.Yn.Hn(t,e).next(({documents:i,Jn:r})=>(r.forEach((o,u)=>{this.Xn.set(o,{size:u,readTime:i.get(o).readTime})}),i))}}function ZL(n){return Or(n,"remoteDocumentGlobal")}function wm(n){return Or(n,"remoteDocumentsV14")}function Bw(n){const t=n.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function YL(n,t){const e=t.documentKey.path.toArray();return[n,fS(t.readTime),e.slice(0,e.length-2),e.length>0?e[e.length-1]:""]}function WL(n,t){const e=n.path.toArray(),i=t.path.toArray();let r=0;for(let o=0;o<e.length-2&&o<i.length-2;++o)if(r=Zt(e[o],i[o]),r)return r;return r=Zt(e.length,i.length),r||(r=Zt(e[e.length-2],i[i.length-2]),r||Zt(e[e.length-1],i[i.length-1]))}class Qj{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}class KL{constructor(t,e,i,r){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=i,this.indexManager=r}getDocument(t,e){let i=null;return this.documentOverlayCache.getOverlay(t,e).next(r=>(i=r,this.remoteDocumentCache.getEntry(t,e))).next(r=>(null!==i&&Iw(i.mutation,r,Zo.empty(),vi.now()),r))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.getLocalViewOfDocuments(t,i,Qt()).next(()=>i))}getLocalViewOfDocuments(t,e,i=Qt()){const r=jc();return this.populateOverlays(t,r,e).next(()=>this.computeViews(t,e,r,i).next(o=>{let u=Mw();return o.forEach((h,_)=>{u=u.insert(h,_.overlayedDocument)}),u}))}getOverlayedDocuments(t,e){const i=jc();return this.populateOverlays(t,i,e).next(()=>this.computeViews(t,e,i,Qt()))}populateOverlays(t,e,i){const r=[];return i.forEach(o=>{e.has(o)||r.push(o)}),this.documentOverlayCache.getOverlays(t,r).next(o=>{o.forEach((u,h)=>{e.set(u,h)})})}computeViews(t,e,i,r){let o=uo();const u=Tw(),h=Tw();return e.forEach((_,b)=>{const D=i.get(b.key);r.has(b.key)&&(void 0===D||D.mutation instanceof pd)?o=o.insert(b.key,b):void 0!==D&&(u.set(b.key,D.mutation.getFieldMask()),Iw(D.mutation,b,D.mutation.getFieldMask(),vi.now()))}),this.recalculateAndSaveOverlays(t,o).next(_=>(_.forEach((b,D)=>u.set(b,D)),e.forEach((b,D)=>{var M;return h.set(b,new Qj(D,null!==(M=u.get(b))&&void 0!==M?M:null))}),h))}recalculateAndSaveOverlays(t,e){const i=Tw();let r=new Pi((u,h)=>u-h),o=Qt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(u=>{for(const h of u)h.keys().forEach(_=>{const b=e.get(_);if(null===b)return;let D=i.get(_)||Zo.empty();D=h.applyToLocalView(b,D),i.set(_,D);const M=(r.get(h.batchId)||Qt()).add(_);r=r.insert(h.batchId,M)})}).next(()=>{const u=[],h=r.getReverseIterator();for(;h.hasNext();){const _=h.getNext(),b=_.key,D=_.value,M=nL();D.forEach(O=>{if(!o.has(O)){const B=ZN(e.get(O),i.get(O));null!==B&&M.set(O,B),o=o.add(O)}}),u.push(this.documentOverlayCache.saveOverlays(t,b,M))}return le.waitFor(u)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,e,i){return Ye.isDocumentKey((r=e).path)&&null===r.collectionGroup&&0===r.filters.length?this.getDocumentsMatchingDocumentQuery(t,e.path):Vx(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,i):this.getDocumentsMatchingCollectionQuery(t,e,i);var r}getNextDocuments(t,e,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,i,r).next(o=>{const u=r-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,i.largestBatchId,r-o.size):le.resolve(jc());let h=-1,_=o;return u.next(b=>le.forEach(b,(D,M)=>(h<M.largestBatchId&&(h=M.largestBatchId),o.get(D)?le.resolve():this.remoteDocumentCache.getEntry(t,D).next(O=>{_=_.insert(D,O)}))).next(()=>this.populateOverlays(t,b,o)).next(()=>this.computeViews(t,_,b,Qt())).next(D=>({batchId:h,changes:tL(D)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new Ye(e)).next(i=>{let r=Mw();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(t,e,i){const r=e.collectionGroup;let o=Mw();return this.indexManager.getCollectionParents(t,r).next(u=>le.forEach(u,h=>{const _=(b=e,D=h.child(r),new fd(D,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt));var b,D;return this.getDocumentsMatchingCollectionQuery(t,_,i).next(b=>{b.forEach((D,M)=>{o=o.insert(D,M)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(t,e,i){let r;return this.remoteDocumentCache.getAllFromCollection(t,e.path,i).next(o=>(r=o,this.documentOverlayCache.getOverlaysForCollection(t,e.path,i.largestBatchId))).next(o=>{o.forEach((h,_)=>{const b=_.getKey();null===r.get(b)&&(r=r.insert(b,oi.newInvalidDocument(b)))});let u=Mw();return r.forEach((h,_)=>{const b=o.get(h);void 0!==b&&Iw(b.mutation,_,Zo.empty(),vi.now()),Hx(e,_)&&(u=u.insert(h,_))}),u})}}class Jj{constructor(t){this.yt=t,this.Zn=new Map,this.ts=new Map}getBundleMetadata(t,e){return le.resolve(this.Zn.get(e))}saveBundleMetadata(t,e){var i;return this.Zn.set(e.id,{id:(i=e).id,version:i.version,createTime:Gi(i.createTime)}),le.resolve()}getNamedQuery(t,e){return le.resolve(this.ts.get(e))}saveNamedQuery(t,e){return this.ts.set(e.name,{name:(i=e).name,query:Qx(i.bundledQuery),readTime:Gi(i.readTime)}),le.resolve();var i}}class Xj{constructor(){this.overlays=new Pi(Ye.comparator),this.es=new Map}getOverlay(t,e){return le.resolve(this.overlays.get(e))}getOverlays(t,e){const i=jc();return le.forEach(e,r=>this.getOverlay(t,r).next(o=>{null!==o&&i.set(r,o)})).next(()=>i)}saveOverlays(t,e,i){return i.forEach((r,o)=>{this.oe(t,e,o)}),le.resolve()}removeOverlaysForBatchId(t,e,i){const r=this.es.get(i);return void 0!==r&&(r.forEach(o=>this.overlays=this.overlays.remove(o)),this.es.delete(i)),le.resolve()}getOverlaysForCollection(t,e,i){const r=jc(),o=e.length+1,u=new Ye(e.child("")),h=this.overlays.getIteratorFrom(u);for(;h.hasNext();){const _=h.getNext().value,b=_.getKey();if(!e.isPrefixOf(b.path))break;b.path.length===o&&_.largestBatchId>i&&r.set(_.getKey(),_)}return le.resolve(r)}getOverlaysForCollectionGroup(t,e,i,r){let o=new Pi((b,D)=>b-D);const u=this.overlays.getIterator();for(;u.hasNext();){const b=u.getNext().value;if(b.getKey().getCollectionGroup()===e&&b.largestBatchId>i){let D=o.get(b.largestBatchId);null===D&&(D=jc(),o=o.insert(b.largestBatchId,D)),D.set(b.getKey(),b)}}const h=jc(),_=o.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach((b,D)=>h.set(b,D)),!(h.size()>=r)););return le.resolve(h)}oe(t,e,i){const r=this.overlays.get(i.key);if(null!==r){const u=this.es.get(r.largestBatchId).delete(i.key);this.es.set(r.largestBatchId,u)}this.overlays=this.overlays.insert(i.key,new Kx(e,i));let o=this.es.get(e);void 0===o&&(o=Qt(),this.es.set(e,o)),this.es.set(e,o.add(i.key))}}class rk{constructor(){this.ns=new Gn(Pr.ss),this.rs=new Gn(Pr.os)}isEmpty(){return this.ns.isEmpty()}addReference(t,e){const i=new Pr(t,e);this.ns=this.ns.add(i),this.rs=this.rs.add(i)}us(t,e){t.forEach(i=>this.addReference(i,e))}removeReference(t,e){this.cs(new Pr(t,e))}hs(t,e){t.forEach(i=>this.removeReference(i,e))}ls(t){const e=new Ye(new wn([])),i=new Pr(e,t),r=new Pr(e,t+1),o=[];return this.rs.forEachInRange([i,r],u=>{this.cs(u),o.push(u.key)}),o}fs(){this.ns.forEach(t=>this.cs(t))}cs(t){this.ns=this.ns.delete(t),this.rs=this.rs.delete(t)}ds(t){const e=new Ye(new wn([])),i=new Pr(e,t),r=new Pr(e,t+1);let o=Qt();return this.rs.forEachInRange([i,r],u=>{o=o.add(u.key)}),o}containsKey(t){const e=new Pr(t,0),i=this.ns.firstAfterOrEqual(e);return null!==i&&t.isEqual(i.key)}}class Pr{constructor(t,e){this.key=t,this._s=e}static ss(t,e){return Ye.comparator(t.key,e.key)||Zt(t._s,e._s)}static os(t,e){return Zt(t._s,e._s)||Ye.comparator(t.key,e.key)}}class e6{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.ws=1,this.gs=new Gn(Pr.ss)}checkEmpty(t){return le.resolve(0===this.mutationQueue.length)}addMutationBatch(t,e,i,r){const o=this.ws;this.ws++;const u=new Yx(o,e,i,r);this.mutationQueue.push(u);for(const h of r)this.gs=this.gs.add(new Pr(h.key,o)),this.indexManager.addToCollectionParentIndex(t,h.key.path.popLast());return le.resolve(u)}lookupMutationBatch(t,e){return le.resolve(this.ys(e))}getNextMutationBatchAfterBatchId(t,e){const r=this.ps(e+1),o=r<0?0:r;return le.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return le.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(t){return le.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new Pr(e,0),r=new Pr(e,Number.POSITIVE_INFINITY),o=[];return this.gs.forEachInRange([i,r],u=>{const h=this.ys(u._s);o.push(h)}),le.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new Gn(Zt);return e.forEach(r=>{const o=new Pr(r,0),u=new Pr(r,Number.POSITIVE_INFINITY);this.gs.forEachInRange([o,u],h=>{i=i.add(h._s)})}),le.resolve(this.Is(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1;let o=i;Ye.isDocumentKey(o)||(o=o.child(""));const u=new Pr(new Ye(o),0);let h=new Gn(Zt);return this.gs.forEachWhile(_=>{const b=_.key.path;return!!i.isPrefixOf(b)&&(b.length===r&&(h=h.add(_._s)),!0)},u),le.resolve(this.Is(h))}Is(t){const e=[];return t.forEach(i=>{const r=this.ys(i);null!==r&&e.push(r)}),e}removeMutationBatch(t,e){vt(0===this.Ts(e.batchId,"removed")),this.mutationQueue.shift();let i=this.gs;return le.forEach(e.mutations,r=>{const o=new Pr(r.key,e.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)}).next(()=>{this.gs=i})}An(t){}containsKey(t,e){const i=new Pr(e,0),r=this.gs.firstAfterOrEqual(i);return le.resolve(e.isEqual(r&&r.key))}performConsistencyCheck(t){return le.resolve()}Ts(t,e){return this.ps(t)}ps(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId}ys(t){const e=this.ps(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}class t6{constructor(t){this.Es=t,this.docs=new Pi(Ye.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const i=e.key,r=this.docs.get(i),o=r?r.size:0,u=this.Es(e);return this.docs=this.docs.insert(i,{document:e.mutableCopy(),size:u}),this.size+=u-o,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return le.resolve(i?i.document.mutableCopy():oi.newInvalidDocument(e))}getEntries(t,e){let i=uo();return e.forEach(r=>{const o=this.docs.get(r);i=i.insert(r,o?o.document.mutableCopy():oi.newInvalidDocument(r))}),le.resolve(i)}getAllFromCollection(t,e,i){let r=uo();const o=new Ye(e.child("")),u=this.docs.getIteratorFrom(o);for(;u.hasNext();){const{key:h,value:{document:_}}=u.getNext();if(!e.isPrefixOf(h.path))break;h.path.length>e.length+1||Ax(sN(_),i)<=0||(r=r.insert(_.key,_.mutableCopy()))}return le.resolve(r)}getAllFromCollectionGroup(t,e,i,r){ot()}As(t,e){return le.forEach(this.docs,i=>e(i))}newChangeBuffer(t){return new n6(this)}getSize(t){return le.resolve(this.size)}}class n6 extends $L{constructor(t){super(),this.Yn=t}applyChanges(t){const e=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?e.push(this.Yn.addEntry(t,r)):this.Yn.removeEntry(i)}),le.waitFor(e)}getFromCache(t,e){return this.Yn.getEntry(t,e)}getAllFromCache(t,e){return this.Yn.getEntries(t,e)}}class i6{constructor(t){this.persistence=t,this.Rs=new ef(e=>dm(e),Dw),this.lastRemoteSnapshotVersion=Dt.min(),this.highestTargetId=0,this.bs=0,this.Ps=new rk,this.targetCount=0,this.vs=bm.Pn()}forEachTarget(t,e){return this.Rs.forEach((i,r)=>e(r)),le.resolve()}getLastRemoteSnapshotVersion(t){return le.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return le.resolve(this.bs)}allocateTargetId(t){return this.highestTargetId=this.vs.next(),le.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.bs&&(this.bs=e),le.resolve()}Dn(t){this.Rs.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.vs=new bm(e),this.highestTargetId=e),t.sequenceNumber>this.bs&&(this.bs=t.sequenceNumber)}addTargetData(t,e){return this.Dn(e),this.targetCount+=1,le.resolve()}updateTargetData(t,e){return this.Dn(e),le.resolve()}removeTargetData(t,e){return this.Rs.delete(e.target),this.Ps.ls(e.targetId),this.targetCount-=1,le.resolve()}removeTargets(t,e,i){let r=0;const o=[];return this.Rs.forEach((u,h)=>{h.sequenceNumber<=e&&null===i.get(h.targetId)&&(this.Rs.delete(u),o.push(this.removeMatchingKeysForTargetId(t,h.targetId)),r++)}),le.waitFor(o).next(()=>r)}getTargetCount(t){return le.resolve(this.targetCount)}getTargetData(t,e){const i=this.Rs.get(e)||null;return le.resolve(i)}addMatchingKeys(t,e,i){return this.Ps.us(e,i),le.resolve()}removeMatchingKeys(t,e,i){this.Ps.hs(e,i);const r=this.persistence.referenceDelegate,o=[];return r&&e.forEach(u=>{o.push(r.markPotentiallyOrphaned(t,u))}),le.waitFor(o)}removeMatchingKeysForTargetId(t,e){return this.Ps.ls(e),le.resolve()}getMatchingKeysForTargetId(t,e){const i=this.Ps.ds(e);return le.resolve(i)}containsKey(t,e){return le.resolve(this.Ps.containsKey(e))}}class QL{constructor(t,e){this.Vs={},this.overlays={},this.Ss=new qo(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=t(this),this.Cs=new i6(this),this.indexManager=new jj,this.remoteDocumentCache=new t6(i=>this.referenceDelegate.xs(i)),this.yt=new SL(e),this.Ns=new Jj(this.yt)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new Xj,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let i=this.Vs[t.toKey()];return i||(i=new e6(e,this.referenceDelegate),this.Vs[t.toKey()]=i),i}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(t,e,i){Pe("MemoryPersistence","Starting transaction:",t);const r=new r6(this.Ss.next());return this.referenceDelegate.ks(),i(r).next(o=>this.referenceDelegate.Os(r).next(()=>o)).toPromise().then(o=>(r.raiseOnCommittedEvent(),o))}Ms(t,e){return le.or(Object.values(this.Vs).map(i=>()=>i.containsKey(t,e)))}}class r6 extends aN{constructor(t){super(),this.currentSequenceNumber=t}}class wS{constructor(t){this.persistence=t,this.Fs=new rk,this.$s=null}static Bs(t){return new wS(t)}get Ls(){if(this.$s)return this.$s;throw ot()}addReference(t,e,i){return this.Fs.addReference(i,e),this.Ls.delete(i.toString()),le.resolve()}removeReference(t,e,i){return this.Fs.removeReference(i,e),this.Ls.add(i.toString()),le.resolve()}markPotentiallyOrphaned(t,e){return this.Ls.add(e.toString()),le.resolve()}removeTarget(t,e){this.Fs.ls(e.targetId).forEach(r=>this.Ls.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next(r=>{r.forEach(o=>this.Ls.add(o.toString()))}).next(()=>i.removeTargetData(t,e))}ks(){this.$s=new Set}Os(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return le.forEach(this.Ls,i=>{const r=Ye.fromPath(i);return this.qs(t,r).next(o=>{o||e.removeEntry(r,Dt.min())})}).next(()=>(this.$s=null,e.apply(t)))}updateLimboDocument(t,e){return this.qs(t,e).next(i=>{i?this.Ls.delete(e.toString()):this.Ls.add(e.toString())})}xs(t){return 0}qs(t,e){return le.or([()=>le.resolve(this.Fs.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ms(t,e)])}}class s6{constructor(t){this.yt=t}$(t,e,i,r){const o=new XE("createOrUpgrade",e);var h;i<1&&r>=1&&(t.createObjectStore("owner"),(h=t).createObjectStore("mutationQueues",{keyPath:"userId"}),h.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",bL,{unique:!0}),h.createObjectStore("documentMutations"),JL(t),function(h){h.createObjectStore("remoteDocuments")}(t));let u=le.resolve();return i<3&&r>=3&&(0!==i&&(function(h){h.deleteObjectStore("targetDocuments"),h.deleteObjectStore("targets"),h.deleteObjectStore("targetGlobal")}(t),JL(t)),u=u.next(()=>function(h){const _=h.store("targetGlobal"),b={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Dt.min().toTimestamp(),targetCount:0};return _.put("targetGlobalKey",b)}(o))),i<4&&r>=4&&(0!==i&&(u=u.next(()=>function(h,_){return _.store("mutations").W().next(b=>{h.deleteObjectStore("mutations"),h.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",bL,{unique:!0});const D=_.store("mutations"),M=b.map(O=>D.put(O));return le.waitFor(M)})}(t,o))),u=u.next(()=>{!function(h){h.createObjectStore("clientMetadata",{keyPath:"clientId"})}(t)})),i<5&&r>=5&&(u=u.next(()=>this.Us(o))),i<6&&r>=6&&(u=u.next(()=>(function(h){h.createObjectStore("remoteDocumentGlobal")}(t),this.Ks(o)))),i<7&&r>=7&&(u=u.next(()=>this.Gs(o))),i<8&&r>=8&&(u=u.next(()=>this.Qs(t,o))),i<9&&r>=9&&(u=u.next(()=>{!function(h){h.objectStoreNames.contains("remoteDocumentChanges")&&h.deleteObjectStore("remoteDocumentChanges")}(t)})),i<10&&r>=10&&(u=u.next(()=>this.js(o))),i<11&&r>=11&&(u=u.next(()=>{(function(h){h.createObjectStore("bundles",{keyPath:"bundleId"})})(t),function(h){h.createObjectStore("namedQueries",{keyPath:"name"})}(t)})),i<12&&r>=12&&(u=u.next(()=>{!function(h){const _=h.createObjectStore("documentOverlays",{keyPath:Aj});_.createIndex("collectionPathOverlayIndex",xj,{unique:!1}),_.createIndex("collectionGroupOverlayIndex",kj,{unique:!1})}(t)})),i<13&&r>=13&&(u=u.next(()=>function(h){const _=h.createObjectStore("remoteDocumentsV14",{keyPath:yj});_.createIndex("documentKeyIndex",vj),_.createIndex("collectionGroupIndex",bj)}(t)).next(()=>this.Ws(t,o)).next(()=>t.deleteObjectStore("remoteDocuments"))),i<14&&r>=14&&(u=u.next(()=>this.zs(t,o))),i<15&&r>=15&&(u=u.next(()=>function(h){h.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),h.createObjectStore("indexState",{keyPath:Sj}).createIndex("sequenceNumberIndex",Ij,{unique:!1}),h.createObjectStore("indexEntries",{keyPath:Mj}).createIndex("documentKeyIndex",Tj,{unique:!1})}(t))),u}Ks(t){let e=0;return t.store("remoteDocuments").Z((i,r)=>{e+=yS(r)}).next(()=>{const i={byteSize:e};return t.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}Us(t){const e=t.store("mutationQueues"),i=t.store("mutations");return e.W().next(r=>le.forEach(r,o=>{const u=IDBKeyRange.bound([o.userId,-1],[o.userId,o.lastAcknowledgedBatchId]);return i.W("userMutationsIndex",u).next(h=>le.forEach(h,_=>{vt(_.userId===o.userId);const b=_m(this.yt,_);return UL(t,o.userId,b).next(()=>{})}))}))}Gs(t){const e=t.store("targetDocuments"),i=t.store("remoteDocuments");return t.store("targetGlobal").get("targetGlobalKey").next(r=>{const o=[];return i.Z((u,h)=>{const _=new wn(u),b=[0,Os(_)];o.push(e.get(b).next(D=>D?le.resolve():e.put({targetId:0,path:Os(_),sequenceNumber:r.highestListenSequenceNumber})))}).next(()=>le.waitFor(o))})}Qs(t,e){t.createObjectStore("collectionParents",{keyPath:Ej});const i=e.store("collectionParents"),r=new ik,o=u=>{if(r.add(u)){const h=u.lastSegment(),_=u.popLast();return i.put({collectionId:h,parent:Os(_)})}};return e.store("remoteDocuments").Z({X:!0},(u,h)=>{const _=new wn(u);return o(_.popLast())}).next(()=>e.store("documentMutations").Z({X:!0},([u,h,_],b)=>{const D=zc(h);return o(D.popLast())}))}js(t){const e=t.store("targets");return e.Z((i,r)=>{const o=Pw(r),u=ML(this.yt,o);return e.put(u)})}Ws(t,e){const i=e.store("remoteDocuments"),r=[];return i.Z((o,u)=>{const h=e.store("remoteDocumentsV14"),_=(b=u,b.document?new Ye(wn.fromString(b.document.name).popFirst(5)):b.noDocument?Ye.fromSegments(b.noDocument.path):b.unknownDocument?Ye.fromSegments(b.unknownDocument.path):ot()).path.toArray();var b;const D={prefixPath:_.slice(0,_.length-2),collectionGroup:_[_.length-2],documentId:_[_.length-1],readTime:u.readTime||[0,0],unknownDocument:u.unknownDocument,noDocument:u.noDocument,document:u.document,hasCommittedMutations:!!u.hasCommittedMutations};r.push(h.put(D))}).next(()=>le.waitFor(r))}zs(t,e){const i=e.store("mutations"),r=qL(this.yt),o=new QL(wS.Bs,this.yt.ie);return i.W().next(u=>{const h=new Map;return u.forEach(_=>{var b;let D=null!==(b=h.get(_.userId))&&void 0!==b?b:Qt();_m(this.yt,_).keys().forEach(M=>D=D.add(M)),h.set(_.userId,D)}),le.forEach(h,(_,b)=>{const D=new Rr(b),M=pS.re(this.yt,D),O=o.getIndexManager(D),B=vS.re(D,this.yt,O,o.referenceDelegate);return new KL(r,B,M,O).recalculateAndSaveOverlaysForDocumentKeys(new Zx(e,qo.at),_).next()})})}}function JL(n){n.createObjectStore("targetDocuments",{keyPath:Cj}).createIndex("documentTargetsIndex",Dj,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",wj,{unique:!0}),n.createObjectStore("targetGlobal")}const sk="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class ok{constructor(t,e,i,r,o,u,h,_,b,D,M=15){if(this.allowTabSynchronization=t,this.persistenceKey=e,this.clientId=i,this.Hs=o,this.window=u,this.document=h,this.Js=b,this.Ys=D,this.Xs=M,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=O=>Promise.resolve(),!ok.C())throw new ke(de.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Yj(this,r),this.ii=e+"main",this.yt=new SL(_),this.ri=new xl(this.ii,this.Xs,new s6(this.yt)),this.Cs=new zj(this.referenceDelegate,this.yt),this.remoteDocumentCache=qL(this.yt),this.Ns=new Fj,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===D&&ji("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ui().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new ke(de.FAILED_PRECONDITION,sk);return this.ci(),this.ai(),this.hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",t=>this.Cs.getHighestSequenceNumber(t))}).then(t=>{this.Ss=new qo(t,this.Js)}).then(()=>{this.Ds=!0}).catch(t=>(this.ri&&this.ri.close(),Promise.reject(t)))}li(t){var e=this;return this.si=function(){var i=(0,ye.Z)(function*(r){if(e.started)return t(r)});return function(r){return i.apply(this,arguments)}}(),t(this.isPrimary)}setDatabaseDeletedListener(t){this.ri.L(function(){var e=(0,ye.Z)(function*(i){null===i.newVersion&&(yield t())});return function(i){return e.apply(this,arguments)}}())}setNetworkEnabled(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Hs.enqueueAndForget((0,ye.Z)(function*(){e.started&&(yield e.ui())})))}ui(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",t=>CS(t).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(t).next(e=>{e||(this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)))})}).next(()=>this.di(t)).next(e=>this.isPrimary&&!e?this._i(t).next(()=>!1):!!e&&this.wi(t).next(()=>!0))).catch(t=>{if(Yh(t))return Pe("IndexedDbPersistence","Failed to extend owner lease: ",t),this.isPrimary;if(!this.allowTabSynchronization)throw t;return Pe("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1}).then(t=>{this.isPrimary!==t&&this.Hs.enqueueRetryable(()=>this.si(t)),this.isPrimary=t})}fi(t){return Uw(t).get("owner").next(e=>le.resolve(this.mi(e)))}gi(t){return CS(t).delete(this.clientId)}yi(){var t=this;return(0,ye.Z)(function*(){if(t.isPrimary&&!t.pi(t.ni,18e5)){t.ni=Date.now();const e=yield t.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const r=Or(i,"clientMetadata");return r.W().next(o=>{const u=t.Ii(o,18e5),h=o.filter(_=>-1===u.indexOf(_));return le.forEach(h,_=>r.delete(_.clientId)).next(()=>h)})}).catch(()=>[]);if(t.oi)for(const i of e)t.oi.removeItem(t.Ti(i.clientId))}})()}hi(){this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ui().then(()=>this.yi()).then(()=>this.hi()))}mi(t){return!!t&&t.ownerId===this.clientId}di(t){return this.Ys?le.resolve(!0):Uw(t).get("owner").next(e=>{if(null!==e&&this.pi(e.leaseTimestampMs,5e3)&&!this.Ei(e.ownerId)){if(this.mi(e)&&this.networkEnabled)return!0;if(!this.mi(e)){if(!e.allowTabSynchronization)throw new ke(de.FAILED_PRECONDITION,sk);return!1}}return!(!this.networkEnabled||!this.inForeground)||CS(t).W().next(i=>void 0===this.Ii(i,5e3).find(r=>{if(this.clientId!==r.clientId){const u=!this.inForeground&&r.inForeground,h=this.networkEnabled===r.networkEnabled;if(!this.networkEnabled&&r.networkEnabled||u&&h)return!0}return!1}))}).next(e=>(this.isPrimary!==e&&Pe("IndexedDbPersistence",`Client ${e?"is":"is not"} eligible for a primary lease.`),e))}shutdown(){var t=this;return(0,ye.Z)(function*(){t.Ds=!1,t.Ai(),t.ei&&(t.ei.cancel(),t.ei=null),t.Ri(),t.bi(),yield t.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const i=new Zx(e,qo.at);return t._i(i).next(()=>t.gi(i))}),t.ri.close(),t.Pi()})()}Ii(t,e){return t.filter(i=>this.pi(i.updateTimeMs,e)&&!this.Ei(i.clientId))}vi(){return this.runTransaction("getActiveClients","readonly",t=>CS(t).W().next(e=>this.Ii(e,18e5).map(i=>i.clientId)))}get started(){return this.Ds}getMutationQueue(t,e){return vS.re(t,this.yt,e,this.referenceDelegate)}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(t){return new Gj(t,this.yt.ie.databaseId)}getDocumentOverlayCache(t){return pS.re(this.yt,t)}getBundleCache(){return this.Ns}runTransaction(t,e,i){Pe("IndexedDbPersistence","Starting transaction:",t);const r="readonly"===e?"readonly":"readwrite",o=15===(u=this.Xs)?Oj:14===u?EL:13===u?DL:12===u?Rj:11===u?CL:void ot();var u;let h;return this.ri.runTransaction(t,r,o,_=>(h=new Zx(_,this.Ss?this.Ss.next():qo.at),"readwrite-primary"===e?this.fi(h).next(b=>!!b||this.di(h)).next(b=>{if(!b)throw ji(`Failed to obtain primary lease for action '${t}'.`),this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)),new ke(de.FAILED_PRECONDITION,oN);return i(h)}).next(b=>this.wi(h).next(()=>b)):this.Vi(h).next(()=>i(h)))).then(_=>(h.raiseOnCommittedEvent(),_))}Vi(t){return Uw(t).get("owner").next(e=>{if(null!==e&&this.pi(e.leaseTimestampMs,5e3)&&!this.Ei(e.ownerId)&&!this.mi(e)&&!(this.Ys||this.allowTabSynchronization&&e.allowTabSynchronization))throw new ke(de.FAILED_PRECONDITION,sk)})}wi(t){const e={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Uw(t).put("owner",e)}static C(){return xl.C()}_i(t){const e=Uw(t);return e.get("owner").next(i=>this.mi(i)?(Pe("IndexedDbPersistence","Releasing primary lease."),e.delete("owner")):le.resolve())}pi(t,e){const i=Date.now();return!(t<i-e||t>i&&(ji(`Detected an update time that is in the future: ${t} > ${i}`),1))}ci(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=()=>{this.Hs.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ui()))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}Ri(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}ai(){var t;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Zs=()=>{this.Ai(),(0,bn.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Hs.enterRestrictedMode(!0),this.Hs.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}bi(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ei(t){var e;try{const i=null!==(null===(e=this.oi)||void 0===e?void 0:e.getItem(this.Ti(t)));return Pe("IndexedDbPersistence",`Client '${t}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return ji("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}Ai(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(t){ji("Failed to set zombie client id.",t)}}Pi(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch{}}Ti(t){return`firestore_zombie_${this.persistenceKey}_${t}`}}function Uw(n){return Or(n,"owner")}function CS(n){return Or(n,"clientMetadata")}function ak(n,t){let e=n.projectId;return n.isDefaultDatabase||(e+="."+n.database),"firestore/"+t+"/"+e+"/"}class lk{constructor(t,e,i,r){this.targetId=t,this.fromCache=e,this.Si=i,this.Di=r}static Ci(t,e){let i=Qt(),r=Qt();for(const o of e.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new lk(t,e.fromCache,i,r)}}class XL{constructor(){this.xi=!1}initialize(t,e){this.Ni=t,this.indexManager=e,this.xi=!0}getDocumentsMatchingQuery(t,e,i,r){return this.ki(t,e).next(o=>o||this.Oi(t,e,r,i)).next(o=>o||this.Mi(t,e))}ki(t,e){if(FN(e))return le.resolve(null);let i=Rs(e);return this.indexManager.getIndexType(t,i).next(r=>0===r?null:(null!==e.limit&&1===r&&(e=oS(e,null,"F"),i=Rs(e)),this.indexManager.getDocumentsMatchingTarget(t,i).next(o=>{const u=Qt(...o);return this.Ni.getDocuments(t,u).next(h=>this.indexManager.getMinOffset(t,i).next(_=>{const b=this.Fi(e,h);return this.$i(e,b,u,_.readTime)?this.ki(t,oS(e,null,"F")):this.Bi(t,b,e,_)}))})))}Oi(t,e,i,r){return FN(e)||r.isEqual(Dt.min())?this.Mi(t,e):this.Ni.getDocuments(t,i).next(o=>{const u=this.Fi(e,o);return this.$i(e,u,i,r)?this.Mi(t,e):(Ix()<=Ra.in.DEBUG&&Pe("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Ux(e)),this.Bi(t,u,e,rN(r,-1)))})}Fi(t,e){let i=new Gn(VN(t));return e.forEach((r,o)=>{Hx(t,o)&&(i=i.add(o))}),i}$i(t,e,i,r){if(null===t.limit)return!1;if(i.size!==e.size)return!0;const o="F"===t.limitType?e.last():e.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}Mi(t,e){return Ix()<=Ra.in.DEBUG&&Pe("QueryEngine","Using full collection scan to execute query:",Ux(e)),this.Ni.getDocumentsMatchingQuery(t,e,$o.min())}Bi(t,e,i,r){return this.Ni.getDocumentsMatchingQuery(t,i,r).next(o=>(e.forEach(u=>{o=o.insert(u.key,u)}),o))}}class o6{constructor(t,e,i,r){this.persistence=t,this.Li=e,this.yt=r,this.qi=new Pi(Zt),this.Ui=new ef(o=>dm(o),Dw),this.Ki=new Map,this.Gi=t.getRemoteDocumentCache(),this.Cs=t.getTargetCache(),this.Ns=t.getBundleCache(),this.Qi(i)}Qi(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new KL(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.qi))}}function eV(n,t,e,i){return new o6(n,t,e,i)}function tV(n,t){return ck.apply(this,arguments)}function ck(){return ck=(0,ye.Z)(function*(n,t){const e=Qe(n);return yield e.persistence.runTransaction("Handle user change","readonly",i=>{let r;return e.mutationQueue.getAllMutationBatches(i).next(o=>(r=o,e.Qi(t),e.mutationQueue.getAllMutationBatches(i))).next(o=>{const u=[],h=[];let _=Qt();for(const b of r){u.push(b.batchId);for(const D of b.mutations)_=_.add(D.key)}for(const b of o){h.push(b.batchId);for(const D of b.mutations)_=_.add(D.key)}return e.localDocuments.getDocuments(i,_).next(b=>({ji:b,removedBatchIds:u,addedBatchIds:h}))})})}),ck.apply(this,arguments)}function a6(n,t){const e=Qe(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=t.batch.keys(),o=e.Gi.newChangeBuffer({trackRemovals:!0});return function(u,h,_,b){const D=_.batch,M=D.keys();let O=le.resolve();return M.forEach(B=>{O=O.next(()=>b.getEntry(h,B)).next($=>{const ne=_.docVersions.get(B);vt(null!==ne),$.version.compareTo(ne)<0&&(D.applyToRemoteDocument($,_),$.isValidDocument()&&($.setReadTime(_.commitVersion),b.addEntry($)))})}),O.next(()=>u.mutationQueue.removeMutationBatch(h,D))}(e,i,t,o).next(()=>o.apply(i)).next(()=>e.mutationQueue.performConsistencyCheck(i)).next(()=>e.documentOverlayCache.removeOverlaysForBatchId(i,r,t.batch.batchId)).next(()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(u){let h=Qt();for(let _=0;_<u.mutationResults.length;++_)u.mutationResults[_].transformResults.length>0&&(h=h.add(u.batch.mutations[_].key));return h}(t))).next(()=>e.localDocuments.getDocuments(i,r))})}function nV(n){const t=Qe(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Cs.getLastRemoteSnapshotVersion(e))}function l6(n,t){const e=Qe(n),i=t.snapshotVersion;let r=e.qi;return e.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const u=e.Gi.newChangeBuffer({trackRemovals:!0});r=e.qi;const h=[];t.targetChanges.forEach((D,M)=>{const O=r.get(M);if(!O)return;h.push(e.Cs.removeMatchingKeys(o,D.removedDocuments,M).next(()=>e.Cs.addMatchingKeys(o,D.addedDocuments,M)));let B=O.withSequenceNumber(o.currentSequenceNumber);var $,ne,ce;t.targetMismatches.has(M)?B=B.withResumeToken(br.EMPTY_BYTE_STRING,Dt.min()).withLastLimboFreeSnapshotVersion(Dt.min()):D.resumeToken.approximateByteSize()>0&&(B=B.withResumeToken(D.resumeToken,i)),r=r.insert(M,B),ne=B,ce=D,(0===($=O).resumeToken.approximateByteSize()||ne.snapshotVersion.toMicroseconds()-$.snapshotVersion.toMicroseconds()>=3e8||ce.addedDocuments.size+ce.modifiedDocuments.size+ce.removedDocuments.size>0)&&h.push(e.Cs.updateTargetData(o,B))});let _=uo(),b=Qt();if(t.documentUpdates.forEach(D=>{t.resolvedLimboDocuments.has(D)&&h.push(e.persistence.referenceDelegate.updateLimboDocument(o,D))}),h.push(iV(o,u,t.documentUpdates).next(D=>{_=D.Wi,b=D.zi})),!i.isEqual(Dt.min())){const D=e.Cs.getLastRemoteSnapshotVersion(o).next(M=>e.Cs.setTargetsMetadata(o,o.currentSequenceNumber,i));h.push(D)}return le.waitFor(h).next(()=>u.apply(o)).next(()=>e.localDocuments.getLocalViewOfDocuments(o,_,b)).next(()=>_)}).then(o=>(e.qi=r,o))}function iV(n,t,e){let i=Qt(),r=Qt();return e.forEach(o=>i=i.add(o)),t.getEntries(n,i).next(o=>{let u=uo();return e.forEach((h,_)=>{const b=o.get(h);_.isFoundDocument()!==b.isFoundDocument()&&(r=r.add(h)),_.isNoDocument()&&_.version.isEqual(Dt.min())?(t.removeEntry(h,_.readTime),u=u.insert(h,_)):!b.isValidDocument()||_.version.compareTo(b.version)>0||0===_.version.compareTo(b.version)&&b.hasPendingWrites?(t.addEntry(_),u=u.insert(h,_)):Pe("LocalStore","Ignoring outdated watch update for ",h,". Current version:",b.version," Watch version:",_.version)}),{Wi:u,zi:r}})}function c6(n,t){const e=Qe(n);return e.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===t&&(t=-1),e.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function iy(n,t){const e=Qe(n);return e.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return e.Cs.getTargetData(i,t).next(o=>o?(r=o,le.resolve(r)):e.Cs.allocateTargetId(i).next(u=>(r=new tf(t,u,0,i.currentSequenceNumber),e.Cs.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=e.qi.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(e.qi=e.qi.insert(i.targetId,i),e.Ui.set(t,i.targetId)),i})}function ry(n,t,e){return uk.apply(this,arguments)}function uk(){return uk=(0,ye.Z)(function*(n,t,e){const i=Qe(n),r=i.qi.get(t),o=e?"readwrite":"readwrite-primary";try{e||(yield i.persistence.runTransaction("Release target",o,u=>i.persistence.referenceDelegate.removeTarget(u,r)))}catch(u){if(!Yh(u))throw u;Pe("LocalStore",`Failed to update sequence numbers for target ${t}: ${u}`)}i.qi=i.qi.remove(t),i.Ui.delete(r.target)}),uk.apply(this,arguments)}function DS(n,t,e){const i=Qe(n);let r=Dt.min(),o=Qt();return i.persistence.runTransaction("Execute query","readonly",u=>function(h,_,b){const D=Qe(h),M=D.Ui.get(b);return void 0!==M?le.resolve(D.qi.get(M)):D.Cs.getTargetData(_,b)}(i,u,Rs(t)).next(h=>{if(h)return r=h.lastLimboFreeSnapshotVersion,i.Cs.getMatchingKeysForTargetId(u,h.targetId).next(_=>{o=_})}).next(()=>i.Li.getDocumentsMatchingQuery(u,t,e?r:Dt.min(),e?o:Qt())).next(h=>(oV(i,LN(t),h),{documents:h,Hi:o})))}function rV(n,t){const e=Qe(n),i=Qe(e.Cs),r=e.qi.get(t);return r?Promise.resolve(r.target):e.persistence.runTransaction("Get target data","readonly",o=>i.ne(o,t).next(u=>u?u.target:null))}function sV(n,t){const e=Qe(n),i=e.Ki.get(t)||Dt.min();return e.persistence.runTransaction("Get new document changes","readonly",r=>e.Gi.getAllFromCollectionGroup(r,t,rN(i,-1),Number.MAX_SAFE_INTEGER)).then(r=>(oV(e,t,r),r))}function oV(n,t,e){let i=n.Ki.get(t)||Dt.min();e.forEach((r,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)}),n.Ki.set(t,i)}function dk(){return dk=(0,ye.Z)(function*(n,t,e,i){const r=Qe(n);let o=Qt(),u=uo();for(const b of e){const D=t.Ji(b.metadata.name);b.document&&(o=o.add(D));const M=t.Yi(b);M.setReadTime(t.Xi(b.metadata.readTime)),u=u.insert(D,M)}const h=r.Gi.newChangeBuffer({trackRemovals:!0}),_=yield iy(r,(b=i,Rs(Z_(wn.fromString(`__bundle__/docs/${b}`)))));var b;return r.persistence.runTransaction("Apply bundle documents","readwrite",b=>iV(b,h,u).next(D=>(h.apply(b),D)).next(D=>r.Cs.removeMatchingKeysForTargetId(b,_.targetId).next(()=>r.Cs.addMatchingKeys(b,o,_.targetId)).next(()=>r.localDocuments.getLocalViewOfDocuments(b,D.Wi,D.zi)).next(()=>D.Wi)))}),dk.apply(this,arguments)}function d6(n,t){return hk.apply(this,arguments)}function hk(){return hk=(0,ye.Z)(function*(n,t,e=Qt()){const i=yield iy(n,Rs(Qx(t.bundledQuery))),r=Qe(n);return r.persistence.runTransaction("Save named query","readwrite",o=>{const u=Gi(t.readTime);if(i.snapshotVersion.compareTo(u)>=0)return r.Ns.saveNamedQuery(o,t);const h=i.withResumeToken(br.EMPTY_BYTE_STRING,u);return r.qi=r.qi.insert(h.targetId,h),r.Cs.updateTargetData(o,h).next(()=>r.Cs.removeMatchingKeysForTargetId(o,i.targetId)).next(()=>r.Cs.addMatchingKeys(o,e,i.targetId)).next(()=>r.Ns.saveNamedQuery(o,t))})}),hk.apply(this,arguments)}function aV(n,t){return`firestore_clients_${n}_${t}`}function lV(n,t,e){let i=`firestore_mutations_${n}_${e}`;return t.isAuthenticated()&&(i+=`_${t.uid}`),i}function fk(n,t){return`firestore_targets_${n}_${t}`}class ES{constructor(t,e,i,r){this.user=t,this.batchId=e,this.state=i,this.error=r}static Zi(t,e,i){const r=JSON.parse(i);let o,u="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return u&&r.error&&(u="string"==typeof r.error.message&&"string"==typeof r.error.code,u&&(o=new ke(r.error.code,r.error.message))),u?new ES(t,e,r.state,o):(ji("SharedClientState",`Failed to parse mutation state for ID '${e}': ${i}`),null)}tr(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class Hw{constructor(t,e,i){this.targetId=t,this.state=e,this.error=i}static Zi(t,e){const i=JSON.parse(e);let r,o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code,o&&(r=new ke(i.error.code,i.error.message))),o?new Hw(t,i.state,r):(ji("SharedClientState",`Failed to parse target state for ID '${t}': ${e}`),null)}tr(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class SS{constructor(t,e){this.clientId=t,this.activeTargetIds=e}static Zi(t,e){const i=JSON.parse(e);let r="object"==typeof i&&i.activeTargetIds instanceof Array,o=uS();for(let u=0;r&&u<i.activeTargetIds.length;++u)r=dN(i.activeTargetIds[u]),o=o.add(i.activeTargetIds[u]);return r?new SS(t,o):(ji("SharedClientState",`Failed to parse client data for instance '${t}': ${e}`),null)}}class pk{constructor(t,e){this.clientId=t,this.onlineState=e}static Zi(t){const e=JSON.parse(t);return"object"==typeof e&&-1!==["Unknown","Online","Offline"].indexOf(e.onlineState)&&"string"==typeof e.clientId?new pk(e.clientId,e.onlineState):(ji("SharedClientState",`Failed to parse online state: ${t}`),null)}}class mk{constructor(){this.activeTargetIds=uS()}er(t){this.activeTargetIds=this.activeTargetIds.add(t)}nr(t){this.activeTargetIds=this.activeTargetIds.delete(t)}tr(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class gk{constructor(t,e,i,r,o){this.window=t,this.Hs=e,this.persistenceKey=i,this.sr=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new Pi(Zt),this.started=!1,this.cr=[];const u=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.ar=aV(this.persistenceKey,this.sr),this.hr=`firestore_sequence_number_${this.persistenceKey}`,this.ur=this.ur.insert(this.sr,new mk),this.lr=new RegExp(`^firestore_clients_${u}_([^_]*)$`),this.dr=new RegExp(`^firestore_mutations_${u}_(\\d+)(?:_(.*))?$`),this._r=new RegExp(`^firestore_targets_${u}_(\\d+)$`),this.wr=`firestore_online_state_${this.persistenceKey}`,this.mr=function(h){return`firestore_bundle_loaded_v2_${h}`}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}static C(t){return!(!t||!t.localStorage)}start(){var t=this;return(0,ye.Z)(function*(){const e=yield t.syncEngine.vi();for(const r of e){if(r===t.sr)continue;const o=t.getItem(aV(t.persistenceKey,r));if(o){const u=SS.Zi(r,o);u&&(t.ur=t.ur.insert(u.clientId,u))}}t.gr();const i=t.storage.getItem(t.wr);if(i){const r=t.yr(i);r&&t.pr(r)}for(const r of t.cr)t.rr(r);t.cr=[],t.window.addEventListener("pagehide",()=>t.shutdown()),t.started=!0})()}writeSequenceNumber(t){this.setItem(this.hr,JSON.stringify(t))}getAllActiveQueryTargets(){return this.Ir(this.ur)}isActiveQueryTarget(t){let e=!1;return this.ur.forEach((i,r)=>{r.activeTargetIds.has(t)&&(e=!0)}),e}addPendingMutation(t){this.Tr(t,"pending")}updateMutationState(t,e,i){this.Tr(t,e,i),this.Er(t)}addLocalQueryTarget(t){let e="not-current";if(this.isActiveQueryTarget(t)){const i=this.storage.getItem(fk(this.persistenceKey,t));if(i){const r=Hw.Zi(t,i);r&&(e=r.state)}}return this.Ar.er(t),this.gr(),e}removeLocalQueryTarget(t){this.Ar.nr(t),this.gr()}isLocalQueryTarget(t){return this.Ar.activeTargetIds.has(t)}clearQueryState(t){this.removeItem(fk(this.persistenceKey,t))}updateQueryState(t,e,i){this.Rr(t,e,i)}handleUserChange(t,e,i){e.forEach(r=>{this.Er(r)}),this.currentUser=t,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(t){this.br(t)}notifyBundleLoaded(t){this.Pr(t)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}getItem(t){const e=this.storage.getItem(t);return Pe("SharedClientState","READ",t,e),e}setItem(t,e){Pe("SharedClientState","SET",t,e),this.storage.setItem(t,e)}removeItem(t){Pe("SharedClientState","REMOVE",t),this.storage.removeItem(t)}rr(t){var e=this;const i=t;if(i.storageArea===this.storage){if(Pe("SharedClientState","EVENT",i.key,i.newValue),i.key===this.ar)return void ji("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable((0,ye.Z)(function*(){if(e.started){if(null!==i.key)if(e.lr.test(i.key)){if(null==i.newValue){const r=e.vr(i.key);return e.Vr(r,null)}{const r=e.Sr(i.key,i.newValue);if(r)return e.Vr(r.clientId,r)}}else if(e.dr.test(i.key)){if(null!==i.newValue){const r=e.Dr(i.key,i.newValue);if(r)return e.Cr(r)}}else if(e._r.test(i.key)){if(null!==i.newValue){const r=e.Nr(i.key,i.newValue);if(r)return e.kr(r)}}else if(i.key===e.wr){if(null!==i.newValue){const r=e.yr(i.newValue);if(r)return e.pr(r)}}else if(i.key===e.hr){const r=function(o){let u=qo.at;if(null!=o)try{const h=JSON.parse(o);vt("number"==typeof h),u=h}catch(h){ji("SharedClientState","Failed to read sequence number from WebStorage",h)}return u}(i.newValue);r!==qo.at&&e.sequenceNumberHandler(r)}else if(i.key===e.mr){const r=e.Or(i.newValue);yield Promise.all(r.map(o=>e.syncEngine.Mr(o)))}}else e.cr.push(i)}))}}get Ar(){return this.ur.get(this.sr)}gr(){this.setItem(this.ar,this.Ar.tr())}Tr(t,e,i){const r=new ES(this.currentUser,t,e,i),o=lV(this.persistenceKey,this.currentUser,t);this.setItem(o,r.tr())}Er(t){const e=lV(this.persistenceKey,this.currentUser,t);this.removeItem(e)}br(t){this.storage.setItem(this.wr,JSON.stringify({clientId:this.sr,onlineState:t}))}Rr(t,e,i){const r=fk(this.persistenceKey,t),o=new Hw(t,e,i);this.setItem(r,o.tr())}Pr(t){const e=JSON.stringify(Array.from(t));this.setItem(this.mr,e)}vr(t){const e=this.lr.exec(t);return e?e[1]:null}Sr(t,e){const i=this.vr(t);return SS.Zi(i,e)}Dr(t,e){const i=this.dr.exec(t),r=Number(i[1]);return ES.Zi(new Rr(void 0!==i[2]?i[2]:null),r,e)}Nr(t,e){const i=this._r.exec(t),r=Number(i[1]);return Hw.Zi(r,e)}yr(t){return pk.Zi(t)}Or(t){return JSON.parse(t)}Cr(t){var e=this;return(0,ye.Z)(function*(){if(t.user.uid===e.currentUser.uid)return e.syncEngine.Fr(t.batchId,t.state,t.error);Pe("SharedClientState",`Ignoring mutation for non-active user ${t.user.uid}`)})()}kr(t){return this.syncEngine.$r(t.targetId,t.state,t.error)}Vr(t,e){const i=e?this.ur.insert(t,e):this.ur.remove(t),r=this.Ir(this.ur),o=this.Ir(i),u=[],h=[];return o.forEach(_=>{r.has(_)||u.push(_)}),r.forEach(_=>{o.has(_)||h.push(_)}),this.syncEngine.Br(u,h).then(()=>{this.ur=i})}pr(t){this.ur.get(t.clientId)&&this.onlineStateHandler(t.onlineState)}Ir(t){let e=uS();return t.forEach((i,r)=>{e=e.unionWith(r.activeTargetIds)}),e}}class cV{constructor(){this.Lr=new mk,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t){return this.Lr.er(t),this.qr[t]||"not-current"}updateQueryState(t,e,i){this.qr[t]=e}removeLocalQueryTarget(t){this.Lr.nr(t)}isLocalQueryTarget(t){return this.Lr.activeTargetIds.has(t)}clearQueryState(t){delete this.qr[t]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(t){return this.Lr.activeTargetIds.has(t)}start(){return this.Lr=new mk,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class h6{Ur(t){}shutdown(){}}class uV{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}Ur(t){this.Wr.push(t)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){Pe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.Wr)t(0)}jr(){Pe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.Wr)t(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const f6={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class p6{constructor(t){this.Hr=t.Hr,this.Jr=t.Jr}Yr(t){this.Xr=t}Zr(t){this.eo=t}onMessage(t){this.no=t}close(){this.Jr()}send(t){this.Hr(t)}so(){this.Xr()}io(t){this.eo(t)}ro(t){this.no(t)}}class m6 extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.oo=(t.ssl?"https":"http")+"://"+t.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(t,e,i,r,o){const u=this.ho(t,e);Pe("RestConnection","Sending: ",u,i);const h={};return this.lo(h,r,o),this.fo(t,u,h,i).then(_=>(Pe("RestConnection","Received: ",_),_),_=>{throw rm("RestConnection",`${t} failed with error: `,_,"url: ",u,"request:",i),_})}_o(t,e,i,r,o,u){return this.ao(t,e,i,r,o)}lo(t,e,i){t["X-Goog-Api-Client"]="gl-js/ fire/"+H_,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((r,o)=>t[o]=r),i&&i.headers.forEach((r,o)=>t[o]=r)}ho(t,e){return`${this.oo}/v1/${e}:${f6[t]}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams}fo(t,e,i,r){return new Promise((o,u)=>{const h=new p3;h.setWithCredentials(!0),h.listenOnce(d3.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case Sx.NO_ERROR:const b=h.getResponseJson();Pe("Connection","XHR received:",JSON.stringify(b)),o(b);break;case Sx.TIMEOUT:Pe("Connection",'RPC "'+t+'" timed out'),u(new ke(de.DEADLINE_EXCEEDED,"Request time out"));break;case Sx.HTTP_ERROR:const D=h.getStatus();if(Pe("Connection",'RPC "'+t+'" failed with status:',D,"response text:",h.getResponseText()),D>0){let M=h.getResponseJson();Array.isArray(M)&&(M=M[0]);const O=M?.error;if(O&&O.status&&O.message){const B=function($){const ne=$.toLowerCase().replace(/_/g,"-");return Object.values(de).indexOf(ne)>=0?ne:de.UNKNOWN}(O.status);u(new ke(B,O.message))}else u(new ke(de.UNKNOWN,"Server responded with status "+h.getStatus()))}else u(new ke(de.UNAVAILABLE,"Connection failed."));break;default:ot()}}finally{Pe("Connection",'RPC "'+t+'" completed.')}});const _=JSON.stringify(r);h.send(e,"POST",_,i,15)})}wo(t,e,i){const r=[this.oo,"/","google.firestore.v1.Firestore","/",t,"/channel"],o=c3(),u=u3(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(h.xmlHttpFactory=new f3({})),this.lo(h.initMessageHeaders,e,i),h.encodeInitMessageHeaders=!0;const _=r.join("");Pe("Connection","Creating WebChannel: "+_,h);const b=o.createWebChannel(_,h);let D=!1,M=!1;const O=new p6({Hr:$=>{M?Pe("Connection","Not sending because WebChannel is closed:",$):(D||(Pe("Connection","Opening WebChannel transport."),b.open(),D=!0),Pe("Connection","WebChannel sending:",$),b.send($))},Jr:()=>b.close()}),B=($,ne,ce)=>{$.listen(ne,We=>{try{ce(We)}catch(ft){setTimeout(()=>{throw ft},0)}})};return B(b,KE.EventType.OPEN,()=>{M||Pe("Connection","WebChannel transport opened.")}),B(b,KE.EventType.CLOSE,()=>{M||(M=!0,Pe("Connection","WebChannel transport closed"),O.io())}),B(b,KE.EventType.ERROR,$=>{M||(M=!0,rm("Connection","WebChannel transport errored:",$),O.io(new ke(de.UNAVAILABLE,"The operation could not be completed")))}),B(b,KE.EventType.MESSAGE,$=>{var ne;if(!M){const ce=$.data[0];vt(!!ce);const We=ce,ft=We.error||(null===(ne=We[0])||void 0===ne?void 0:ne.error);if(ft){Pe("Connection","WebChannel received error:",ft);const gt=ft.status;let dt=function(Nt){const mn=nr[Nt];if(void 0!==mn)return XN(mn)}(gt),At=ft.message;void 0===dt&&(dt=de.INTERNAL,At="Unknown error status: "+gt+" with message "+ft.message),M=!0,O.io(new ke(dt,At)),b.close()}else Pe("Connection","WebChannel received:",ce),O.ro(ce)}}),B(u,h3.STAT_EVENT,$=>{$.stat===JF.PROXY?Pe("Connection","Detected buffering proxy"):$.stat===JF.NOPROXY&&Pe("Connection","Detected no buffering proxy")}),setTimeout(()=>{O.so()},0),O}}function dV(){return typeof window<"u"?window:null}function IS(){return typeof document<"u"?document:null}function jw(n){return new oj(n,!0)}class _k{constructor(t,e,i=1e3,r=1.5,o=6e4){this.Hs=t,this.timerId=e,this.mo=i,this.yo=r,this.po=o,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(t){this.cancel();const e=Math.floor(this.Io+this.bo()),i=Math.max(0,Date.now()-this.Eo),r=Math.max(0,e-i);r>0&&Pe("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Io} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,r,()=>(this.Eo=Date.now(),t())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class hV{constructor(t,e,i,r,o,u,h,_){this.Hs=t,this.vo=i,this.Vo=r,this.connection=o,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=h,this.listener=_,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new _k(t,e)}No(){return 1===this.state||5===this.state||this.ko()}ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}stop(){var t=this;return(0,ye.Z)(function*(){t.No()&&(yield t.close(0))})()}Mo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.$o()))}Bo(t){this.Lo(),this.stream.send(t)}$o(){var t=this;return(0,ye.Z)(function*(){if(t.ko())return t.close(0)})()}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}qo(){this.Co&&(this.Co.cancel(),this.Co=null)}close(t,e){var i=this;return(0,ye.Z)(function*(){i.Lo(),i.qo(),i.xo.cancel(),i.So++,4!==t?i.xo.reset():e&&e.code===de.RESOURCE_EXHAUSTED?(ji(e.toString()),ji("Using maximum backoff delay to prevent overloading the backend."),i.xo.Ao()):e&&e.code===de.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.Uo(),i.stream.close(),i.stream=null),i.state=t,yield i.listener.Zr(e)})()}Uo(){}auth(){this.state=1;const t=this.Ko(this.So),e=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.So===e&&this.Go(i,r)},i=>{t(()=>{const r=new ke(de.UNKNOWN,"Fetching auth token failed: "+i.message);return this.Qo(r)})})}Go(t,e){const i=this.Ko(this.So);this.stream=this.jo(t,e),this.stream.Yr(()=>{i(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(r=>{i(()=>this.Qo(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Oo(){var t=this;this.state=5,this.xo.Ro((0,ye.Z)(function*(){t.state=0,t.start()}))}Qo(t){return Pe("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}Ko(t){return e=>{this.Hs.enqueueAndForget(()=>this.So===t?e():(Pe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class g6 extends hV{constructor(t,e,i,r,o,u){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,r,u),this.yt=o}jo(t,e){return this.connection.wo("Listen",t,e)}onMessage(t){this.xo.reset();const e=function cj(n,t){let e;if("targetChange"in t){const i="NO_CHANGE"===(_=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===_?1:"REMOVE"===_?2:"CURRENT"===_?3:"RESET"===_?4:ot(),r=t.targetChange.targetIds||[],o=function(_,b){return _.wt?(vt(void 0===b||"string"==typeof b),br.fromBase64String(b||"")):(vt(void 0===b||b instanceof Uint8Array),br.fromUint8Array(b||new Uint8Array))}(n,t.targetChange.resumeToken),u=t.targetChange.cause,h=u&&function(_){const b=void 0===_.code?de.UNKNOWN:XN(_.code);return new ke(b,_.message||"")}(u);e=new rL(i,r,o,h||null)}else if("documentChange"in t){const i=t.documentChange,r=Gc(n,i.document.name),o=Gi(i.document.updateTime),u=i.document.createTime?Gi(i.document.createTime):Dt.min(),h=new Qr({mapValue:{fields:i.document.fields}}),_=oi.newFoundDocument(r,o,u,h);e=new dS(i.targetIds||[],i.removedTargetIds||[],_.key,_)}else if("documentDelete"in t){const i=t.documentDelete,r=Gc(n,i.document),o=i.readTime?Gi(i.readTime):Dt.min(),u=oi.newNoDocument(r,o);e=new dS([],i.removedTargetIds||[],u.key,u)}else if("documentRemove"in t){const i=t.documentRemove,r=Gc(n,i.document);e=new dS([],i.removedTargetIds||[],r,null)}else{if(!("filter"in t))return ot();{const i=t.filter,o=new Q3(i.count||0);e=new iL(i.targetId,o)}}var _;return e}(this.yt,t),i=function(r){if(!("targetChange"in r))return Dt.min();const o=r.targetChange;return o.targetIds&&o.targetIds.length?Dt.min():o.readTime?Gi(o.readTime):Dt.min()}(t);return this.listener.Wo(e,i)}zo(t){const e={};e.database=Rw(this.yt),e.addTarget=function(r,o){let u;const h=o.target;return u=iS(h)?{documents:pL(r,h)}:{query:qx(r,h)},u.targetId=o.targetId,o.resumeToken.approximateByteSize()>0?u.resumeToken=lL(r,o.resumeToken):o.snapshotVersion.compareTo(Dt.min())>0&&(u.readTime=J_(r,o.snapshotVersion.toTimestamp())),u}(this.yt,t);const i=function dj(n,t){const e=function(i,r){switch(r){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return ot()}}(0,t.purpose);return null==e?null:{"goog-listen-tags":e}}(0,t);i&&(e.labels=i),this.Bo(e)}Ho(t){const e={};e.database=Rw(this.yt),e.removeTarget=t,this.Bo(e)}}class _6 extends hV{constructor(t,e,i,r,o,u){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,r,u),this.yt=o,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}Uo(){this.Jo&&this.Xo([])}jo(t,e){return this.connection.wo("Write",t,e)}onMessage(t){if(vt(!!t.streamToken),this.lastStreamToken=t.streamToken,this.Jo){this.xo.reset();const e=function uj(n,t){return n&&n.length>0?(vt(void 0!==t),n.map(e=>function(i,r){let o=Gi(i.updateTime?i.updateTime:r);return o.isEqual(Dt.min())&&(o=Gi(r)),new Y3(o,i.transformResults||[])}(e,t))):[]}(t.writeResults,t.commitTime),i=Gi(t.commitTime);return this.listener.Zo(i,e)}return vt(!t.writeResults||0===t.writeResults.length),this.Jo=!0,this.listener.tu()}eu(){const t={};t.database=Rw(this.yt),this.Bo(t)}Xo(t){const e={streamToken:this.lastStreamToken,writes:t.map(i=>Ow(this.yt,i))};this.Bo(e)}}class y6 extends class{}{constructor(t,e,i,r){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=i,this.yt=r,this.nu=!1}su(){if(this.nu)throw new ke(de.FAILED_PRECONDITION,"The client has already been terminated.")}ao(t,e,i){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,o])=>this.connection.ao(t,e,i,r,o)).catch(r=>{throw"FirebaseError"===r.name?(r.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new ke(de.UNKNOWN,r.toString())})}_o(t,e,i,r){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,u])=>this.connection._o(t,e,i,o,u,r)).catch(o=>{throw"FirebaseError"===o.name?(o.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ke(de.UNKNOWN,o.toString())})}terminate(){this.nu=!0}}class b6{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(t){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.cu("Offline")))}set(t){this.lu(),this.iu=0,"Online"===t&&(this.ou=!1),this.cu(t)}cu(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}au(t){const e=`Could not reach Cloud Firestore backend. ${t}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(ji(e),this.ou=!1):Pe("OnlineStateTracker",e)}lu(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}class w6{constructor(t,e,i,r,o){var u=this;this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=o,this.mu.Ur(h=>{i.enqueueAndForget((0,ye.Z)(function*(){var _;md(u)&&(Pe("RemoteStore","Restarting streams for network reachability change."),yield(_=(0,ye.Z)(function*(b){const D=Qe(b);D._u.add(4),yield sy(D),D.gu.set("Unknown"),D._u.delete(4),yield Gw(D)}),function(b){return _.apply(this,arguments)})(u))}))}),this.gu=new b6(i,r)}}function Gw(n){return vk.apply(this,arguments)}function vk(){return vk=(0,ye.Z)(function*(n){if(md(n))for(const t of n.wu)yield t(!0)}),vk.apply(this,arguments)}function sy(n){return bk.apply(this,arguments)}function bk(){return bk=(0,ye.Z)(function*(n){for(const t of n.wu)yield t(!1)}),bk.apply(this,arguments)}function MS(n,t){const e=Qe(n);e.du.has(t.targetId)||(e.du.set(t.targetId,t),Dk(e)?Ck(e):ay(e).ko()&&wk(e,t))}function zw(n,t){const e=Qe(n),i=ay(e);e.du.delete(t),i.ko()&&fV(e,t),0===e.du.size&&(i.ko()?i.Fo():md(e)&&e.gu.set("Unknown"))}function wk(n,t){n.yu.Ot(t.targetId),ay(n).zo(t)}function fV(n,t){n.yu.Ot(t),ay(n).Ho(t)}function Ck(n){n.yu=new nj({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),ne:t=>n.du.get(t)||null}),ay(n).start(),n.gu.uu()}function Dk(n){return md(n)&&!ay(n).No()&&n.du.size>0}function md(n){return 0===Qe(n)._u.size}function pV(n){n.yu=void 0}function C6(n){return Ek.apply(this,arguments)}function Ek(){return Ek=(0,ye.Z)(function*(n){n.du.forEach((t,e)=>{wk(n,t)})}),Ek.apply(this,arguments)}function D6(n,t){return Sk.apply(this,arguments)}function Sk(){return Sk=(0,ye.Z)(function*(n,t){pV(n),Dk(n)?(n.gu.hu(t),Ck(n)):n.gu.set("Unknown")}),Sk.apply(this,arguments)}function E6(n,t,e){return Ik.apply(this,arguments)}function Ik(){return Ik=(0,ye.Z)(function*(n,t,e){if(n.gu.set("Online"),t instanceof rL&&2===t.state&&t.cause)try{yield(i=(0,ye.Z)(function*(r,o){const u=o.cause;for(const h of o.targetIds)r.du.has(h)&&(yield r.remoteSyncer.rejectListen(h,u),r.du.delete(h),r.yu.removeTarget(h))}),function(r,o){return i.apply(this,arguments)})(n,t)}catch(i){Pe("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),i),yield TS(n,i)}else if(t instanceof dS?n.yu.Kt(t):t instanceof iL?n.yu.Jt(t):n.yu.jt(t),!e.isEqual(Dt.min()))try{const i=yield nV(n.localStore);e.compareTo(i)>=0&&(yield function(r,o){const u=r.yu.Zt(o);return u.targetChanges.forEach((h,_)=>{if(h.resumeToken.approximateByteSize()>0){const b=r.du.get(_);b&&r.du.set(_,b.withResumeToken(h.resumeToken,o))}}),u.targetMismatches.forEach(h=>{const _=r.du.get(h);if(!_)return;r.du.set(h,_.withResumeToken(br.EMPTY_BYTE_STRING,_.snapshotVersion)),fV(r,h);const b=new tf(_.target,h,1,_.sequenceNumber);wk(r,b)}),r.remoteSyncer.applyRemoteEvent(u)}(n,e))}catch(i){Pe("RemoteStore","Failed to raise snapshot:",i),yield TS(n,i)}var i}),Ik.apply(this,arguments)}function TS(n,t,e){return Mk.apply(this,arguments)}function Mk(){return Mk=(0,ye.Z)(function*(n,t,e){if(!Yh(t))throw t;n._u.add(1),yield sy(n),n.gu.set("Offline"),e||(e=()=>nV(n.localStore)),n.asyncQueue.enqueueRetryable((0,ye.Z)(function*(){Pe("RemoteStore","Retrying IndexedDB access"),yield e(),n._u.delete(1),yield Gw(n)}))}),Mk.apply(this,arguments)}function mV(n,t){return t().catch(e=>TS(n,e,t))}function oy(n){return Tk.apply(this,arguments)}function Tk(){return Tk=(0,ye.Z)(function*(n){const t=Qe(n),e=af(t);let i=t.fu.length>0?t.fu[t.fu.length-1].batchId:-1;for(;S6(t);)try{const r=yield c6(t.localStore,i);if(null===r){0===t.fu.length&&e.Fo();break}i=r.batchId,I6(t,r)}catch(r){yield TS(t,r)}gV(t)&&_V(t)}),Tk.apply(this,arguments)}function S6(n){return md(n)&&n.fu.length<10}function I6(n,t){n.fu.push(t);const e=af(n);e.ko()&&e.Yo&&e.Xo(t.mutations)}function gV(n){return md(n)&&!af(n).No()&&n.fu.length>0}function _V(n){af(n).start()}function M6(n){return Ak.apply(this,arguments)}function Ak(){return Ak=(0,ye.Z)(function*(n){af(n).eu()}),Ak.apply(this,arguments)}function T6(n){return xk.apply(this,arguments)}function xk(){return xk=(0,ye.Z)(function*(n){const t=af(n);for(const e of n.fu)t.Xo(e.mutations)}),xk.apply(this,arguments)}function A6(n,t,e){return kk.apply(this,arguments)}function kk(){return kk=(0,ye.Z)(function*(n,t,e){const i=n.fu.shift(),r=Wx.from(i,t,e);yield mV(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield oy(n)}),kk.apply(this,arguments)}function x6(n,t){return Rk.apply(this,arguments)}function Rk(){return Rk=(0,ye.Z)(function*(n,t){var e;t&&af(n).Yo&&(yield(e=(0,ye.Z)(function*(i,r){if(JN(o=r.code)&&o!==de.ABORTED){const u=i.fu.shift();af(i).Mo(),yield mV(i,()=>i.remoteSyncer.rejectFailedWrite(u.batchId,r)),yield oy(i)}var o}),function(i,r){return e.apply(this,arguments)})(n,t)),gV(n)&&_V(n)}),Rk.apply(this,arguments)}function yV(n,t){return Ok.apply(this,arguments)}function Ok(){return Ok=(0,ye.Z)(function*(n,t){const e=Qe(n);e.asyncQueue.verifyOperationInProgress(),Pe("RemoteStore","RemoteStore received new credentials");const i=md(e);e._u.add(3),yield sy(e),i&&e.gu.set("Unknown"),yield e.remoteSyncer.handleCredentialChange(t),e._u.delete(3),yield Gw(e)}),Ok.apply(this,arguments)}function Pk(n,t){return Fk.apply(this,arguments)}function Fk(){return Fk=(0,ye.Z)(function*(n,t){const e=Qe(n);t?(e._u.delete(2),yield Gw(e)):t||(e._u.add(2),yield sy(e),e.gu.set("Unknown"))}),Fk.apply(this,arguments)}function ay(n){return n.pu||(n.pu=function(t,e,i){const r=Qe(t);return r.su(),new g6(e,r.connection,r.authCredentials,r.appCheckCredentials,r.yt,i)}(n.datastore,n.asyncQueue,{Yr:C6.bind(null,n),Zr:D6.bind(null,n),Wo:E6.bind(null,n)}),n.wu.push(function(){var t=(0,ye.Z)(function*(e){e?(n.pu.Mo(),Dk(n)?Ck(n):n.gu.set("Unknown")):(yield n.pu.stop(),pV(n))});return function(e){return t.apply(this,arguments)}}())),n.pu}function af(n){return n.Iu||(n.Iu=function(t,e,i){const r=Qe(t);return r.su(),new _6(e,r.connection,r.authCredentials,r.appCheckCredentials,r.yt,i)}(n.datastore,n.asyncQueue,{Yr:M6.bind(null,n),Zr:x6.bind(null,n),tu:T6.bind(null,n),Zo:A6.bind(null,n)}),n.wu.push(function(){var t=(0,ye.Z)(function*(e){e?(n.Iu.Mo(),yield oy(n)):(yield n.Iu.stop(),n.fu.length>0&&(Pe("RemoteStore",`Stopping write stream with ${n.fu.length} pending writes`),n.fu=[]))});return function(e){return t.apply(this,arguments)}}())),n.Iu}class Nk{constructor(t,e,i,r,o){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=r,this.removalCallback=o,this.deferred=new vr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}static createAndSchedule(t,e,i,r,o){const u=Date.now()+i,h=new Nk(t,e,u,r,o);return h.start(i),h}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new ke(de.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ly(n,t){if(ji("AsyncQueue",`${t}: ${n}`),Yh(n))return new ke(de.UNAVAILABLE,`${t}: ${n}`);throw n}class cy{constructor(t){this.comparator=t?(e,i)=>t(e,i)||Ye.comparator(e.key,i.key):(e,i)=>Ye.comparator(e.key,i.key),this.keyedMap=Mw(),this.sortedSet=new Pi(this.comparator)}static emptySet(t){return new cy(t.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,i)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof cy)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const r=e.getNext().key,o=i.getNext().key;if(!r.isEqual(o))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,e){const i=new cy;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}class vV{constructor(){this.Tu=new Pi(Ye.comparator)}track(t){const e=t.doc.key,i=this.Tu.get(e);i?0!==t.type&&3===i.type?this.Tu=this.Tu.insert(e,t):3===t.type&&1!==i.type?this.Tu=this.Tu.insert(e,{type:i.type,doc:t.doc}):2===t.type&&2===i.type?this.Tu=this.Tu.insert(e,{type:2,doc:t.doc}):2===t.type&&0===i.type?this.Tu=this.Tu.insert(e,{type:0,doc:t.doc}):1===t.type&&0===i.type?this.Tu=this.Tu.remove(e):1===t.type&&2===i.type?this.Tu=this.Tu.insert(e,{type:1,doc:i.doc}):0===t.type&&1===i.type?this.Tu=this.Tu.insert(e,{type:2,doc:t.doc}):ot():this.Tu=this.Tu.insert(e,t)}Eu(){const t=[];return this.Tu.inorderTraversal((e,i)=>{t.push(i)}),t}}class uy{constructor(t,e,i,r,o,u,h,_,b){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=o,this.fromCache=u,this.syncStateChanged=h,this.excludesMetadataChanges=_,this.hasCachedResults=b}static fromInitialDocuments(t,e,i,r,o){const u=[];return e.forEach(h=>{u.push({type:0,doc:h})}),new uy(t,e,cy.emptySet(e),u,i,r,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Ew(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let r=0;r<e.length;r++)if(e[r].type!==i[r].type||!e[r].doc.isEqual(i[r].doc))return!1;return!0}}class k6{constructor(){this.Au=void 0,this.listeners=[]}}class R6{constructor(){this.queries=new ef(t=>NN(t),Ew),this.onlineState="Unknown",this.Ru=new Set}}function Lk(n,t){return Vk.apply(this,arguments)}function Vk(){return Vk=(0,ye.Z)(function*(n,t){const e=Qe(n),i=t.query;let r=!1,o=e.queries.get(i);if(o||(r=!0,o=new k6),r)try{o.Au=yield e.onListen(i)}catch(u){const h=ly(u,`Initialization of query '${Ux(t.query)}' failed`);return void t.onError(h)}e.queries.set(i,o),o.listeners.push(t),t.bu(e.onlineState),o.Au&&t.Pu(o.Au)&&Hk(e)}),Vk.apply(this,arguments)}function Bk(n,t){return Uk.apply(this,arguments)}function Uk(){return Uk=(0,ye.Z)(function*(n,t){const e=Qe(n),i=t.query;let r=!1;const o=e.queries.get(i);if(o){const u=o.listeners.indexOf(t);u>=0&&(o.listeners.splice(u,1),r=0===o.listeners.length)}if(r)return e.queries.delete(i),e.onUnlisten(i)}),Uk.apply(this,arguments)}function O6(n,t){const e=Qe(n);let i=!1;for(const r of t){const u=e.queries.get(r.query);if(u){for(const h of u.listeners)h.Pu(r)&&(i=!0);u.Au=r}}i&&Hk(e)}function P6(n,t,e){const i=Qe(n),r=i.queries.get(t);if(r)for(const o of r.listeners)o.onError(e);i.queries.delete(t)}function Hk(n){n.Ru.forEach(t=>{t.next()})}class jk{constructor(t,e,i){this.query=t,this.vu=e,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=i||{}}Pu(t){if(!this.options.includeMetadataChanges){const i=[];for(const r of t.docChanges)3!==r.type&&i.push(r);t=new uy(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Vu?this.Du(t)&&(this.vu.next(t),e=!0):this.Cu(t,this.onlineState)&&(this.xu(t),e=!0),this.Su=t,e}onError(t){this.vu.error(t)}bu(t){this.onlineState=t;let e=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,t)&&(this.xu(this.Su),e=!0),e}Cu(t,e){return!t.fromCache||(!this.options.Nu||!("Offline"!==e))&&(!t.docs.isEmpty()||t.hasCachedResults||"Offline"===e)}Du(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.Su&&this.Su.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges}xu(t){t=uy.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Vu=!0,this.vu.next(t)}}class F6{constructor(t,e){this.ku=t,this.byteLength=e}Ou(){return"metadata"in this.ku}}class bV{constructor(t){this.yt=t}Ji(t){return Gc(this.yt,t)}Yi(t){return t.metadata.exists?fL(this.yt,t.document,!1):oi.newNoDocument(this.Ji(t.metadata.name),this.Xi(t.metadata.readTime))}Xi(t){return Gi(t)}}class N6{constructor(t,e,i){this.Mu=t,this.localStore=e,this.yt=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=wV(t)}Fu(t){this.progress.bytesLoaded+=t.byteLength;let e=this.progress.documentsLoaded;if(t.ku.namedQuery)this.queries.push(t.ku.namedQuery);else if(t.ku.documentMetadata){this.documents.push({metadata:t.ku.documentMetadata}),t.ku.documentMetadata.exists||++e;const i=wn.fromString(t.ku.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else t.ku.document&&(this.documents[this.documents.length-1].document=t.ku.document,++e);return e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null}$u(t){const e=new Map,i=new bV(this.yt);for(const r of t)if(r.metadata.queries){const o=i.Ji(r.metadata.name);for(const u of r.metadata.queries){const h=(e.get(u)||Qt()).add(o);e.set(u,h)}}return e}complete(){var t=this;return(0,ye.Z)(function*(){const e=yield function u6(n,t,e,i){return dk.apply(this,arguments)}(t.localStore,new bV(t.yt),t.documents,t.Mu.id),i=t.$u(t.documents);for(const r of t.queries)yield d6(t.localStore,r,i.get(r.name));return t.progress.taskState="Success",{progress:t.progress,Bu:t.collectionGroups,Lu:e}})()}}function wV(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class CV{constructor(t){this.key=t}}class DV{constructor(t){this.key=t}}class EV{constructor(t,e){this.query=t,this.qu=e,this.Uu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=Qt(),this.mutatedKeys=Qt(),this.Gu=VN(t),this.Qu=new cy(this.Gu)}get ju(){return this.qu}Wu(t,e){const i=e?e.zu:new vV,r=e?e.Qu:this.Qu;let o=e?e.mutatedKeys:this.mutatedKeys,u=r,h=!1;const _="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,b="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal((D,M)=>{const O=r.get(D),B=Hx(this.query,M)?M:null,$=!!O&&this.mutatedKeys.has(O.key),ne=!!B&&(B.hasLocalMutations||this.mutatedKeys.has(B.key)&&B.hasCommittedMutations);let ce=!1;O&&B?O.data.isEqual(B.data)?$!==ne&&(i.track({type:3,doc:B}),ce=!0):this.Hu(O,B)||(i.track({type:2,doc:B}),ce=!0,(_&&this.Gu(B,_)>0||b&&this.Gu(B,b)<0)&&(h=!0)):!O&&B?(i.track({type:0,doc:B}),ce=!0):O&&!B&&(i.track({type:1,doc:O}),ce=!0,(_||b)&&(h=!0)),ce&&(B?(u=u.add(B),o=ne?o.add(D):o.delete(D)):(u=u.delete(D),o=o.delete(D)))}),null!==this.query.limit)for(;u.size>this.query.limit;){const D="F"===this.query.limitType?u.last():u.first();u=u.delete(D.key),o=o.delete(D.key),i.track({type:1,doc:D})}return{Qu:u,zu:i,$i:h,mutatedKeys:o}}Hu(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i){const r=this.Qu;this.Qu=t.Qu,this.mutatedKeys=t.mutatedKeys;const o=t.zu.Eu();o.sort((b,D)=>function(M,O){const B=$=>{switch($){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ot()}};return B(M)-B(O)}(b.type,D.type)||this.Gu(b.doc,D.doc)),this.Ju(i);const u=e?this.Yu():[],h=0===this.Ku.size&&this.current?1:0,_=h!==this.Uu;return this.Uu=h,0!==o.length||_?{snapshot:new uy(this.query,t.Qu,r,o,t.mutatedKeys,0===h,_,!1,!!i&&i.resumeToken.approximateByteSize()>0),Xu:u}:{Xu:u}}bu(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new vV,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(t){return!this.qu.has(t)&&!!this.Qu.has(t)&&!this.Qu.get(t).hasLocalMutations}Ju(t){t&&(t.addedDocuments.forEach(e=>this.qu=this.qu.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.qu=this.qu.delete(e)),this.current=t.current)}Yu(){if(!this.current)return[];const t=this.Ku;this.Ku=Qt(),this.Qu.forEach(i=>{this.Zu(i.key)&&(this.Ku=this.Ku.add(i.key))});const e=[];return t.forEach(i=>{this.Ku.has(i)||e.push(new DV(i))}),this.Ku.forEach(i=>{t.has(i)||e.push(new CV(i))}),e}tc(t){this.qu=t.Hi,this.Ku=Qt();const e=this.Wu(t.documents);return this.applyChanges(e,!0)}ec(){return uy.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.Uu,this.hasCachedResults)}}class L6{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class V6{constructor(t){this.key=t,this.nc=!1}}class B6{constructor(t,e,i,r,o,u){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=u,this.sc={},this.ic=new ef(h=>NN(h),Ew),this.rc=new Map,this.oc=new Set,this.uc=new Pi(Ye.comparator),this.cc=new Map,this.ac=new rk,this.hc={},this.lc=new Map,this.fc=bm.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return!0===this.dc}}function U6(n,t){return Gk.apply(this,arguments)}function Gk(){return Gk=(0,ye.Z)(function*(n,t){const e=hR(n);let i,r;const o=e.ic.get(t);if(o)i=o.targetId,e.sharedClientState.addLocalQueryTarget(i),r=o.view.ec();else{const u=yield iy(e.localStore,Rs(t));e.isPrimaryClient&&MS(e.remoteStore,u);const h=e.sharedClientState.addLocalQueryTarget(u.targetId);i=u.targetId,r=yield zk(e,t,i,"current"===h,u.resumeToken)}return r}),Gk.apply(this,arguments)}function zk(n,t,e,i,r){return $k.apply(this,arguments)}function $k(){return $k=(0,ye.Z)(function*(n,t,e,i,r){n._c=(M,O,B)=>{return($=(0,ye.Z)(function*(ne,ce,We,ft){let gt=ce.view.Wu(We);gt.$i&&(gt=yield DS(ne.localStore,ce.query,!1).then(({documents:Nt})=>ce.view.Wu(Nt,gt)));const dt=ft&&ft.targetChanges.get(ce.targetId),At=ce.view.applyChanges(gt,ne.isPrimaryClient,dt);return tR(ne,ce.targetId,At.Xu),At.snapshot}),function(ne,ce,We,ft){return $.apply(this,arguments)})(n,M,O,B);var $};const o=yield DS(n.localStore,t,!0),u=new EV(t,o.Hi),h=u.Wu(o.documents),_=xw.createSynthesizedTargetChangeForCurrentChange(e,i&&"Offline"!==n.onlineState,r),b=u.applyChanges(h,n.isPrimaryClient,_);tR(n,e,b.Xu);const D=new L6(t,e,u);return n.ic.set(t,D),n.rc.has(e)?n.rc.get(e).push(t):n.rc.set(e,[t]),b.snapshot}),$k.apply(this,arguments)}function H6(n,t){return qk.apply(this,arguments)}function qk(){return qk=(0,ye.Z)(function*(n,t){const e=Qe(n),i=e.ic.get(t),r=e.rc.get(i.targetId);if(r.length>1)return e.rc.set(i.targetId,r.filter(o=>!Ew(o,t))),void e.ic.delete(t);e.isPrimaryClient?(e.sharedClientState.removeLocalQueryTarget(i.targetId),e.sharedClientState.isActiveQueryTarget(i.targetId)||(yield ry(e.localStore,i.targetId,!1).then(()=>{e.sharedClientState.clearQueryState(i.targetId),zw(e.remoteStore,i.targetId),dy(e,i.targetId)}).catch(Zh))):(dy(e,i.targetId),yield ry(e.localStore,i.targetId,!0))}),qk.apply(this,arguments)}function Zk(){return Zk=(0,ye.Z)(function*(n,t,e){const i=fR(n);try{const r=yield function(o,u){const h=Qe(o),_=vi.now(),b=u.reduce((O,B)=>O.add(B.key),Qt());let D,M;return h.persistence.runTransaction("Locally write mutations","readwrite",O=>{let B=uo(),$=Qt();return h.Gi.getEntries(O,b).next(ne=>{B=ne,B.forEach((ce,We)=>{We.isValidDocument()||($=$.add(ce))})}).next(()=>h.localDocuments.getOverlayedDocuments(O,B)).next(ne=>{D=ne;const ce=[];for(const We of u){const ft=K3(We,D.get(We.key).overlayedDocument);null!=ft&&ce.push(new pd(We.key,ft,kN(ft.value.mapValue),bi.exists(!0)))}return h.mutationQueue.addMutationBatch(O,_,ce,u)}).next(ne=>{M=ne;const ce=ne.applyToLocalDocumentSet(D,$);return h.documentOverlayCache.saveOverlays(O,ne.batchId,ce)})}).then(()=>({batchId:M.batchId,changes:tL(D)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(r.batchId),function(o,u,h){let _=o.hc[o.currentUser.toKey()];_||(_=new Pi(Zt)),_=_.insert(u,h),o.hc[o.currentUser.toKey()]=_}(i,r.batchId,e),yield gd(i,r.changes),yield oy(i.remoteStore)}catch(r){const o=ly(r,"Failed to persist write");e.reject(o)}}),Zk.apply(this,arguments)}function SV(n,t){return Yk.apply(this,arguments)}function Yk(){return Yk=(0,ye.Z)(function*(n,t){const e=Qe(n);try{const i=yield l6(e.localStore,t);t.targetChanges.forEach((r,o)=>{const u=e.cc.get(o);u&&(vt(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?u.nc=!0:r.modifiedDocuments.size>0?vt(u.nc):r.removedDocuments.size>0&&(vt(u.nc),u.nc=!1))}),yield gd(e,i,t)}catch(i){yield Zh(i)}}),Yk.apply(this,arguments)}function IV(n,t,e){const i=Qe(n);if(i.isPrimaryClient&&0===e||!i.isPrimaryClient&&1===e){const r=[];i.ic.forEach((o,u)=>{const h=u.view.bu(t);h.snapshot&&r.push(h.snapshot)}),function(o,u){const h=Qe(o);h.onlineState=u;let _=!1;h.queries.forEach((b,D)=>{for(const M of D.listeners)M.bu(u)&&(_=!0)}),_&&Hk(h)}(i.eventManager,t),r.length&&i.sc.Wo(r),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}function G6(n,t,e){return Wk.apply(this,arguments)}function Wk(){return Wk=(0,ye.Z)(function*(n,t,e){const i=Qe(n);i.sharedClientState.updateQueryState(t,"rejected",e);const r=i.cc.get(t),o=r&&r.key;if(o){let u=new Pi(Ye.comparator);u=u.insert(o,oi.newNoDocument(o,Dt.min()));const h=Qt().add(o),_=new Aw(Dt.min(),new Map,new Gn(Zt),u,h);yield SV(i,_),i.uc=i.uc.remove(o),i.cc.delete(t),nR(i)}else yield ry(i.localStore,t,!1).then(()=>dy(i,t,e)).catch(Zh)}),Wk.apply(this,arguments)}function z6(n,t){return Kk.apply(this,arguments)}function Kk(){return Kk=(0,ye.Z)(function*(n,t){const e=Qe(n),i=t.batch.batchId;try{const r=yield a6(e.localStore,t);eR(e,i,null),Xk(e,i),e.sharedClientState.updateMutationState(i,"acknowledged"),yield gd(e,r)}catch(r){yield Zh(r)}}),Kk.apply(this,arguments)}function $6(n,t,e){return Qk.apply(this,arguments)}function Qk(){return Qk=(0,ye.Z)(function*(n,t,e){const i=Qe(n);try{const r=yield function(o,u){const h=Qe(o);return h.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let b;return h.mutationQueue.lookupMutationBatch(_,u).next(D=>(vt(null!==D),b=D.keys(),h.mutationQueue.removeMutationBatch(_,D))).next(()=>h.mutationQueue.performConsistencyCheck(_)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(_,b,u)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,b)).next(()=>h.localDocuments.getDocuments(_,b))})}(i.localStore,t);eR(i,t,e),Xk(i,t),i.sharedClientState.updateMutationState(t,"rejected",e),yield gd(i,r)}catch(r){yield Zh(r)}}),Qk.apply(this,arguments)}function Jk(){return Jk=(0,ye.Z)(function*(n,t){const e=Qe(n);md(e.remoteStore)||Pe("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(o){const u=Qe(o);return u.persistence.runTransaction("Get highest unacknowledged batch id","readonly",h=>u.mutationQueue.getHighestUnacknowledgedBatchId(h))}(e.localStore);if(-1===i)return void t.resolve();const r=e.lc.get(i)||[];r.push(t),e.lc.set(i,r)}catch(i){const r=ly(i,"Initialization of waitForPendingWrites() operation failed");t.reject(r)}}),Jk.apply(this,arguments)}function Xk(n,t){(n.lc.get(t)||[]).forEach(e=>{e.resolve()}),n.lc.delete(t)}function eR(n,t,e){const i=Qe(n);let r=i.hc[i.currentUser.toKey()];if(r){const o=r.get(t);o&&(e?o.reject(e):o.resolve(),r=r.remove(t)),i.hc[i.currentUser.toKey()]=r}}function dy(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const i of n.rc.get(t))n.ic.delete(i),e&&n.sc.wc(i,e);n.rc.delete(t),n.isPrimaryClient&&n.ac.ls(t).forEach(i=>{n.ac.containsKey(i)||MV(n,i)})}function MV(n,t){n.oc.delete(t.path.canonicalString());const e=n.uc.get(t);null!==e&&(zw(n.remoteStore,e),n.uc=n.uc.remove(t),n.cc.delete(e),nR(n))}function tR(n,t,e){for(const i of e)i instanceof CV?(n.ac.addReference(i.key,t),Z6(n,i)):i instanceof DV?(Pe("SyncEngine","Document no longer in limbo: "+i.key),n.ac.removeReference(i.key,t),n.ac.containsKey(i.key)||MV(n,i.key)):ot()}function Z6(n,t){const e=t.key,i=e.path.canonicalString();n.uc.get(e)||n.oc.has(i)||(Pe("SyncEngine","New document in limbo: "+e),n.oc.add(i),nR(n))}function nR(n){for(;n.oc.size>0&&n.uc.size<n.maxConcurrentLimboResolutions;){const t=n.oc.values().next().value;n.oc.delete(t);const e=new Ye(wn.fromString(t)),i=n.fc.next();n.cc.set(i,new V6(e)),n.uc=n.uc.insert(e,i),MS(n.remoteStore,new tf(Rs(Z_(e.path)),i,2,qo.at))}}function gd(n,t,e){return iR.apply(this,arguments)}function iR(){return iR=(0,ye.Z)(function*(n,t,e){const i=Qe(n),r=[],o=[],u=[];var h;i.ic.isEmpty()||(i.ic.forEach((h,_)=>{u.push(i._c(_,t,e).then(b=>{if((b||e)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(_.targetId,b?.fromCache?"not-current":"current"),b){r.push(b);const D=lk.Ci(_.targetId,b);o.push(D)}}))}),yield Promise.all(u),i.sc.Wo(r),yield(h=(0,ye.Z)(function*(_,b){const D=Qe(_);try{yield D.persistence.runTransaction("notifyLocalViewChanges","readwrite",M=>le.forEach(b,O=>le.forEach(O.Si,B=>D.persistence.referenceDelegate.addReference(M,O.targetId,B)).next(()=>le.forEach(O.Di,B=>D.persistence.referenceDelegate.removeReference(M,O.targetId,B)))))}catch(M){if(!Yh(M))throw M;Pe("LocalStore","Failed to update sequence numbers: "+M)}for(const M of b){const O=M.targetId;if(!M.fromCache){const B=D.qi.get(O),ne=B.withLastLimboFreeSnapshotVersion(B.snapshotVersion);D.qi=D.qi.insert(O,ne)}}}),function(_,b){return h.apply(this,arguments)})(i.localStore,o))}),iR.apply(this,arguments)}function Y6(n,t){return rR.apply(this,arguments)}function rR(){return rR=(0,ye.Z)(function*(n,t){const e=Qe(n);if(!e.currentUser.isEqual(t)){Pe("SyncEngine","User change. New user:",t.toKey());const i=yield tV(e.localStore,t);e.currentUser=t,(r=e).lc.forEach(u=>{u.forEach(h=>{h.reject(new ke(de.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),r.lc.clear(),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),yield gd(e,i.ji)}var r}),rR.apply(this,arguments)}function W6(n,t){const e=Qe(n),i=e.cc.get(t);if(i&&i.nc)return Qt().add(i.key);{let r=Qt();const o=e.rc.get(t);if(!o)return r;for(const u of o){const h=e.ic.get(u);r=r.unionWith(h.view.ju)}return r}}function K6(n,t){return sR.apply(this,arguments)}function sR(){return sR=(0,ye.Z)(function*(n,t){const e=Qe(n),i=yield DS(e.localStore,t.query,!0),r=t.view.tc(i);return e.isPrimaryClient&&tR(e,t.targetId,r.Xu),r}),sR.apply(this,arguments)}function Q6(n,t){return oR.apply(this,arguments)}function oR(){return oR=(0,ye.Z)(function*(n,t){const e=Qe(n);return sV(e.localStore,t).then(i=>gd(e,i))}),oR.apply(this,arguments)}function J6(n,t,e,i){return aR.apply(this,arguments)}function aR(){return aR=(0,ye.Z)(function*(n,t,e,i){const r=Qe(n),o=yield function(u,h){const _=Qe(u),b=Qe(_.mutationQueue);return _.persistence.runTransaction("Lookup mutation documents","readonly",D=>b.Tn(D,h).next(M=>M?_.localDocuments.getDocuments(D,M):le.resolve(null)))}(r.localStore,t);var h;null!==o?("pending"===e?yield oy(r.remoteStore):"acknowledged"===e||"rejected"===e?(eR(r,t,i||null),Xk(r,t),h=t,Qe(Qe(r.localStore).mutationQueue).An(h)):ot(),yield gd(r,o)):Pe("SyncEngine","Cannot apply mutation batch with id: "+t)}),aR.apply(this,arguments)}function lR(){return lR=(0,ye.Z)(function*(n,t){const e=Qe(n);if(hR(e),fR(e),!0===t&&!0!==e.dc){const i=e.sharedClientState.getAllActiveQueryTargets(),r=yield TV(e,i.toArray());e.dc=!0,yield Pk(e.remoteStore,!0);for(const o of r)MS(e.remoteStore,o)}else if(!1===t&&!1!==e.dc){const i=[];let r=Promise.resolve();e.rc.forEach((o,u)=>{e.sharedClientState.isLocalQueryTarget(u)?i.push(u):r=r.then(()=>(dy(e,u),ry(e.localStore,u,!0))),zw(e.remoteStore,u)}),yield r,yield TV(e,i),function(o){const u=Qe(o);u.cc.forEach((h,_)=>{zw(u.remoteStore,_)}),u.ac.fs(),u.cc=new Map,u.uc=new Pi(Ye.comparator)}(e),e.dc=!1,yield Pk(e.remoteStore,!1)}}),lR.apply(this,arguments)}function TV(n,t,e){return cR.apply(this,arguments)}function cR(){return cR=(0,ye.Z)(function*(n,t,e){const i=Qe(n),r=[],o=[];for(const u of t){let h;const _=i.rc.get(u);if(_&&0!==_.length){h=yield iy(i.localStore,Rs(_[0]));for(const b of _){const D=i.ic.get(b),M=yield K6(i,D);M.snapshot&&o.push(M.snapshot)}}else{const b=yield rV(i.localStore,u);h=yield iy(i.localStore,b),yield zk(i,AV(b),u,!1,h.resumeToken)}r.push(h)}return i.sc.Wo(o),r}),cR.apply(this,arguments)}function AV(n){return PN(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function eG(n){const t=Qe(n);return Qe(Qe(t.localStore).persistence).vi()}function tG(n,t,e,i){return uR.apply(this,arguments)}function uR(){return uR=(0,ye.Z)(function*(n,t,e,i){const r=Qe(n);if(r.dc)return void Pe("SyncEngine","Ignoring unexpected query state notification.");const o=r.rc.get(t);if(o&&o.length>0)switch(e){case"current":case"not-current":{const u=yield sV(r.localStore,LN(o[0])),h=Aw.createSynthesizedRemoteEventForCurrentChange(t,"current"===e,br.EMPTY_BYTE_STRING);yield gd(r,u,h);break}case"rejected":yield ry(r.localStore,t,!0),dy(r,t,i);break;default:ot()}}),uR.apply(this,arguments)}function nG(n,t,e){return dR.apply(this,arguments)}function dR(){return dR=(0,ye.Z)(function*(n,t,e){const i=hR(n);if(i.dc){for(const r of t){if(i.rc.has(r)){Pe("SyncEngine","Adding an already active target "+r);continue}const o=yield rV(i.localStore,r),u=yield iy(i.localStore,o);yield zk(i,AV(o),u.targetId,!1,u.resumeToken),MS(i.remoteStore,u)}for(const r of e)i.rc.has(r)&&(yield ry(i.localStore,r,!1).then(()=>{zw(i.remoteStore,r),dy(i,r)}).catch(Zh))}}),dR.apply(this,arguments)}function hR(n){const t=Qe(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=SV.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=W6.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=G6.bind(null,t),t.sc.Wo=O6.bind(null,t.eventManager),t.sc.wc=P6.bind(null,t.eventManager),t}function fR(n){const t=Qe(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=z6.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=$6.bind(null,t),t}class xV{constructor(){this.synchronizeTabs=!1}initialize(t){var e=this;return(0,ye.Z)(function*(){e.yt=jw(t.databaseInfo.databaseId),e.sharedClientState=e.gc(t),e.persistence=e.yc(t),yield e.persistence.start(),e.localStore=e.Ic(t),e.gcScheduler=e.Tc(t,e.localStore),e.indexBackfillerScheduler=e.Ec(t,e.localStore)})()}Tc(t,e){return null}Ec(t,e){return null}Ic(t){return eV(this.persistence,new XL,t.initialUser,this.yt)}yc(t){return new QL(wS.Bs,this.yt)}gc(t){return new cV}terminate(){var t=this;return(0,ye.Z)(function*(){t.gcScheduler&&t.gcScheduler.stop(),yield t.sharedClientState.shutdown(),yield t.persistence.shutdown()})()}}class kV extends xV{constructor(t,e,i){super(),this.Ac=t,this.cacheSizeBytes=e,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(t){var e=()=>super.initialize,i=this;return(0,ye.Z)(function*(){yield e().call(i,t),yield i.Ac.initialize(i,t),yield fR(i.Ac.syncEngine),yield oy(i.Ac.remoteStore),yield i.persistence.li(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(),i.indexBackfillerScheduler&&!i.indexBackfillerScheduler.started&&i.indexBackfillerScheduler.start(),Promise.resolve()))})()}Ic(t){return eV(this.persistence,new XL,t.initialUser,this.yt)}Tc(t,e){return new qj(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue,e)}Ec(t,e){const i=new x3(e,this.persistence);return new A3(t.asyncQueue,i)}yc(t){const e=ak(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?ho.withCacheSize(this.cacheSizeBytes):ho.DEFAULT;return new ok(this.synchronizeTabs,e,t.clientId,i,t.asyncQueue,dV(),IS(),this.yt,this.sharedClientState,!!this.forceOwnership)}gc(t){return new cV}}class rG extends kV{constructor(t,e){super(t,e,!1),this.Ac=t,this.cacheSizeBytes=e,this.synchronizeTabs=!0}initialize(t){var e=()=>super.initialize,i=this;return(0,ye.Z)(function*(){yield e().call(i,t);const r=i.Ac.syncEngine;i.sharedClientState instanceof gk&&(i.sharedClientState.syncEngine={Fr:J6.bind(null,r),$r:tG.bind(null,r),Br:nG.bind(null,r),vi:eG.bind(null,r),Mr:Q6.bind(null,r)},yield i.sharedClientState.start()),yield i.persistence.li(function(){var o=(0,ye.Z)(function*(u){yield function X6(n,t){return lR.apply(this,arguments)}(i.Ac.syncEngine,u),i.gcScheduler&&(u&&!i.gcScheduler.started?i.gcScheduler.start():u||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(u&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():u||i.indexBackfillerScheduler.stop())});return function(u){return o.apply(this,arguments)}}())})()}gc(t){const e=dV();if(!gk.C(e))throw new ke(de.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=ak(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new gk(e,t.asyncQueue,i,t.clientId,t.initialUser)}}class pR{initialize(t,e){var i=this;return(0,ye.Z)(function*(){i.localStore||(i.localStore=t.localStore,i.sharedClientState=t.sharedClientState,i.datastore=i.createDatastore(e),i.remoteStore=i.createRemoteStore(e),i.eventManager=i.createEventManager(e),i.syncEngine=i.createSyncEngine(e,!t.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>IV(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=Y6.bind(null,i.syncEngine),yield Pk(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(t){return new R6}createDatastore(t){const e=jw(t.databaseInfo.databaseId),i=new m6(t.databaseInfo);return new y6(t.authCredentials,t.appCheckCredentials,i,e)}createRemoteStore(t){return e=this.localStore,i=this.datastore,r=t.asyncQueue,o=h=>IV(this.syncEngine,h,0),u=uV.C()?new uV:new h6,new w6(e,i,r,o,u);var e,i,r,o,u}createSyncEngine(t,e){return function(i,r,o,u,h,_,b){const D=new B6(i,r,o,u,h,_);return b&&(D.dc=!0),D}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}terminate(){return(t=(0,ye.Z)(function*(e){const i=Qe(e);Pe("RemoteStore","RemoteStore shutting down."),i._u.add(5),yield sy(i),i.mu.shutdown(),i.gu.set("Unknown")}),function(e){return t.apply(this,arguments)})(this.remoteStore);var t}}function mR(n,t,e){if(!e)throw new ke(de.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function RV(n,t,e,i){if(!0===t&&!0===i)throw new ke(de.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function OV(n){if(!Ye.isDocumentKey(n))throw new ke(de.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function PV(n){if(Ye.isDocumentKey(n))throw new ke(de.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function AS(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const t=(e=n).constructor?e.constructor.name:null;return t?`a custom ${t} object`:"an object"}}var e;return"function"==typeof n?"a function":ot()}function hn(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new ke(de.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=AS(n);throw new ke(de.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}function FV(n,t){if(t<=0)throw new ke(de.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${t}.`)}const NV=new Map;class LV{constructor(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new ke(de.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new ke(de.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,RV("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class $w{constructor(t,e,i,r){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new LV({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new ke(de.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new ke(de.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new LV(t),void 0!==t.credentials&&(this._authCredentials=function(e){if(!e)return new _3;switch(e.type){case"gapi":return new w3(e.client,e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new ke(de.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const e=NV.get(t);e&&(Pe("ComponentProvider","Removing Datastore"),NV.delete(t),e.terminate())}(this),Promise.resolve()}}class ai{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new $c(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new ai(this.firestore,t,this._key)}}class Jr{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new Jr(this.firestore,t,this._query)}}class $c extends Jr{constructor(t,e,i){super(t,e,Z_(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new ai(this.firestore,null,new Ye(t))}withConverter(t){return new $c(this.firestore,t,this._path)}}function BV(n,t,...e){if(n=(0,bn.m9)(n),mR("collection","path",t),n instanceof $w){const i=wn.fromString(t,...e);return PV(i),new $c(n,null,i)}{if(!(n instanceof ai||n instanceof $c))throw new ke(de.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(wn.fromString(t,...e));return PV(i),new $c(n.firestore,null,i)}}function xS(n,t,...e){if(n=(0,bn.m9)(n),1===arguments.length&&(t=nN.R()),mR("doc","path",t),n instanceof $w){const i=wn.fromString(t,...e);return OV(i),new ai(n,null,new Ye(i))}{if(!(n instanceof ai||n instanceof $c))throw new ke(de.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(wn.fromString(t,...e));return OV(i),new ai(n.firestore,n instanceof $c?n.converter:null,new Ye(i))}}function UV(n,t){return n=(0,bn.m9)(n),t=(0,bn.m9)(t),(n instanceof ai||n instanceof $c)&&(t instanceof ai||t instanceof $c)&&n.firestore===t.firestore&&n.path===t.path&&n.converter===t.converter}function gR(n,t){return n=(0,bn.m9)(n),t=(0,bn.m9)(t),n instanceof Jr&&t instanceof Jr&&n.firestore===t.firestore&&Ew(n._query,t._query)&&n.converter===t.converter}function HV(n,t=10240){let e=0;return{read:()=>(0,ye.Z)(function*(){if(e<n.byteLength){const i={value:n.slice(e,e+t),done:!1};return e+=t,i}return{done:!0}})(),cancel:()=>(0,ye.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class kS{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Rc(this.observer.next,t)}error(t){this.observer.error?this.Rc(this.observer.error,t):ji("Uncaught Error in snapshot listener:",t.toString())}bc(){this.muted=!0}Rc(t,e){this.muted||setTimeout(()=>{this.muted||t(e)},0)}}class oG{constructor(t,e){this.Pc=t,this.yt=e,this.metadata=new vr,this.buffer=new Uint8Array,this.vc=new TextDecoder("utf-8"),this.Vc().then(i=>{i&&i.Ou()?this.metadata.resolve(i.ku.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(i?.ku)}`))},i=>this.metadata.reject(i))}close(){return this.Pc.cancel()}getMetadata(){var t=this;return(0,ye.Z)(function*(){return t.metadata.promise})()}mc(){var t=this;return(0,ye.Z)(function*(){return yield t.getMetadata(),t.Vc()})()}Vc(){var t=this;return(0,ye.Z)(function*(){const e=yield t.Sc();if(null===e)return null;const i=t.vc.decode(e),r=Number(i);isNaN(r)&&t.Dc(`length string (${i}) is not valid number`);const o=yield t.Cc(r);return new F6(JSON.parse(o),e.length+r)})()}xc(){return this.buffer.findIndex(t=>t==="{".charCodeAt(0))}Sc(){var t=this;return(0,ye.Z)(function*(){for(;t.xc()<0&&!(yield t.Nc()););if(0===t.buffer.length)return null;const e=t.xc();e<0&&t.Dc("Reached the end of bundle when a length string is expected.");const i=t.buffer.slice(0,e);return t.buffer=t.buffer.slice(e),i})()}Cc(t){var e=this;return(0,ye.Z)(function*(){for(;e.buffer.length<t;)(yield e.Nc())&&e.Dc("Reached the end of bundle when more is expected.");const i=e.vc.decode(e.buffer.slice(0,t));return e.buffer=e.buffer.slice(t),i})()}Dc(t){throw this.Pc.cancel(),new Error(`Invalid bundle format: ${t}`)}Nc(){var t=this;return(0,ye.Z)(function*(){const e=yield t.Pc.read();if(!e.done){const i=new Uint8Array(t.buffer.length+e.value.length);i.set(t.buffer),i.set(e.value,t.buffer.length),t.buffer=i}return e.done})()}}class cG{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(t){var e=this;return(0,ye.Z)(function*(){if(e.ensureCommitNotCalled(),e.mutations.length>0)throw new ke(de.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield(r=(0,ye.Z)(function*(o,u){const h=Qe(o),_=Rw(h.yt)+"/documents",b={documents:u.map(B=>kw(h.yt,B))},D=yield h._o("BatchGetDocuments",_,b,u.length),M=new Map;D.forEach(B=>{const $=function lj(n,t){return"found"in t?function(e,i){vt(!!i.found);const r=Gc(e,i.found.name),o=Gi(i.found.updateTime),u=i.found.createTime?Gi(i.found.createTime):Dt.min(),h=new Qr({mapValue:{fields:i.found.fields}});return oi.newFoundDocument(r,o,u,h)}(n,t):"missing"in t?function(e,i){vt(!!i.missing),vt(!!i.readTime);const r=Gc(e,i.missing),o=Gi(i.readTime);return oi.newNoDocument(r,o)}(n,t):ot()}(h.yt,B);M.set($.key.toString(),$)});const O=[];return u.forEach(B=>{const $=M.get(B.toString());vt(!!$),O.push($)}),O}),function(o,u){return r.apply(this,arguments)})(e.datastore,t);var r;return i.forEach(r=>e.recordVersion(r)),i})()}set(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(t.toString())}delete(t){this.write(new Q_(t,this.precondition(t))),this.writtenDocs.add(t.toString())}commit(){var t=this;return(0,ye.Z)(function*(){if(t.ensureCommitNotCalled(),t.lastWriteError)throw t.lastWriteError;const e=t.readVersions;var i;t.mutations.forEach(i=>{e.delete(i.key.toString())}),e.forEach((i,r)=>{const o=Ye.fromPath(r);t.mutations.push(new jx(o,t.precondition(o)))}),yield(i=(0,ye.Z)(function*(r,o){const u=Qe(r),h=Rw(u.yt)+"/documents",_={writes:o.map(b=>Ow(u.yt,b))};yield u.ao("Commit",h,_)}),function(r,o){return i.apply(this,arguments)})(t.datastore,t.mutations),t.committed=!0})()}recordVersion(t){let e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw ot();e=Dt.min()}const i=this.readVersions.get(t.key.toString());if(i){if(!e.isEqual(i))throw new ke(de.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)}precondition(t){const e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?e.isEqual(Dt.min())?bi.exists(!1):bi.updateTime(e):bi.none()}preconditionForUpdate(t){const e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(Dt.min()))throw new ke(de.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return bi.updateTime(e)}return bi.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}class uG{constructor(t,e,i,r,o){this.asyncQueue=t,this.datastore=e,this.options=i,this.updateFunction=r,this.deferred=o,this.kc=i.maxAttempts,this.xo=new _k(this.asyncQueue,"transaction_retry")}run(){this.kc-=1,this.Oc()}Oc(){var t=this;this.xo.Ro((0,ye.Z)(function*(){const e=new cG(t.datastore),i=t.Mc(e);i&&i.then(r=>{t.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{t.deferred.resolve(r)}).catch(o=>{t.Fc(o)}))}).catch(r=>{t.Fc(r)})}))}Mc(t){try{const e=this.updateFunction(t);return!_w(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}Fc(t){this.kc>0&&this.$c(t)?(this.kc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Oc(),Promise.resolve()))):this.deferred.reject(t)}$c(t){if("FirebaseError"===t.name){const e=t.code;return"aborted"===e||"failed-precondition"===e||"already-exists"===e||!JN(e)}return!1}}class dG{constructor(t,e,i,r){var o=this;this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this.databaseInfo=r,this.user=Rr.UNAUTHENTICATED,this.clientId=nN.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var u=(0,ye.Z)(function*(h){Pe("FirestoreClient","Received user=",h.uid),yield o.authCredentialListener(h),o.user=h});return function(h){return u.apply(this,arguments)}}()),this.appCheckCredentials.start(i,u=>(Pe("FirestoreClient","Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}getConfiguration(){var t=this;return(0,ye.Z)(function*(){return{asyncQueue:t.asyncQueue,databaseInfo:t.databaseInfo,clientId:t.clientId,authCredentials:t.authCredentials,appCheckCredentials:t.appCheckCredentials,initialUser:t.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ke(de.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var t=this;this.asyncQueue.enterRestrictedMode();const e=new vr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,ye.Z)(function*(){try{t.onlineComponents&&(yield t.onlineComponents.terminate()),t.offlineComponents&&(yield t.offlineComponents.terminate()),t.authCredentials.shutdown(),t.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=ly(i,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}function jV(n,t){return _R.apply(this,arguments)}function _R(){return _R=(0,ye.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress(),Pe("FirestoreClient","Initializing OfflineComponentProvider");const e=yield n.getConfiguration();yield t.initialize(e);let i=e.initialUser;n.setCredentialChangeListener(function(){var r=(0,ye.Z)(function*(o){i.isEqual(o)||(yield tV(t.localStore,o),i=o)});return function(o){return r.apply(this,arguments)}}()),t.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=t}),_R.apply(this,arguments)}function GV(n,t){return yR.apply(this,arguments)}function yR(){return yR=(0,ye.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress();const e=yield vR(n);Pe("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield t.initialize(e,i),n.setCredentialChangeListener(r=>yV(t.remoteStore,r)),n.setAppCheckTokenChangeListener((r,o)=>yV(t.remoteStore,o)),n.onlineComponents=t}),yR.apply(this,arguments)}function vR(n){return bR.apply(this,arguments)}function bR(){return bR=(0,ye.Z)(function*(n){return n.offlineComponents||(Pe("FirestoreClient","Using default OfflineComponentProvider"),yield jV(n,new xV)),n.offlineComponents}),bR.apply(this,arguments)}function RS(n){return wR.apply(this,arguments)}function wR(){return wR=(0,ye.Z)(function*(n){return n.onlineComponents||(Pe("FirestoreClient","Using default OnlineComponentProvider"),yield GV(n,new pR)),n.onlineComponents}),wR.apply(this,arguments)}function zV(n){return vR(n).then(t=>t.persistence)}function OS(n){return vR(n).then(t=>t.localStore)}function CR(n){return RS(n).then(t=>t.remoteStore)}function DR(n){return RS(n).then(t=>t.syncEngine)}function hy(n){return ER.apply(this,arguments)}function ER(){return ER=(0,ye.Z)(function*(n){const t=yield RS(n),e=t.eventManager;return e.onListen=U6.bind(null,t.syncEngine),e.onUnlisten=H6.bind(null,t.syncEngine),e}),ER.apply(this,arguments)}function qV(n,t,e={}){const i=new vr;return n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return function(r,o,u,h,_){const b=new kS({next:M=>{o.enqueueAndForget(()=>Bk(r,D));const O=M.docs.has(u);!O&&M.fromCache?_.reject(new ke(de.UNAVAILABLE,"Failed to get document because the client is offline.")):O&&M.fromCache&&h&&"server"===h.source?_.reject(new ke(de.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(M)},error:M=>_.reject(M)}),D=new jk(Z_(u.path),b,{includeMetadataChanges:!0,Nu:!0});return Lk(r,D)}(yield hy(n),n.asyncQueue,t,e,i)})),i.promise}function ZV(n,t,e={}){const i=new vr;return n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return function(r,o,u,h,_){const b=new kS({next:M=>{o.enqueueAndForget(()=>Bk(r,D)),M.fromCache&&"server"===h.source?_.reject(new ke(de.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(M)},error:M=>_.reject(M)}),D=new jk(u,b,{includeMetadataChanges:!0,Nu:!0});return Lk(r,D)}(yield hy(n),n.asyncQueue,t,e,i)})),i.promise}class vG{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.qc=!1,this.Uc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new _k(this,"async_queue_retry"),this.Wc=()=>{const e=IS();e&&Pe("AsyncQueue","Visibility state changed to "+e.visibilityState),this.xo.Po()};const t=IS();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.qc}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.zc(),this.Hc(t)}enterRestrictedMode(t){if(!this.qc){this.qc=!0,this.Qc=t||!1;const e=IS();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Wc)}}enqueue(t){if(this.zc(),this.qc)return new Promise(()=>{});const e=new vr;return this.Hc(()=>this.qc&&this.Qc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Lc.push(t),this.Jc()))}Jc(){var t=this;return(0,ye.Z)(function*(){if(0!==t.Lc.length){try{yield t.Lc[0](),t.Lc.shift(),t.xo.reset()}catch(e){if(!Yh(e))throw e;Pe("AsyncQueue","Operation failed with retryable error: "+e)}t.Lc.length>0&&t.xo.Ro(()=>t.Jc())}})()}Hc(t){const e=this.Bc.then(()=>(this.Gc=!0,t().catch(i=>{throw this.Kc=i,this.Gc=!1,ji("INTERNAL UNHANDLED ERROR: ",function(o){let u=o.message||"";return o.stack&&(u=o.stack.includes(o.message)?o.stack:o.message+"\n"+o.stack),u}(i)),i}).then(i=>(this.Gc=!1,i))));return this.Bc=e,e}enqueueAfterDelay(t,e,i){this.zc(),this.jc.indexOf(t)>-1&&(e=0);const r=Nk.createAndSchedule(this,t,e,i,o=>this.Yc(o));return this.Uc.push(r),r}zc(){this.Kc&&ot()}verifyOperationInProgress(){}Xc(){var t=this;return(0,ye.Z)(function*(){let e;do{e=t.Bc,yield e}while(e!==t.Bc)})()}Zc(t){for(const e of this.Uc)if(e.timerId===t)return!0;return!1}ta(t){return this.Xc().then(()=>{this.Uc.sort((e,i)=>e.targetTimeMs-i.targetTimeMs);for(const e of this.Uc)if(e.skipDelay(),"all"!==t&&e.timerId===t)break;return this.Xc()})}ea(t){this.jc.push(t)}Yc(t){const e=this.Uc.indexOf(t);this.Uc.splice(e,1)}}function SR(n){return function(t,e){if("object"!=typeof t||null===t)return!1;const i=t;for(const r of["next","error","complete"])if(r in i&&"function"==typeof i[r])return!0;return!1}(n)}class bG{constructor(){this._progressObserver={},this._taskCompletionResolver=new vr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(t,e,i){this._progressObserver={next:t,error:e,complete:i}}catch(t){return this._taskCompletionResolver.promise.catch(t)}then(t,e){return this._taskCompletionResolver.promise.then(t,e)}_completeWith(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)}_failWith(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)}_updateProgress(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}class li extends $w{constructor(t,e,i,r){super(t,e,i,r),this.type="firestore",this._queue=new vG,this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||YV(this),this._firestoreClient.terminate()}}function zi(n){return n._firestoreClient||YV(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function YV(n){var t;const e=n._freezeSettings(),i=(o=(null===(t=n._app)||void 0===t?void 0:t.options.appId)||"",new k3(n._databaseId,o,n._persistenceKey,(h=e).host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,h.useFetchStreams));var o,h;n._firestoreClient=new dG(n._authCredentials,n._appCheckCredentials,n._queue,i)}function WV(n,t,e){const i=new vr;return n.asyncQueue.enqueue((0,ye.Z)(function*(){try{yield jV(n,e),yield GV(n,t),i.resolve()}catch(r){const o=r;if(!("FirebaseError"===(u=o).name?u.code===de.FAILED_PRECONDITION||u.code===de.UNIMPLEMENTED:!(typeof DOMException<"u"&&u instanceof DOMException)||22===u.code||20===u.code||11===u.code))throw o;rm("Error enabling offline persistence. Falling back to persistence disabled: "+o),i.reject(o)}var u})).then(()=>i.promise)}function KV(n){if(n._initialized||n._terminated)throw new ke(de.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class qc{constructor(t){this._byteString=t}static fromBase64String(t){try{return new qc(br.fromBase64String(t))}catch(e){throw new ke(de.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new qc(br.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}class _d{constructor(...t){for(let e=0;e<t.length;++e)if(0===t[e].length)throw new ke(de.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ri(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Cm{constructor(t){this._methodName=t}}class PS{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new ke(de.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new ke(de.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Zt(this._lat,t._lat)||Zt(this._long,t._long)}}const xG=/^__.*__$/;class kG{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return null!==this.fieldMask?new pd(t,this.data,this.fieldMask,e,this.fieldTransforms):new K_(t,this.data,e,this.fieldTransforms)}}class QV{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return new pd(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function JV(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ot()}}class FS{constructor(t,e,i,r,o,u){this.settings=t,this.databaseId=e,this.yt=i,this.ignoreUndefinedProperties=r,void 0===o&&this.na(),this.fieldTransforms=o||[],this.fieldMask=u||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(t){return new FS(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.yt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.ia({path:i,oa:!1});return r.ua(t),r}ca(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.ia({path:i,oa:!1});return r.na(),r}aa(t){return this.ia({path:void 0,oa:!0})}ha(t){return VS(t,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(t){return void 0!==this.fieldMask.find(e=>t.isPrefixOf(e))||void 0!==this.fieldTransforms.find(e=>t.isPrefixOf(e.field))}na(){if(this.path)for(let t=0;t<this.path.length;t++)this.ua(this.path.get(t))}ua(t){if(0===t.length)throw this.ha("Document fields must not be empty");if(JV(this.sa)&&xG.test(t))throw this.ha('Document fields cannot begin and end with "__"')}}class RG{constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.yt=i||jw(t)}da(t,e,i,r=!1){return new FS({sa:t,methodName:e,fa:i,path:Ri.emptyPath(),oa:!1,la:r},this.databaseId,this.yt,this.ignoreUndefinedProperties)}}function Dm(n){const t=n._freezeSettings(),e=jw(n._databaseId);return new RG(n._databaseId,!!t.ignoreUndefinedProperties,e)}function NS(n,t,e,i,r,o={}){const u=n.da(o.merge||o.mergeFields?2:0,t,e,r);AR("Data must be an object, but it was:",u,i);const h=t2(i,u);let _,b;if(o.merge)_=new Zo(u.fieldMask),b=u.fieldTransforms;else if(o.mergeFields){const D=[];for(const M of o.mergeFields){const O=xR(t,M,e);if(!u.contains(O))throw new ke(de.INVALID_ARGUMENT,`Field '${O}' is specified in your field mask but missing from your input data.`);r2(D,O)||D.push(O)}_=new Zo(D),b=u.fieldTransforms.filter(M=>_.covers(M.field))}else _=null,b=u.fieldTransforms;return new kG(new Qr(h),_,b)}class qw extends Cm{_toFieldTransform(t){if(2!==t.sa)throw t.ha(1===t.sa?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof qw}}function XV(n,t,e){return new FS({sa:3,fa:t.settings.fa,methodName:n._methodName,oa:e},t.databaseId,t.yt,t.ignoreUndefinedProperties)}class IR extends Cm{_toFieldTransform(t){return new Sw(t.path,new Y_)}isEqual(t){return t instanceof IR}}class OG extends Cm{constructor(t,e){super(t),this._a=e}_toFieldTransform(t){const e=XV(this,t,!0),i=this._a.map(o=>Em(o,e)),r=new fm(i);return new Sw(t.path,r)}isEqual(t){return this===t}}class PG extends Cm{constructor(t,e){super(t),this._a=e}_toFieldTransform(t){const e=XV(this,t,!0),i=this._a.map(o=>Em(o,e)),r=new pm(i);return new Sw(t.path,r)}isEqual(t){return this===t}}class FG extends Cm{constructor(t,e){super(t),this.wa=e}_toFieldTransform(t){const e=new W_(t.yt,HN(t.yt,this.wa));return new Sw(t.path,e)}isEqual(t){return this===t}}function MR(n,t,e,i){const r=n.da(1,t,e);AR("Data must be an object, but it was:",r,i);const o=[],u=Qr.empty();am(i,(_,b)=>{const D=LS(t,_,e);b=(0,bn.m9)(b);const M=r.ca(D);if(b instanceof qw)o.push(D);else{const O=Em(b,M);null!=O&&(o.push(D),u.set(D,O))}});const h=new Zo(o);return new QV(u,h,r.fieldTransforms)}function TR(n,t,e,i,r,o){const u=n.da(1,t,e),h=[xR(t,i,e)],_=[r];if(o.length%2!=0)throw new ke(de.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let O=0;O<o.length;O+=2)h.push(xR(t,o[O])),_.push(o[O+1]);const b=[],D=Qr.empty();for(let O=h.length-1;O>=0;--O)if(!r2(b,h[O])){const B=h[O];let $=_[O];$=(0,bn.m9)($);const ne=u.ca(B);if($ instanceof qw)b.push(B);else{const ce=Em($,ne);null!=ce&&(b.push(B),D.set(B,ce))}}const M=new Zo(b);return new QV(D,M,u.fieldTransforms)}function e2(n,t,e,i=!1){return Em(e,n.da(i?4:3,t))}function Em(n,t){if(n2(n=(0,bn.m9)(n)))return AR("Unsupported field value:",t,n),t2(n,t);if(n instanceof Cm)return function(e,i){if(!JV(i.sa))throw i.ha(`${e._methodName}() can only be used with update() and set()`);if(!i.path)throw i.ha(`${e._methodName}() is not currently supported inside arrays`);const r=e._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(n,t),null;if(void 0===n&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.oa&&4!==t.sa)throw t.ha("Nested arrays are not supported");return function(e,i){const r=[];let o=0;for(const u of e){let h=Em(u,i.aa(o));null==h&&(h={nullValue:"NULL_VALUE"}),r.push(h),o++}return{arrayValue:{values:r}}}(n,t)}return function(e,i){if(null===(e=(0,bn.m9)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return HN(i.yt,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const r=vi.fromDate(e);return{timestampValue:J_(i.yt,r)}}if(e instanceof vi){const r=new vi(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:J_(i.yt,r)}}if(e instanceof PS)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof qc)return{bytesValue:lL(i.yt,e._byteString)};if(e instanceof ai){const r=i.databaseId,o=e.firestore._databaseId;if(!o.isEqual(r))throw i.ha(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:Gx(e.firestore._databaseId||i.databaseId,e._key.path)}}throw i.ha(`Unsupported field value: ${AS(e)}`)}(n,t)}function t2(n,t){const e={};return uN(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):am(n,(i,r)=>{const o=Em(r,t.ra(i));null!=o&&(e[i]=o)}),{mapValue:{fields:e}}}function n2(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof vi||n instanceof PS||n instanceof qc||n instanceof ai||n instanceof Cm)}function AR(n,t,e){if(!n2(e)||"object"!=typeof(i=e)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=AS(e);throw t.ha("an object"===i?n+" a custom object":n+" "+i)}var i}function xR(n,t,e){if((t=(0,bn.m9)(t))instanceof _d)return t._internalPath;if("string"==typeof t)return LS(n,t);throw VS("Field path arguments must be of type string or ",n,!1,void 0,e)}const NG=new RegExp("[~\\*/\\[\\]]");function LS(n,t,e){if(t.search(NG)>=0)throw VS(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new _d(...t.split("."))._internalPath}catch{throw VS(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function VS(n,t,e,i,r){const o=i&&!i.isEmpty(),u=void 0!==r;let h=`Function ${t}() called with invalid data`;e&&(h+=" (via `toFirestore()`)"),h+=". ";let _="";return(o||u)&&(_+=" (found",o&&(_+=` in field ${i}`),u&&(_+=` in document ${r}`),_+=")"),new ke(de.INVALID_ARGUMENT,h+n+_)}function r2(n,t){return n.some(e=>e.isEqual(t))}class Zw{constructor(t,e,i,r,o){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new ai(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new LG(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(BS("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}}}class LG extends Zw{data(){return super.data()}}function BS(n,t){return"string"==typeof t?LS(n,t):t instanceof _d?t._internalPath:t._delegate._internalPath}function s2(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new ke(de.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class kR{}class Yw extends kR{}function lf(n,t,...e){let i=[];t instanceof kR&&i.push(t),i=i.concat(e),function(r){const o=r.filter(h=>h instanceof fy).length,u=r.filter(h=>h instanceof Ww).length;if(o>1||o>0&&u>0)throw new ke(de.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const r of i)n=r._apply(n);return n}class Ww extends Yw{constructor(t,e,i){super(),this._field=t,this._op=e,this._value=i,this.type="where"}static _create(t,e,i){return new Ww(t,e,i)}_apply(t){const e=this._parse(t);return c2(t._query,e),new Jr(t.firestore,t.converter,Bx(t._query,e))}_parse(t){const e=Dm(t.firestore);return function(r,o,u,h,_,b,D){let M;if(_.isKeyField()){if("array-contains"===b||"array-contains-any"===b)throw new ke(de.INVALID_ARGUMENT,`Invalid Query. You can't perform '${b}' queries on documentId().`);if("in"===b||"not-in"===b){l2(D,b);const O=[];for(const B of D)O.push(a2(h,r,B));M={arrayValue:{values:O}}}else M=a2(h,r,D)}else"in"!==b&&"not-in"!==b&&"array-contains-any"!==b||l2(D,b),M=e2(u,"where",D,"in"===b||"not-in"===b);return dn.create(_,b,M)}(t._query,0,e,t.firestore._databaseId,this._field,this._op,this._value)}}class fy extends kR{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new fy(t,e)}_parse(t){const e=this._queryConstraints.map(i=>i._parse(t)).filter(i=>i.getFilters().length>0);return 1===e.length?e[0]:Un.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return 0===e.getFilters().length?t:(function(i,r){let o=i;const u=r.getFlattenedFilters();for(const h of u)c2(o,h),o=Bx(o,h)}(t._query,e),new Jr(t.firestore,t.converter,Bx(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class RR extends Yw{constructor(t,e){super(),this._field=t,this._direction=e,this.type="orderBy"}static _create(t,e){return new RR(t,e)}_apply(t){const e=function(i,r,o){if(null!==i.startAt)throw new ke(de.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new ke(de.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const u=new $_(r,o);return function(h,_){if(null===Lx(h)){const b=sS(h);null!==b&&u2(0,b,_.field)}}(i,u),u}(t._query,this._field,this._direction);return new Jr(t.firestore,t.converter,function(i,r){const o=i.explicitOrderBy.concat([r]);return new fd(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(t._query,e))}}class US extends Yw{constructor(t,e,i){super(),this.type=t,this._limit=e,this._limitType=i}static _create(t,e,i){return new US(t,e,i)}_apply(t){return new Jr(t.firestore,t.converter,oS(t._query,this._limit,this._limitType))}}class HS extends Yw{constructor(t,e,i){super(),this.type=t,this._docOrFields=e,this._inclusive=i}static _create(t,e,i){return new HS(t,e,i)}_apply(t){const e=o2(t,this.type,this._docOrFields,this._inclusive);return new Jr(t.firestore,t.converter,(r=e,new fd((i=t._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,r,i.endAt)));var i,r}}class jS extends Yw{constructor(t,e,i){super(),this.type=t,this._docOrFields=e,this._inclusive=i}static _create(t,e,i){return new jS(t,e,i)}_apply(t){const e=o2(t,this.type,this._docOrFields,this._inclusive);return new Jr(t.firestore,t.converter,(r=e,new fd((i=t._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,r)));var i,r}}function o2(n,t,e,i){if(e[0]=(0,bn.m9)(e[0]),e[0]instanceof Zw)return function(r,o,u,h,_){if(!h)throw new ke(de.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${u}().`);const b=[];for(const D of hm(r))if(D.field.isKeyField())b.push(um(o,h.key));else{const M=h.data.field(D.field);if(Rx(M))throw new ke(de.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+D.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===M){const O=D.field.canonicalString();throw new ke(de.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${O}' (used as the orderBy) does not exist.`)}b.push(M)}return new Xh(b,_)}(n._query,n.firestore._databaseId,t,e[0]._document,i);{const r=Dm(n.firestore);return function(o,u,h,_,b,D){const M=o.explicitOrderBy;if(b.length>M.length)throw new ke(de.INVALID_ARGUMENT,`Too many arguments provided to ${_}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const O=[];for(let B=0;B<b.length;B++){const $=b[B];if(M[B].field.isKeyField()){if("string"!=typeof $)throw new ke(de.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${_}(), but got a ${typeof $}`);if(!Vx(o)&&-1!==$.indexOf("/"))throw new ke(de.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${_}() must be a plain document ID, but '${$}' contains a slash.`);const ne=o.path.child(wn.fromString($));if(!Ye.isDocumentKey(ne))throw new ke(de.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${_}() must result in a valid document path, but '${ne}' is not because it contains an odd number of segments.`);const ce=new Ye(ne);O.push(um(u,ce))}else{const ne=e2(h,_,$);O.push(ne)}}return new Xh(O,D)}(n._query,n.firestore._databaseId,r,t,e,i)}}function a2(n,t,e){if("string"==typeof(e=(0,bn.m9)(e))){if(""===e)throw new ke(de.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Vx(t)&&-1!==e.indexOf("/"))throw new ke(de.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const i=t.path.child(wn.fromString(e));if(!Ye.isDocumentKey(i))throw new ke(de.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return um(n,new Ye(i))}if(e instanceof ai)return um(n,e._key);throw new ke(de.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${AS(e)}.`)}function l2(n,t){if(!Array.isArray(n)||0===n.length)throw new ke(de.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`);if(n.length>10)throw new ke(de.INVALID_ARGUMENT,`Invalid Query. '${t.toString()}' filters support a maximum of 10 elements in the value array.`)}function c2(n,t){if(t.isInequality()){const i=sS(n),r=t.field;if(null!==i&&!i.isEqual(r))throw new ke(de.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${i.toString()}' and '${r.toString()}'`);const o=Lx(n);null!==o&&u2(0,r,o)}const e=function(i,r){for(const o of i)for(const u of o.getFlattenedFilters())if(r.indexOf(u.op)>=0)return u.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==e)throw new ke(de.INVALID_ARGUMENT,e===t.op?`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`:`Invalid query. You cannot use '${t.op.toString()}' filters with '${e.toString()}' filters.`)}function u2(n,t,e){if(!e.isEqual(t))throw new ke(de.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${e.toString()}' instead.`)}class OR{convertValue(t,e="none"){switch(cm(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Oi(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(lm(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw ot()}}convertObject(t,e){const i={};return am(t.fields,(r,o)=>{i[r]=this.convertValue(o,e)}),i}convertGeoPoint(t){return new PS(Oi(t.latitude),Oi(t.longitude))}convertArray(t,e){return(t.values||[]).map(i=>this.convertValue(i,e))}convertServerTimestamp(t,e){switch(e){case"previous":const i=hN(t);return null==i?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(vw(t));default:return null}}convertTimestamp(t){const e=Kh(t);return new vi(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=wn.fromString(t);vt(yL(i));const r=new Wh(i.get(1),i.get(3)),o=new Ye(i.popFirst(5));return r.isEqual(e)||ji(`Document ${o} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),o}}function GS(n,t,e){let i;return i=n?e&&(e.merge||e.mergeFields)?n.toFirestore(t,e):n.toFirestore(t):t,i}class qG extends OR{constructor(t){super(),this.firestore=t}convertBytes(t){return new qc(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new ai(this.firestore,null,e)}}class Sm{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class yd extends Zw{constructor(t,e,i,r,o,u){super(t,e,i,r,u),this._firestore=t,this._firestoreImpl=t,this.metadata=o}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new Kw(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field(BS("DocumentSnapshot.get",t));if(null!==i)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}}class Kw extends yd{data(t={}){return super.data(t)}}class cf{constructor(t,e,i,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new Sm(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,e){this._snapshot.docs.forEach(i=>{t.call(e,new Kw(this._firestore,this._userDataWriter,i.key,i,new Sm(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new ke(de.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(u=>({type:"added",doc:new Kw(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Sm(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:o++}))}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(u=>r||3!==u.type).map(u=>{const h=new Kw(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Sm(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let _=-1,b=-1;return 0!==u.type&&(_=o.indexOf(u.doc.key),o=o.delete(u.doc.key)),1!==u.type&&(o=o.add(u.doc),b=o.indexOf(u.doc.key)),{type:ZG(u.type),doc:h,oldIndex:_,newIndex:b}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function ZG(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ot()}}function h2(n,t){return n instanceof yd&&t instanceof yd?n._firestore===t._firestore&&n._key.isEqual(t._key)&&(null===n._document?null===t._document:n._document.isEqual(t._document))&&n._converter===t._converter:n instanceof cf&&t instanceof cf&&n._firestore===t._firestore&&gR(n.query,t.query)&&n.metadata.isEqual(t.metadata)&&n._snapshot.isEqual(t._snapshot)}class uf extends OR{constructor(t){super(),this.firestore=t}convertBytes(t){return new qc(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new ai(this.firestore,null,e)}}function f2(n,t,e){n=hn(n,ai);const i=hn(n.firestore,li),r=GS(n.converter,t,e);return py(i,[NS(Dm(i),"setDoc",n._key,r,null!==n.converter,e).toMutation(n._key,bi.none())])}function p2(n,t,e,...i){n=hn(n,ai);const r=hn(n.firestore,li),o=Dm(r);let u;return u="string"==typeof(t=(0,bn.m9)(t))||t instanceof _d?TR(o,"updateDoc",n._key,t,e,i):MR(o,"updateDoc",n._key,t),py(r,[u.toMutation(n._key,bi.exists(!0))])}function m2(n,...t){var e,i,r;n=(0,bn.m9)(n);let o={includeMetadataChanges:!1},u=0;"object"!=typeof t[u]||SR(t[u])||(o=t[u],u++);const h={includeMetadataChanges:o.includeMetadataChanges};if(SR(t[u])){const M=t[u];t[u]=null===(e=M.next)||void 0===e?void 0:e.bind(M),t[u+1]=null===(i=M.error)||void 0===i?void 0:i.bind(M),t[u+2]=null===(r=M.complete)||void 0===r?void 0:r.bind(M)}let _,b,D;if(n instanceof ai)b=hn(n.firestore,li),D=Z_(n._key.path),_={next:M=>{t[u]&&t[u](PR(b,n,M))},error:t[u+1],complete:t[u+2]};else{const M=hn(n,Jr);b=hn(M.firestore,li),D=M._query;const O=new uf(b);_={next:B=>{t[u]&&t[u](new cf(b,O,M,B))},error:t[u+1],complete:t[u+2]},s2(n._query)}return function(M,O,B,$){const ne=new kS($),ce=new jk(O,ne,B);return M.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return Lk(yield hy(M),ce)})),()=>{ne.bc(),M.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return Bk(yield hy(M),ce)}))}}(zi(b),D,h,_)}function py(n,t){return function(e,i){const r=new vr;return e.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return function j6(n,t,e){return Zk.apply(this,arguments)}(yield DR(e),i,r)})),r.promise}(zi(n),t)}function PR(n,t,e){const i=e.docs.get(t._key),r=new uf(n);return new yd(n,r,t._key,i,new Sm(e.hasPendingWrites,e.fromCache),t.converter)}const iz={maxAttempts:5};class g2{constructor(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=Dm(t)}set(t,e,i){this._verifyNotCommitted();const r=df(t,this._firestore),o=GS(r.converter,e,i),u=NS(this._dataReader,"WriteBatch.set",r._key,o,null!==r.converter,i);return this._mutations.push(u.toMutation(r._key,bi.none())),this}update(t,e,i,...r){this._verifyNotCommitted();const o=df(t,this._firestore);let u;return u="string"==typeof(e=(0,bn.m9)(e))||e instanceof _d?TR(this._dataReader,"WriteBatch.update",o._key,e,i,r):MR(this._dataReader,"WriteBatch.update",o._key,e),this._mutations.push(u.toMutation(o._key,bi.exists(!0))),this}delete(t){this._verifyNotCommitted();const e=df(t,this._firestore);return this._mutations=this._mutations.concat(new Q_(e._key,bi.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ke(de.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function df(n,t){if((n=(0,bn.m9)(n)).firestore!==t)throw new ke(de.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class rz extends class{constructor(t,e){this._firestore=t,this._transaction=e,this._dataReader=Dm(t)}get(t){const e=df(t,this._firestore),i=new qG(this._firestore);return this._transaction.lookup([e._key]).then(r=>{if(!r||1!==r.length)return ot();const o=r[0];if(o.isFoundDocument())return new Zw(this._firestore,i,o.key,o,e.converter);if(o.isNoDocument())return new Zw(this._firestore,i,e._key,null,e.converter);throw ot()})}set(t,e,i){const r=df(t,this._firestore),o=GS(r.converter,e,i),u=NS(this._dataReader,"Transaction.set",r._key,o,null!==r.converter,i);return this._transaction.set(r._key,u),this}update(t,e,i,...r){const o=df(t,this._firestore);let u;return u="string"==typeof(e=(0,bn.m9)(e))||e instanceof _d?TR(this._dataReader,"Transaction.update",o._key,e,i,r):MR(this._dataReader,"Transaction.update",o._key,e),this._transaction.update(o._key,u),this}delete(t){const e=df(t,this._firestore);return this._transaction.delete(e._key),this}}{constructor(t,e){super(t,e),this._firestore=t}get(t){const e=df(t,this._firestore),i=new uf(this._firestore);return super.get(t).then(r=>new yd(this._firestore,i,e._key,r._document,new Sm(!1,!1),e.converter))}}function FR(n,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new ke("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return t}function y2(){if(typeof Uint8Array>"u")throw new ke("unimplemented","Uint8Arrays are not available in this environment.")}function v2(){if(!function R3(){return typeof atob<"u"}())throw new ke("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,t=!0){H_=Xi.SDK_VERSION,(0,Xi._registerComponent)(new w_.wA("firestore",(e,{instanceIdentifier:i,options:r})=>{const o=e.getProvider("app").getImmediate(),u=new li(new v3(e.getProvider("auth-internal")),new C3(e.getProvider("app-check-internal")),function(h,_){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new ke(de.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Wh(h.options.projectId,_)}(o,i),o);return r=Object.assign({useFetchStreams:t},r),u._setSettings(r),u},"PUBLIC").setMultipleInstances(!0)),(0,Xi.registerVersion)(XF,"3.8.0",n),(0,Xi.registerVersion)(XF,"3.8.0","esm2017")}();class Qw{constructor(t){this._delegate=t}static fromBase64String(t){return v2(),new Qw(qc.fromBase64String(t))}static fromUint8Array(t){return y2(),new Qw(qc.fromUint8Array(t))}toBase64(){return v2(),this._delegate.toBase64()}toUint8Array(){return y2(),this._delegate.toUint8Array()}isEqual(t){return this._delegate.isEqual(t._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function NR(n){return function fz(n,t){if("object"!=typeof n||null===n)return!1;const e=n;for(const i of t)if(i in e&&"function"==typeof e[i])return!0;return!1}(n,["next","error","complete"])}class pz{enableIndexedDbPersistence(t,e){return function CG(n,t){KV(n=hn(n,li));const e=zi(n),i=n._freezeSettings(),r=new pR;return WV(e,r,new kV(r,i.cacheSizeBytes,t?.forceOwnership))}(t._delegate,{forceOwnership:e})}enableMultiTabIndexedDbPersistence(t){return function DG(n){KV(n=hn(n,li));const t=zi(n),e=n._freezeSettings(),i=new pR;return WV(t,i,new rG(i,e.cacheSizeBytes))}(t._delegate)}clearIndexedDbPersistence(t){return function EG(n){if(n._initialized&&!n._terminated)throw new ke(de.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new vr;return n._queue.enqueueAndForgetEvenWhileRestricted((0,ye.Z)(function*(){try{yield(e=(0,ye.Z)(function*(i){if(!xl.C())return Promise.resolve();const r=i+"main";yield xl.delete(r)}),function(i){return e.apply(this,arguments)})(ak(n._databaseId,n._persistenceKey)),t.resolve()}catch(e){t.reject(e)}var e})),t.promise}(t._delegate)}}class b2{constructor(t,e,i){this._delegate=e,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},t instanceof Wh||(this._appCompat=t)}get _databaseId(){return this._delegate._databaseId}settings(t){const e=this._delegate._getSettings();!t.merge&&e.host!==t.host&&rm("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)}useEmulator(t,e,i={}){!function VV(n,t,e,i={}){var r;const o=(n=hn(n,$w))._getSettings();if("firestore.googleapis.com"!==o.host&&o.host!==t&&rm("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},o),{host:`${t}:${e}`,ssl:!1})),i.mockUserToken){let u,h;if("string"==typeof i.mockUserToken)u=i.mockUserToken,h=Rr.MOCK_USER;else{u=(0,bn.Sg)(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const _=i.mockUserToken.sub||i.mockUserToken.user_id;if(!_)throw new ke(de.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new Rr(_)}n._authCredentials=new y3(new eN(u,h))}}(this._delegate,t,e,i)}enableNetwork(){return function IG(n){return function hG(n){return n.asyncQueue.enqueue((0,ye.Z)(function*(){const t=yield zV(n),e=yield CR(n);return t.setNetworkEnabled(!0),function(i){const r=Qe(i);return r._u.delete(0),Gw(r)}(e)}))}(zi(n=hn(n,li)))}(this._delegate)}disableNetwork(){return function MG(n){return function fG(n){return n.asyncQueue.enqueue((0,ye.Z)(function*(){const t=yield zV(n),e=yield CR(n);return t.setNetworkEnabled(!1),(i=(0,ye.Z)(function*(r){const o=Qe(r);o._u.add(0),yield sy(o),o.gu.set("Offline")}),function(r){return i.apply(this,arguments)})(e);var i}))}(zi(n=hn(n,li)))}(this._delegate)}enablePersistence(t){let e=!1,i=!1;return t&&(e=!!t.synchronizeTabs,i=!!t.experimentalForceOwningTab,RV("synchronizeTabs",e,"experimentalForceOwningTab",i)),e?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function SG(n){return function(t){const e=new vr;return t.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return function q6(n,t){return Jk.apply(this,arguments)}(yield DR(t),e)})),e.promise}(zi(n=hn(n,li)))}(this._delegate)}onSnapshotsInSync(t){return function nz(n,t){return function gG(n,t){const e=new kS(t);return n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return i=yield hy(n),r=e,Qe(i).Ru.add(r),void r.next();var i,r})),()=>{e.bc(),n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return i=yield hy(n),r=e,void Qe(i).Ru.delete(r);var i,r}))}}(zi(n=hn(n,li)),SR(t)?t:{next:t})}(this._delegate,t)}get app(){if(!this._appCompat)throw new ke("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(t){try{return new my(this,BV(this._delegate,t))}catch(e){throw Ps(e,"collection()","Firestore.collection()")}}doc(t){try{return new Oa(this,xS(this._delegate,t))}catch(e){throw Ps(e,"doc()","Firestore.doc()")}}collectionGroup(t){try{return new Fs(this,function sG(n,t){if(n=hn(n,$w),mR("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new ke(de.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Jr(n,null,(e=t,new fd(wn.emptyPath(),e)));var e}(this._delegate,t))}catch(e){throw Ps(e,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(t){return function sz(n,t,e){n=hn(n,li);const i=Object.assign(Object.assign({},iz),e);return function(r){if(r.maxAttempts<1)throw new ke(de.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function(r,o,u){const h=new vr;return r.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){const _=yield function $V(n){return RS(n).then(t=>t.datastore)}(r);new uG(r.asyncQueue,_,u,o,h).run()})),h.promise}(zi(n),r=>t(new rz(n,r)),i)}(this._delegate,e=>t(new w2(this,e)))}batch(){return zi(this._delegate),new C2(new g2(this._delegate,t=>py(this._delegate,t)))}loadBundle(t){return function TG(n,t){const e=zi(n=hn(n,li)),i=new bG;return function _G(n,t,e,i){const r=function(o,u){let h;return h="string"==typeof o?(new TextEncoder).encode(o):o,_=function(_,b){if(_ instanceof Uint8Array)return HV(_,b);if(_ instanceof ArrayBuffer)return HV(new Uint8Array(_),b);if(_ instanceof ReadableStream)return _.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(h),new oG(_,u);var _}(e,jw(t));n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){!function iG(n,t,e){const i=Qe(n);var r;(r=(0,ye.Z)(function*(o,u,h){try{const _=yield u.getMetadata();if(yield function(O,B){const $=Qe(O),ne=Gi(B.createTime);return $.persistence.runTransaction("hasNewerBundle","readonly",ce=>$.Ns.getBundleMetadata(ce,B.id)).then(ce=>!!ce&&ce.createTime.compareTo(ne)>=0)}(o.localStore,_))return yield u.close(),h._completeWith({taskState:"Success",documentsLoaded:(O=_).totalDocuments,bytesLoaded:O.totalBytes,totalDocuments:O.totalDocuments,totalBytes:O.totalBytes}),Promise.resolve(new Set);h._updateProgress(wV(_));const b=new N6(_,o.localStore,u.yt);let D=yield u.mc();for(;D;){const O=yield b.Fu(D);O&&h._updateProgress(O),D=yield u.mc()}const M=yield b.complete();return yield gd(o,M.Lu,void 0),yield function(O,B){const $=Qe(O);return $.persistence.runTransaction("Save bundle","readwrite",ne=>$.Ns.saveBundleMetadata(ne,B))}(o.localStore,_),h._completeWith(M.progress),Promise.resolve(M.Bu)}catch(_){return rm("SyncEngine",`Loading bundle failed with ${_}`),h._failWith(_),Promise.resolve(new Set)}var O}),function(o,u,h){return r.apply(this,arguments)})(i,t,e).then(r=>{i.sharedClientState.notifyBundleLoaded(r)})}(yield DR(n),r,i)}))}(e,n._databaseId,t,i),i}(this._delegate,t)}namedQuery(t){return function AG(n,t){return function yG(n,t){return n.asyncQueue.enqueue((0,ye.Z)(function*(){return function(e,i){const r=Qe(e);return r.persistence.runTransaction("Get named query","readonly",o=>r.Ns.getNamedQuery(o,i))}(yield OS(n),t)}))}(zi(n=hn(n,li)),t).then(e=>e?new Jr(n,null,e.query):null)}(this._delegate,t).then(e=>e?new Fs(this,e):null)}}class zS extends OR{constructor(t){super(),this.firestore=t}convertBytes(t){return new Qw(new qc(t))}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return Oa.forKey(e,this.firestore,null)}}class w2{constructor(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new zS(t)}get(t){const e=Mm(t);return this._delegate.get(e).then(i=>new Jw(this._firestore,new yd(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,e.converter)))}set(t,e,i){const r=Mm(t);return i?(FR("Transaction.set",i),this._delegate.set(r,e,i)):this._delegate.set(r,e),this}update(t,e,i,...r){const o=Mm(t);return 2===arguments.length?this._delegate.update(o,e):this._delegate.update(o,e,i,...r),this}delete(t){const e=Mm(t);return this._delegate.delete(e),this}}class C2{constructor(t){this._delegate=t}set(t,e,i){const r=Mm(t);return i?(FR("WriteBatch.set",i),this._delegate.set(r,e,i)):this._delegate.set(r,e),this}update(t,e,i,...r){const o=Mm(t);return 2===arguments.length?this._delegate.update(o,e):this._delegate.update(o,e,i,...r),this}delete(t){const e=Mm(t);return this._delegate.delete(e),this}commit(){return this._delegate.commit()}}class Im{constructor(t,e,i){this._firestore=t,this._userDataWriter=e,this._delegate=i}fromFirestore(t,e){const i=new Kw(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new Xw(this._firestore,i),e??{})}toFirestore(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)}static getInstance(t,e){const i=Im.INSTANCES;let r=i.get(t);r||(r=new WeakMap,i.set(t,r));let o=r.get(e);return o||(o=new Im(t,new zS(t),e),r.set(e,o)),o}}Im.INSTANCES=new WeakMap;class Oa{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new zS(t)}static forPath(t,e,i){if(t.length%2!=0)throw new ke("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${t.canonicalString()} has ${t.length}`);return new Oa(e,new ai(e._delegate,i,new Ye(t)))}static forKey(t,e,i){return new Oa(e,new ai(e._delegate,i,t))}get id(){return this._delegate.id}get parent(){return new my(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(t){try{return new my(this.firestore,BV(this._delegate,t))}catch(e){throw Ps(e,"collection()","DocumentReference.collection()")}}isEqual(t){return(t=(0,bn.m9)(t))instanceof ai&&UV(this._delegate,t)}set(t,e){e=FR("DocumentReference.set",e);try{return e?f2(this._delegate,t,e):f2(this._delegate,t)}catch(i){throw Ps(i,"setDoc()","DocumentReference.set()")}}update(t,e,...i){try{return 1===arguments.length?p2(this._delegate,t):p2(this._delegate,t,e,...i)}catch(r){throw Ps(r,"updateDoc()","DocumentReference.update()")}}delete(){return function ez(n){return py(hn(n.firestore,li),[new Q_(n._key,bi.none())])}(this._delegate)}onSnapshot(...t){const e=D2(t),i=E2(t,r=>new Jw(this.firestore,new yd(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return m2(this._delegate,e,i)}get(t){let e;return e="cache"===t?.source?function WG(n){n=hn(n,ai);const t=hn(n.firestore,li),e=zi(t),i=new uf(t);return function pG(n,t){const e=new vr;return n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return(i=(0,ye.Z)(function*(r,o,u){try{const h=yield function(_,b){const D=Qe(_);return D.persistence.runTransaction("read document","readonly",M=>D.localDocuments.getDocument(M,b))}(r,o);h.isFoundDocument()?u.resolve(h):h.isNoDocument()?u.resolve(null):u.reject(new ke(de.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(h){const _=ly(h,`Failed to get document '${o} from cache`);u.reject(_)}}),function(r,o,u){return i.apply(this,arguments)})(yield OS(n),t,e);var i})),e.promise}(e,n._key).then(r=>new yd(t,i,n._key,r,new Sm(null!==r&&r.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===t?.source?function KG(n){n=hn(n,ai);const t=hn(n.firestore,li);return qV(zi(t),n._key,{source:"server"}).then(e=>PR(t,n,e))}(this._delegate):function YG(n){n=hn(n,ai);const t=hn(n.firestore,li);return qV(zi(t),n._key).then(e=>PR(t,n,e))}(this._delegate),e.then(i=>new Jw(this.firestore,new yd(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(t){return new Oa(this.firestore,this._delegate.withConverter(t?Im.getInstance(this.firestore,t):null))}}function Ps(n,t,e){return n.message=n.message.replace(t,e),n}function D2(n){for(const t of n)if("object"==typeof t&&!NR(t))return t;return{}}function E2(n,t){var e,i;let r;return r=NR(n[0])?n[0]:NR(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:o=>{r.next&&r.next(t(o))},error:null===(e=r.error)||void 0===e?void 0:e.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}class Jw{constructor(t,e){this._firestore=t,this._delegate=e}get ref(){return new Oa(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(t){return this._delegate.data(t)}get(t,e){return this._delegate.get(t,e)}isEqual(t){return h2(this._delegate,t._delegate)}}class Xw extends Jw{data(t){const e=this._delegate.data(t);return function g3(n,t){n||ot()}(void 0!==e),e}}class Fs{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new zS(t)}where(t,e,i){try{return new Fs(this.firestore,lf(this._delegate,function VG(n,t,e){const i=t,r=BS("where",n);return Ww._create(r,i,e)}(t,e,i)))}catch(r){throw Ps(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(t,e){try{return new Fs(this.firestore,lf(this._delegate,function BG(n,t="asc"){const e=t,i=BS("orderBy",n);return RR._create(i,e)}(t,e)))}catch(i){throw Ps(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(t){try{return new Fs(this.firestore,lf(this._delegate,function UG(n){return FV("limit",n),US._create("limit",n,"F")}(t)))}catch(e){throw Ps(e,"limit()","Query.limit()")}}limitToLast(t){try{return new Fs(this.firestore,lf(this._delegate,function HG(n){return FV("limitToLast",n),US._create("limitToLast",n,"L")}(t)))}catch(e){throw Ps(e,"limitToLast()","Query.limitToLast()")}}startAt(...t){try{return new Fs(this.firestore,lf(this._delegate,function jG(...n){return HS._create("startAt",n,!0)}(...t)))}catch(e){throw Ps(e,"startAt()","Query.startAt()")}}startAfter(...t){try{return new Fs(this.firestore,lf(this._delegate,function GG(...n){return HS._create("startAfter",n,!1)}(...t)))}catch(e){throw Ps(e,"startAfter()","Query.startAfter()")}}endBefore(...t){try{return new Fs(this.firestore,lf(this._delegate,function zG(...n){return jS._create("endBefore",n,!1)}(...t)))}catch(e){throw Ps(e,"endBefore()","Query.endBefore()")}}endAt(...t){try{return new Fs(this.firestore,lf(this._delegate,function $G(...n){return jS._create("endAt",n,!0)}(...t)))}catch(e){throw Ps(e,"endAt()","Query.endAt()")}}isEqual(t){return gR(this._delegate,t._delegate)}get(t){let e;return e="cache"===t?.source?function JG(n){n=hn(n,Jr);const t=hn(n.firestore,li),e=zi(t),i=new uf(t);return function mG(n,t){const e=new vr;return n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return(i=(0,ye.Z)(function*(r,o,u){try{const h=yield DS(r,o,!0),_=new EV(o,h.Hi),b=_.Wu(h.documents),D=_.applyChanges(b,!1);u.resolve(D.snapshot)}catch(h){const _=ly(h,`Failed to execute query '${o} against cache`);u.reject(_)}}),function(r,o,u){return i.apply(this,arguments)})(yield OS(n),t,e);var i})),e.promise}(e,n._query).then(r=>new cf(t,i,n,r))}(this._delegate):"server"===t?.source?function XG(n){n=hn(n,Jr);const t=hn(n.firestore,li),e=zi(t),i=new uf(t);return ZV(e,n._query,{source:"server"}).then(r=>new cf(t,i,n,r))}(this._delegate):function QG(n){n=hn(n,Jr);const t=hn(n.firestore,li),e=zi(t),i=new uf(t);return s2(n._query),ZV(e,n._query).then(r=>new cf(t,i,n,r))}(this._delegate),e.then(i=>new LR(this.firestore,new cf(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...t){const e=D2(t),i=E2(t,r=>new LR(this.firestore,new cf(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return m2(this._delegate,e,i)}withConverter(t){return new Fs(this.firestore,this._delegate.withConverter(t?Im.getInstance(this.firestore,t):null))}}class gz{constructor(t,e){this._firestore=t,this._delegate=e}get type(){return this._delegate.type}get doc(){return new Xw(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class LR{constructor(t,e){this._firestore=t,this._delegate=e}get query(){return new Fs(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(t=>new Xw(this._firestore,t))}docChanges(t){return this._delegate.docChanges(t).map(e=>new gz(this._firestore,e))}forEach(t,e){this._delegate.forEach(i=>{t.call(e,new Xw(this._firestore,i))})}isEqual(t){return h2(this._delegate,t._delegate)}}class my extends Fs{constructor(t,e){super(t,e),this.firestore=t,this._delegate=e}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const t=this._delegate.parent;return t?new Oa(this.firestore,t):null}doc(t){try{return new Oa(this.firestore,void 0===t?xS(this._delegate):xS(this._delegate,t))}catch(e){throw Ps(e,"doc()","CollectionReference.doc()")}}add(t){return function tz(n,t){const e=hn(n.firestore,li),i=xS(n),r=GS(n.converter,t);return py(e,[NS(Dm(n.firestore),"addDoc",i._key,r,null!==n.converter,{}).toMutation(i._key,bi.exists(!1))]).then(()=>i)}(this._delegate,t).then(e=>new Oa(this.firestore,e))}isEqual(t){return UV(this._delegate,t._delegate)}withConverter(t){return new my(this.firestore,this._delegate.withConverter(t?Im.getInstance(this.firestore,t):null))}}function Mm(n){return hn(n,ai)}class VR{constructor(...t){this._delegate=new _d(...t)}static documentId(){return new VR(Ri.keyField().canonicalString())}isEqual(t){return(t=(0,bn.m9)(t))instanceof _d&&this._delegate._internalPath.isEqual(t._internalPath)}}class Tm{constructor(t){this._delegate=t}static serverTimestamp(){const t=function az(){return new IR("serverTimestamp")}();return t._methodName="FieldValue.serverTimestamp",new Tm(t)}static delete(){const t=function oz(){return new qw("deleteField")}();return t._methodName="FieldValue.delete",new Tm(t)}static arrayUnion(...t){const e=function lz(...n){return new OG("arrayUnion",n)}(...t);return e._methodName="FieldValue.arrayUnion",new Tm(e)}static arrayRemove(...t){const e=function cz(...n){return new PG("arrayRemove",n)}(...t);return e._methodName="FieldValue.arrayRemove",new Tm(e)}static increment(t){const e=function uz(n){return new FG("increment",n)}(t);return e._methodName="FieldValue.increment",new Tm(e)}isEqual(t){return this._delegate.isEqual(t._delegate)}}const _z={Firestore:b2,GeoPoint:PS,Timestamp:vi,Blob:Qw,Transaction:w2,WriteBatch:C2,DocumentReference:Oa,DocumentSnapshot:Jw,Query:Fs,QueryDocumentSnapshot:Xw,QuerySnapshot:LR,CollectionReference:my,FieldPath:VR,FieldValue:Tm,setLogLevel:function mz(n){!function m3(n){qh.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function vz(n){(function yz(n,t){n.INTERNAL.registerComponent(new w_.wA("firestore-compat",e=>{const i=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(i,r)},"PUBLIC").setServiceProps(Object.assign({},_z)))})(n,(t,e)=>new b2(t,e,new pz)),n.registerVersion("@firebase/firestore-compat","0.3.0")}(sx.Z);var $S=F(5363),bz=F(6063);class wz extends Ze.x{constructor(t=1/0,e=1/0,i=bz.l){super(),this._bufferSize=t,this._windowTime=e,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,e)}next(t){const{isStopped:e,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:o,_windowTime:u}=this;e||(i.push(t),!r&&i.push(o.now()+u)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(t),{_infiniteTimeWindow:i,_buffer:r}=this,o=r.slice();for(let u=0;u<o.length&&!t.closed;u+=i?1:2)t.next(o[u]);return this._checkFinalizedStatuses(t),e}_trimBuffer(){const{_bufferSize:t,_timestampProvider:e,_buffer:i,_infiniteTimeWindow:r}=this,o=(r?1:2)*t;if(t<1/0&&o<i.length&&i.splice(0,i.length-o),!r){const u=e.now();let h=0;for(let _=1;_<i.length&&i[_]<=u;_+=2)h=_;h&&i.splice(0,h+1)}}}var S2=F(3099);function BR(n,t,e){let i,r=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:t=1/0,refCount:r=!1,scheduler:e}=n):i=n??1/0,(0,S2.B)({connector:()=>new wz(i,t,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}function I2(n,t){return(0,Bi.m)(t)?Ln(()=>n,t):Ln(()=>n)}var UR=F(9468);F(259);const jR=new Map,T2={activated:!1,tokenObservers:[]},Iz={initialized:!1,enabled:!1};function Xr(n){return jR.get(n)||Object.assign({},T2)}function ZS(){return Iz}class Rz{constructor(t,e,i,r,o){if(this.operation=t,this.retryPolicy=e,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=r,r>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){var e=this;return(0,ye.Z)(function*(){e.stop();try{e.pending=new bn.BH,yield function Oz(n){return new Promise(t=>{setTimeout(t,n)})}(e.getNextRun(t)),e.pending.resolve(),yield e.pending.promise,e.pending=new bn.BH,yield e.operation(),e.pending.resolve(),yield e.pending.promise,e.process(!0).catch(()=>{})}catch(i){e.retryPolicy(i)?e.process(!1).catch(()=>{}):e.stop()}})()}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}const Ns=new bn.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function x2(n){if(!Xr(n).activated)throw Ns.create("use-before-activation",{appName:n.name})}function $R(n,t){return qR.apply(this,arguments)}function qR(){return qR=(0,ye.Z)(function*({url:n,body:t},e){const i={"Content-Type":"application/json"},r=e.getImmediate({optional:!0});if(r){const M=yield r.getHeartbeatsHeader();M&&(i["X-Firebase-Client"]=M)}const o={method:"POST",body:JSON.stringify(t),headers:i};let u,h;try{u=yield fetch(n,o)}catch(M){throw Ns.create("fetch-network-error",{originalErrorMessage:M?.message})}if(200!==u.status)throw Ns.create("fetch-status-error",{httpStatus:u.status});try{h=yield u.json()}catch(M){throw Ns.create("fetch-parse-error",{originalErrorMessage:M?.message})}const _=h.ttl.match(/^([\d.]+)(s)$/);if(!_||!_[2]||isNaN(Number(_[1])))throw Ns.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${h.ttl}`});const b=1e3*Number(_[1]),D=Date.now();return{token:h.token,expireTimeMillis:D+b,issuedAtTimeMillis:D}}),qR.apply(this,arguments)}function Lz(n,t){const{projectId:e,appId:i,apiKey:r}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${e}/apps/${i}:exchangeDebugToken?key=${r}`,body:{debug_token:t}}}const e0="firebase-app-check-store";let KS=null;function R2(){return KS||(KS=new Promise((n,t)=>{try{const e=indexedDB.open("firebase-app-check-database",1);e.onsuccess=i=>{n(i.target.result)},e.onerror=i=>{var r;t(Ns.create("storage-open",{originalErrorMessage:null===(r=i.target.error)||void 0===r?void 0:r.message}))},e.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(e0,{keyPath:"compositeKey"})}}catch(e){t(Ns.create("storage-open",{originalErrorMessage:e?.message}))}}),KS)}function ZR(){return ZR=(0,ye.Z)(function*(n,t){const i=(yield R2()).transaction(e0,"readwrite"),o=i.objectStore(e0).put({compositeKey:n,value:t});return new Promise((u,h)=>{o.onsuccess=_=>{u()},i.onerror=_=>{var b;h(Ns.create("storage-set",{originalErrorMessage:null===(b=_.target.error)||void 0===b?void 0:b.message}))}})}),ZR.apply(this,arguments)}const t0=new Ra.Yd("@firebase/app-check");function KR(n,t){return(0,bn.hl)()?function Hz(n,t){return function O2(n,t){return ZR.apply(this,arguments)}(function F2(n){return`${n.options.appId}-${n.name}`}(n),t)}(n,t).catch(e=>{t0.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function N2(){return ZS().enabled}function L2(){return JR.apply(this,arguments)}function JR(){return JR=(0,ye.Z)(function*(){const n=ZS();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),JR.apply(this,arguments)}const Zz={error:"UNKNOWN_ERROR"};function Yz(n){return bn.US.encodeString(JSON.stringify(n),!1)}function QS(n){return XR.apply(this,arguments)}function XR(){return XR=(0,ye.Z)(function*(n,t=!1){const e=n.app;x2(e);const i=Xr(e);let o,r=i.token;if(r&&!gy(r)&&(i.token=void 0,r=void 0),!r){const _=yield i.cachedTokenPromise;_&&(gy(_)?r=_:yield KR(e,void 0))}if(!t&&r&&gy(r))return{token:r.token};let h,u=!1;if(N2()){i.exchangeTokenPromise||(i.exchangeTokenPromise=$R(Lz(e,yield L2()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),u=!0);const _=yield i.exchangeTokenPromise;return yield KR(e,_),i.token=_,{token:_.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),u=!0),r=yield Xr(e).exchangeTokenPromise}catch(_){"appCheck/throttled"===_.code?t0.warn(_.message):t0.error(_),o=_}return r?o?h=gy(r)?{token:r.token,internalError:o}:U2(o):(h={token:r.token},i.token=r,yield KR(e,r)):h=U2(o),u&&B2(e,h),h}),XR.apply(this,arguments)}function t1(n,t){const e=Xr(n),i=e.tokenObservers.filter(r=>r.next!==t);0===i.length&&e.tokenRefresher&&e.tokenRefresher.isRunning()&&e.tokenRefresher.stop(),e.tokenObservers=i}function V2(n){const{app:t}=n,e=Xr(t);let i=e.tokenRefresher;i||(i=function Wz(n){const{app:t}=n;return new Rz((0,ye.Z)(function*(){let i;if(i=Xr(t).token?yield QS(n,!0):yield QS(n),i.error)throw i.error;if(i.internalError)throw i.internalError}),()=>!0,()=>{const e=Xr(t);if(e.token){let i=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,e.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},3e4,96e4)}(n),e.tokenRefresher=i),!i.isRunning()&&e.isTokenAutoRefreshEnabled&&i.start()}function B2(n,t){const e=Xr(n).tokenObservers;for(const i of e)try{"EXTERNAL"===i.type&&null!=t.error?i.error(t.error):i.next(t)}catch{}}function gy(n){return n.expireTimeMillis-Date.now()>0}function U2(n){return{token:Yz(Zz),error:n}}class Kz{constructor(t,e){this.app=t,this.heartbeatServiceProvider=e}_delete(){const{tokenObservers:t}=Xr(this.app);for(const e of t)t1(this.app,e.next);return Promise.resolve()}}const Y2="app-check-internal";!function u$(){(0,Xi._registerComponent)(new w_.wA("app-check",n=>function Qz(n,t){return new Kz(n,t)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,t,e)=>{n.getProvider(Y2).initialize()})),(0,Xi._registerComponent)(new w_.wA(Y2,n=>function Jz(n){return{getToken:t=>QS(n,t),addTokenListener:t=>function e1(n,t,e,i){const{app:r}=n,o=Xr(r);if(o.tokenObservers=[...o.tokenObservers,{next:e,error:i,type:t}],o.token&&gy(o.token)){const h=o.token;Promise.resolve().then(()=>{e({token:h.token}),V2(n)}).catch(()=>{})}o.cachedTokenPromise.then(()=>V2(n))}(n,"INTERNAL",t),removeTokenListener:t=>t1(n.app,t)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Xi.registerVersion)("@firebase/app-check","0.6.0")}();class o1{constructor(){return(0,kr.vb)("app-check")}}typeof window<"u"&&window;var m$=F(9260);const K2=new s.OlP("angularfire2.auth.use-emulator"),Q2=new s.OlP("angularfire2.auth.settings"),J2=new s.OlP("angularfire2.auth.tenant-id"),X2=new s.OlP("angularfire2.auth.langugage-code"),eB=new s.OlP("angularfire2.auth.use-device-language"),tB=new s.OlP("angularfire.auth.persistence"),nB=(n,t,e,i,r,o,u,h)=>(0,jo.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const _=t.runOutsideAngular(()=>n.auth());if(e&&_.useEmulator(...e),i&&(_.tenantId=i),_.languageCode=r,o&&_.useDeviceLanguage(),u)for(const[b,D]of Object.entries(u))_.settings[b]=D;return h&&_.setPersistence(h),_},[e,i,r,o,u,h]);let l1=(()=>{class n{constructor(e,i,r,o,u,h,_,b,D,M,O,B){const $=new Ze.x,ne=qe(void 0).pipe((0,$S.Q)(u.outsideAngular),Ln(()=>o.runOutsideAngular(()=>Promise.resolve().then(F.bind(F,9169)))),(0,Ge.U)(()=>(0,jo.on)(e,o,i)),(0,Ge.U)(ce=>nB(ce,o,h,b,D,M,_,O)),BR({bufferSize:1,refCount:!1}));if(Ti(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=qe(null);else{ne.pipe(ie()).subscribe();const We=ne.pipe(Ln(dt=>dt.getRedirectResult().then(At=>At,()=>null)),kr.iC,BR({bufferSize:1,refCount:!1})),ft=ne.pipe(Ln(dt=>new jn.y(At=>({unsubscribe:o.runOutsideAngular(()=>dt.onAuthStateChanged(Nt=>At.next(Nt),Nt=>At.error(Nt),()=>At.complete()))})))),gt=ne.pipe(Ln(dt=>new jn.y(At=>({unsubscribe:o.runOutsideAngular(()=>dt.onIdTokenChanged(Nt=>At.next(Nt),Nt=>At.error(Nt),()=>At.complete()))}))));this.authState=We.pipe(I2(ft),(0,UR.R)(u.outsideAngular),(0,$S.Q)(u.insideAngular)),this.user=We.pipe(I2(gt),(0,UR.R)(u.outsideAngular),(0,$S.Q)(u.insideAngular)),this.idToken=this.user.pipe(Ln(dt=>dt?(0,_n.D)(dt.getIdToken()):qe(null))),this.idTokenResult=this.user.pipe(Ln(dt=>dt?(0,_n.D)(dt.getIdTokenResult()):qe(null))),this.credential=(0,dr.T)(We,$,this.authState.pipe(S(dt=>!dt))).pipe((0,Ge.U)(dt=>dt?.user?dt:null),(0,UR.R)(u.outsideAngular),(0,$S.Q)(u.insideAngular))}return(0,jo.pX)(this,ne,o,{spy:{apply:(ce,We,ft)=>{(ce.startsWith("signIn")||ce.startsWith("createUser"))&&ft.then(gt=>$.next(gt))}}})}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(jo.Dh),s.LFG(jo.xv,8),s.LFG(s.Lbi),s.LFG(s.R0b),s.LFG(kr.HU),s.LFG(K2,8),s.LFG(Q2,8),s.LFG(J2,8),s.LFG(X2,8),s.LFG(eB,8),s.LFG(tB,8),s.LFG(o1,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function iB(n,t){return function _$(n,t=zu.z){return new jn.y(e=>{let i;return null!=t?t.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},e)}):i=n.onSnapshot({includeMetadataChanges:!0},e),()=>{i?.()}})}(n,t)}function c1(n,t){return iB(n,t).pipe((0,Ge.U)(e=>({payload:e,type:"query"})))}function XS(n,t){return c1(n,t).pipe(Yn(void 0),ks(),(0,Ge.U)(([e,i])=>{const r=i.payload.docChanges(),o=r.map(u=>({type:u.type,payload:u}));return e&&JSON.stringify(e.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((u,h)=>{const _=r.find(D=>D.doc.ref.isEqual(u.ref)),b=e?.payload.docs.find(D=>D.ref.isEqual(u.ref));_&&JSON.stringify(_.doc.metadata)===JSON.stringify(u.metadata)||!_&&b&&JSON.stringify(b.metadata)===JSON.stringify(u.metadata)||o.push({type:"modified",payload:{oldIndex:h,newIndex:h,type:"modified",doc:u}})}),o}))}function rB(n,t,e){return XS(n,e).pipe(Ut((i,r)=>function v$(n,t,e){return t.forEach(i=>{e.indexOf(i.type)>-1&&(n=function b$(n,t){switch(t.type){case"added":if(!n[t.newIndex]||!n[t.newIndex].doc.ref.isEqual(t.doc.ref))return u1(n,t.newIndex,0,t);break;case"modified":if(null==n[t.oldIndex]||n[t.oldIndex].doc.ref.isEqual(t.doc.ref)){if(t.oldIndex!==t.newIndex){const e=n.slice();return e.splice(t.oldIndex,1),e.splice(t.newIndex,0,t),e}return u1(n,t.newIndex,1,t)}break;case"removed":if(n[t.oldIndex]&&n[t.oldIndex].doc.ref.isEqual(t.doc.ref))return u1(n,t.oldIndex,1)}return n}(n,i))}),n}(i,r.map(o=>o.payload),t),[]),Dp(),(0,Ge.U)(i=>i.map(r=>({type:r.type,payload:r}))))}function u1(n,t,e,...i){const r=n.slice();return r.splice(t,e,...i),r}function sB(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class oB{constructor(t,e,i){this.ref=t,this.query=e,this.afs=i}stateChanges(t){let e=XS(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe((0,Ge.U)(i=>i.filter(r=>t.indexOf(r.type)>-1)))),e.pipe(Yn(void 0),ks(),S(([i,r])=>r.length>0||!i),(0,Ge.U)(([i,r])=>r),kr.iC)}auditTrail(t){return this.stateChanges(t).pipe(Ut((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=sB(t);return rB(this.query,e,this.afs.schedulers.outsideAngular).pipe(kr.iC)}valueChanges(t={}){return c1(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ge.U)(e=>e.payload.docs.map(i=>t.idField?Object.assign(Object.assign({},i.data()),{[t.idField]:i.id}):i.data())),kr.iC)}get(t){return(0,_n.D)(this.query.get(t)).pipe(kr.iC)}add(t){return this.ref.add(t)}doc(t){return new aB(this.ref.doc(t),this.afs)}}class aB{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const i=this.ref.collection(t),{ref:r,query:o}=uB(i,e);return new oB(r,o,this.afs)}snapshotChanges(){return function y$(n,t){return iB(n,t).pipe(Yn(void 0),ks(),(0,Ge.U)(([e,i])=>i.exists?e?.exists?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(kr.iC)}valueChanges(t={}){return this.snapshotChanges().pipe((0,Ge.U)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return(0,_n.D)(this.ref.get(t)).pipe(kr.iC)}}class w${constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?XS(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ge.U)(e=>e.filter(i=>t.indexOf(i.type)>-1)),S(e=>e.length>0),kr.iC):XS(this.query,this.afs.schedulers.outsideAngular).pipe(kr.iC)}auditTrail(t){return this.stateChanges(t).pipe(Ut((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=sB(t);return rB(this.query,e,this.afs.schedulers.outsideAngular).pipe(kr.iC)}valueChanges(t={}){return c1(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ge.U)(i=>i.payload.docs.map(r=>t.idField?Object.assign({[t.idField]:r.id},r.data()):r.data())),kr.iC)}get(t){return(0,_n.D)(this.query.get(t)).pipe(kr.iC)}}const lB=new s.OlP("angularfire2.enableFirestorePersistence"),cB=new s.OlP("angularfire2.firestore.persistenceSettings"),C$=new s.OlP("angularfire2.firestore.settings"),D$=new s.OlP("angularfire2.firestore.use-emulator");function uB(n,t=(e=>e)){return{query:t(n),ref:n}}let dB=(()=>{class n{constructor(e,i,r,o,u,h,_,b,D,M,O,B,$,ne,ce,We,ft){this.schedulers=_;const gt=(0,jo.on)(e,h,i),dt=D;M&&nB(gt,h,O,$,ne,ce,B,We),[this.firestore,this.persistenceEnabled$]=(0,jo.cc)(`${gt.name}.firestore`,"AngularFirestore",gt.name,()=>{const At=h.runOutsideAngular(()=>gt.firestore());if(o&&At.settings(o),dt&&At.useEmulator(...dt),r&&!Ti(u)){const Nt=()=>{try{return(0,_n.D)(At.enablePersistence(b||void 0).then(()=>!0,()=>!1))}catch(mn){return typeof console<"u"&&console.warn(mn),qe(!1)}};return[At,h.runOutsideAngular(Nt)]}return[At,qe(!1)]},[o,dt,r])}collection(e,i){let r;r="string"==typeof e?this.firestore.collection(e):e;const{ref:o,query:u}=uB(r,i),h=this.schedulers.ngZone.run(()=>o);return new oB(h,u,this)}collectionGroup(e,i){const r=i||(u=>u),o=this.firestore.collectionGroup(e);return new w$(r(o),this)}doc(e){let i;i="string"==typeof e?this.firestore.doc(e):e;const r=this.schedulers.ngZone.run(()=>i);return new aB(r,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(jo.Dh),s.LFG(jo.xv,8),s.LFG(lB,8),s.LFG(C$,8),s.LFG(s.Lbi),s.LFG(s.R0b),s.LFG(kr.HU),s.LFG(cB,8),s.LFG(D$,8),s.LFG(l1,8),s.LFG(K2,8),s.LFG(Q2,8),s.LFG(J2,8),s.LFG(X2,8),s.LFG(eB,8),s.LFG(tB,8),s.LFG(o1,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),E$=(()=>{class n{constructor(){m$.Z.registerVersion("angularfire",kr.q4.full,"fst-compat")}static enablePersistence(e){return{ngModule:n,providers:[{provide:lB,useValue:!0},{provide:cB,useValue:e}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[dB]}),n})(),Am=(()=>{class n{constructor(e){this.afs=e}addDoctor(e){return e.id=this.afs.createId(),this.afs.collection("Doctor/").add(e)}addBirthCer(e){return e.id=this.afs.createId(),this.afs.collection("BirthCertificate/").add(e)}getAllDoctors(){return this.afs.collection("Doctor/").snapshotChanges()}getAllBirthCertificate(){return this.afs.collection("BirthCertificate/").snapshotChanges()}updateDoctors(e){return this.afs.doc("Doctor/"+e.id).update(e)}deleteDoctors(e){return this.afs.doc("Doctor/"+e).delete()}deleteBirthCertificate(e){return this.afs.doc("BirthCertificate/"+e).delete()}getDoctorsbyID(e){return this.afs.doc("Doctor/"+e).valueChanges()}getbirthcertificatebyId(e){return this.afs.doc("BirthCertificate/"+e).valueChanges()}addPatient(e){return e.patient_id=this.afs.createId(),this.afs.collection("Patient/").add(e)}getAllPatients(){return this.afs.collection("Patient/").snapshotChanges()}updatePatient(e){return this.afs.doc("Patient/"+e.patient_id).update(e)}deletePatient(e){return this.afs.doc("Patient/"+e).delete()}getPatientById(e){return this.afs.doc("Patient/"+e).valueChanges()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(dB))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const S$=["mat-button",""],I$=["*"],T$=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],A$=Jg(Fc(Cl(class{constructor(n){this._elementRef=n}})));let Ls=(()=>{class n extends A${constructor(e,i,r){super(e),this._focusMonitor=i,this._animationMode=r,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const o of T$)this._hasHostAttributes(o)&&this._getHostElement().classList.add(o);e.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(e,i){e?this._focusMonitor.focusVia(this._getHostElement(),e,i):this._getHostElement().focus(i)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...e){return e.some(i=>this._getHostElement().hasAttribute(i))}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(wl),s.Y36(s.QbO,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(e,i){if(1&e&&s.Gf(Nc,5),2&e){let r;s.iGM(r=s.CRH())&&(i.ripple=r.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(e,i){2&e&&(s.uIk("disabled",i.disabled||null),s.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-button-disabled",i.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[s.qOj],attrs:S$,ngContentSelectors:I$,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(e,i){1&e&&(s.F$t(),s.TgZ(0,"span",0),s.Hsn(1),s.qZA(),s._UZ(2,"span",1)(3,"span",2)),2&e&&(s.xp6(2),s.ekj("mat-button-ripple-round",i.isRoundButton||i.isIconButton),s.Q6J("matRippleDisabled",i._isRippleDisabled())("matRippleCentered",i.isIconButton)("matRippleTrigger",i._getHostElement()))},dependencies:[Nc],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),n})(),n0=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[Tp,Wt],Wt]}),n})(),xm=(()=>{class n{constructor(){this._vertical=!1,this._inset=!1}get vertical(){return this._vertical}set vertical(e){this._vertical=Mt(e)}get inset(){return this._inset}set inset(e){this._inset=Mt(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-divider"]],hostAttrs:["role","separator",1,"mat-divider"],hostVars:7,hostBindings:function(e,i){2&e&&(s.uIk("aria-orientation",i.vertical?"vertical":"horizontal"),s.ekj("mat-divider-vertical",i.vertical)("mat-divider-horizontal",!i.vertical)("mat-divider-inset",i.inset))},inputs:{vertical:"vertical",inset:"inset"},decls:0,vars:0,template:function(e,i){},styles:[".mat-divider{display:block;margin:0;border-top-width:1px;border-top-style:solid}.mat-divider.mat-divider-vertical{border-top:0;border-right-width:1px;border-right-style:solid}.mat-divider.mat-divider-inset{margin-left:80px}[dir=rtl] .mat-divider.mat-divider-inset{margin-left:auto;margin-right:80px}\n"],encapsulation:2,changeDetection:0}),n})(),x$=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[Wt],Wt]}),n})();const hB=["*"];class R${constructor(){this.columnIndex=0,this.rowIndex=0}get rowCount(){return this.rowIndex+1}get rowspan(){const t=Math.max(...this.tracker);return t>1?this.rowCount+t-1:this.rowCount}update(t,e){this.columnIndex=0,this.rowIndex=0,this.tracker=new Array(t),this.tracker.fill(0,0,this.tracker.length),this.positions=e.map(i=>this._trackTile(i))}_trackTile(t){const e=this._findMatchingGap(t.colspan);return this._markTilePosition(e,t),this.columnIndex=e+t.colspan,new O$(this.rowIndex,e)}_findMatchingGap(t){let e=-1,i=-1;do{this.columnIndex+t>this.tracker.length?(this._nextRow(),e=this.tracker.indexOf(0,this.columnIndex),i=this._findGapEndIndex(e)):(e=this.tracker.indexOf(0,this.columnIndex),-1!=e?(i=this._findGapEndIndex(e),this.columnIndex=e+1):(this._nextRow(),e=this.tracker.indexOf(0,this.columnIndex),i=this._findGapEndIndex(e)))}while(i-e<t||0==i);return Math.max(e,0)}_nextRow(){this.columnIndex=0,this.rowIndex++;for(let t=0;t<this.tracker.length;t++)this.tracker[t]=Math.max(0,this.tracker[t]-1)}_findGapEndIndex(t){for(let e=t+1;e<this.tracker.length;e++)if(0!=this.tracker[e])return e;return this.tracker.length}_markTilePosition(t,e){for(let i=0;i<e.colspan;i++)this.tracker[t+i]=e.rowspan}}class O${constructor(t,e){this.row=t,this.col=e}}const fB=new s.OlP("MAT_GRID_LIST");let eI=(()=>{class n{constructor(e,i){this._element=e,this._gridList=i,this._rowspan=1,this._colspan=1}get rowspan(){return this._rowspan}set rowspan(e){this._rowspan=Math.round(xr(e))}get colspan(){return this._colspan}set colspan(e){this._colspan=Math.round(xr(e))}_setStyle(e,i){this._element.nativeElement.style[e]=i}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(fB,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-grid-tile"]],hostAttrs:[1,"mat-grid-tile"],hostVars:2,hostBindings:function(e,i){2&e&&s.uIk("rowspan",i.rowspan)("colspan",i.colspan)},inputs:{rowspan:"rowspan",colspan:"colspan"},exportAs:["matGridTile"],ngContentSelectors:hB,decls:2,vars:0,consts:[[1,"mat-grid-tile-content"]],template:function(e,i){1&e&&(s.F$t(),s.TgZ(0,"div",0),s.Hsn(1),s.qZA())},styles:[".mat-grid-list{display:block;position:relative}.mat-grid-tile{display:block;position:absolute;overflow:hidden}.mat-grid-tile .mat-grid-tile-header,.mat-grid-tile .mat-grid-tile-footer{display:flex;align-items:center;height:48px;color:#fff;background:rgba(0,0,0,.38);overflow:hidden;padding:0 16px;position:absolute;left:0;right:0}.mat-grid-tile .mat-grid-tile-header>*,.mat-grid-tile .mat-grid-tile-footer>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-tile-header.mat-2-line,.mat-grid-tile .mat-grid-tile-footer.mat-2-line{height:68px}.mat-grid-tile .mat-grid-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden}.mat-grid-tile .mat-grid-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-list-text:empty{display:none}.mat-grid-tile .mat-grid-tile-header{top:0}.mat-grid-tile .mat-grid-tile-footer{bottom:0}.mat-grid-tile .mat-grid-avatar{padding-right:16px}[dir=rtl] .mat-grid-tile .mat-grid-avatar{padding-right:0;padding-left:16px}.mat-grid-tile .mat-grid-avatar:empty{display:none}.mat-grid-tile-content{top:0;left:0;right:0;bottom:0;position:absolute;display:flex;align-items:center;justify-content:center;height:100%;padding:0;margin:0}\n"],encapsulation:2,changeDetection:0}),n})();const P$=/^-?\d+((\.\d+)?[A-Za-z%$]?)+$/;class d1{constructor(){this._rows=0,this._rowspan=0}init(t,e,i,r){this._gutterSize=pB(t),this._rows=e.rowCount,this._rowspan=e.rowspan,this._cols=i,this._direction=r}getBaseTileSize(t,e){return`(${t}% - (${this._gutterSize} * ${e}))`}getTilePosition(t,e){return 0===e?"0":km(`(${t} + ${this._gutterSize}) * ${e}`)}getTileSize(t,e){return`(${t} * ${e}) + (${e-1} * ${this._gutterSize})`}setStyle(t,e,i){let r=100/this._cols,o=(this._cols-1)/this._cols;this.setColStyles(t,i,r,o),this.setRowStyles(t,e,r,o)}setColStyles(t,e,i,r){let o=this.getBaseTileSize(i,r);t._setStyle("rtl"===this._direction?"right":"left",this.getTilePosition(o,e)),t._setStyle("width",km(this.getTileSize(o,t.colspan)))}getGutterSpan(){return`${this._gutterSize} * (${this._rowspan} - 1)`}getTileSpan(t){return`${this._rowspan} * ${this.getTileSize(t,1)}`}getComputedHeight(){return null}}class F$ extends d1{constructor(t){super(),this.fixedRowHeight=t}init(t,e,i,r){super.init(t,e,i,r),this.fixedRowHeight=pB(this.fixedRowHeight),P$.test(this.fixedRowHeight)}setRowStyles(t,e){t._setStyle("top",this.getTilePosition(this.fixedRowHeight,e)),t._setStyle("height",km(this.getTileSize(this.fixedRowHeight,t.rowspan)))}getComputedHeight(){return["height",km(`${this.getTileSpan(this.fixedRowHeight)} + ${this.getGutterSpan()}`)]}reset(t){t._setListStyle(["height",null]),t._tiles&&t._tiles.forEach(e=>{e._setStyle("top",null),e._setStyle("height",null)})}}class N$ extends d1{constructor(t){super(),this._parseRatio(t)}setRowStyles(t,e,i,r){this.baseTileHeight=this.getBaseTileSize(i/this.rowHeightRatio,r),t._setStyle("marginTop",this.getTilePosition(this.baseTileHeight,e)),t._setStyle("paddingTop",km(this.getTileSize(this.baseTileHeight,t.rowspan)))}getComputedHeight(){return["paddingBottom",km(`${this.getTileSpan(this.baseTileHeight)} + ${this.getGutterSpan()}`)]}reset(t){t._setListStyle(["paddingBottom",null]),t._tiles.forEach(e=>{e._setStyle("marginTop",null),e._setStyle("paddingTop",null)})}_parseRatio(t){const e=t.split(":");this.rowHeightRatio=parseFloat(e[0])/parseFloat(e[1])}}class L$ extends d1{setRowStyles(t,e){let o=this.getBaseTileSize(100/this._rowspan,(this._rows-1)/this._rows);t._setStyle("top",this.getTilePosition(o,e)),t._setStyle("height",km(this.getTileSize(o,t.rowspan)))}reset(t){t._tiles&&t._tiles.forEach(e=>{e._setStyle("top",null),e._setStyle("height",null)})}}function km(n){return`calc(${n})`}function pB(n){return n.match(/([A-Za-z%]+)$/)?n:`${n}px`}let h1=(()=>{class n{constructor(e,i){this._element=e,this._dir=i,this._gutter="1px"}get cols(){return this._cols}set cols(e){this._cols=Math.max(1,Math.round(xr(e)))}get gutterSize(){return this._gutter}set gutterSize(e){this._gutter=`${e??""}`}get rowHeight(){return this._rowHeight}set rowHeight(e){const i=`${e??""}`;i!==this._rowHeight&&(this._rowHeight=i,this._setTileStyler(this._rowHeight))}ngOnInit(){this._checkCols(),this._checkRowHeight()}ngAfterContentChecked(){this._layoutTiles()}_checkCols(){}_checkRowHeight(){this._rowHeight||this._setTileStyler("1:1")}_setTileStyler(e){this._tileStyler&&this._tileStyler.reset(this),this._tileStyler="fit"===e?new L$:e&&e.indexOf(":")>-1?new N$(e):new F$(e)}_layoutTiles(){this._tileCoordinator||(this._tileCoordinator=new R$);const e=this._tileCoordinator,i=this._tiles.filter(o=>!o._gridList||o._gridList===this),r=this._dir?this._dir.value:"ltr";this._tileCoordinator.update(this.cols,i),this._tileStyler.init(this.gutterSize,e,this.cols,r),i.forEach((o,u)=>{const h=e.positions[u];this._tileStyler.setStyle(o,h.row,h.col)}),this._setListStyle(this._tileStyler.getComputedHeight())}_setListStyle(e){e&&(this._element.nativeElement.style[e[0]]=e[1])}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(qr,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-grid-list"]],contentQueries:function(e,i,r){if(1&e&&s.Suo(r,eI,5),2&e){let o;s.iGM(o=s.CRH())&&(i._tiles=o)}},hostAttrs:[1,"mat-grid-list"],hostVars:1,hostBindings:function(e,i){2&e&&s.uIk("cols",i.cols)},inputs:{cols:"cols",gutterSize:"gutterSize",rowHeight:"rowHeight"},exportAs:["matGridList"],features:[s._Bn([{provide:fB,useExisting:n}])],ngContentSelectors:hB,decls:2,vars:0,template:function(e,i){1&e&&(s.F$t(),s.TgZ(0,"div"),s.Hsn(1),s.qZA())},styles:[".mat-grid-list{display:block;position:relative}.mat-grid-tile{display:block;position:absolute;overflow:hidden}.mat-grid-tile .mat-grid-tile-header,.mat-grid-tile .mat-grid-tile-footer{display:flex;align-items:center;height:48px;color:#fff;background:rgba(0,0,0,.38);overflow:hidden;padding:0 16px;position:absolute;left:0;right:0}.mat-grid-tile .mat-grid-tile-header>*,.mat-grid-tile .mat-grid-tile-footer>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-tile-header.mat-2-line,.mat-grid-tile .mat-grid-tile-footer.mat-2-line{height:68px}.mat-grid-tile .mat-grid-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden}.mat-grid-tile .mat-grid-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-list-text:empty{display:none}.mat-grid-tile .mat-grid-tile-header{top:0}.mat-grid-tile .mat-grid-tile-footer{bottom:0}.mat-grid-tile .mat-grid-avatar{padding-right:16px}[dir=rtl] .mat-grid-tile .mat-grid-avatar{padding-right:0;padding-left:16px}.mat-grid-tile .mat-grid-avatar:empty{display:none}.mat-grid-tile-content{top:0;left:0;right:0;bottom:0;position:absolute;display:flex;align-items:center;justify-content:center;height:100%;padding:0;margin:0}\n"],encapsulation:2,changeDetection:0}),n})(),mB=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[Mp,Wt],Mp,Wt]}),n})();const B$=["connectionContainer"],U$=["inputContainer"],H$=["label"];function j$(n,t){1&n&&(s.ynx(0),s.TgZ(1,"div",14),s._UZ(2,"div",15)(3,"div",16)(4,"div",17),s.qZA(),s.TgZ(5,"div",18),s._UZ(6,"div",15)(7,"div",16)(8,"div",17),s.qZA(),s.BQk())}function G$(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",19),s.NdJ("cdkObserveContent",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.updateOutlineGap())}),s.Hsn(1,1),s.qZA()}if(2&n){const e=s.oxw();s.Q6J("cdkObserveContentDisabled","outline"!=e.appearance)}}function z$(n,t){if(1&n&&(s.ynx(0),s.Hsn(1,2),s.TgZ(2,"span"),s._uU(3),s.qZA(),s.BQk()),2&n){const e=s.oxw(2);s.xp6(3),s.Oqu(e._control.placeholder)}}function $$(n,t){1&n&&s.Hsn(0,3,["*ngSwitchCase","true"])}function q$(n,t){1&n&&(s.TgZ(0,"span",23),s._uU(1," *"),s.qZA())}function Z$(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"label",20,21),s.NdJ("cdkObserveContent",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.updateOutlineGap())}),s.YNc(2,z$,4,1,"ng-container",12),s.YNc(3,$$,1,0,"ng-content",12),s.YNc(4,q$,2,0,"span",22),s.qZA()}if(2&n){const e=s.oxw();s.ekj("mat-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-form-field-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-accent","accent"==e.color)("mat-warn","warn"==e.color),s.Q6J("cdkObserveContentDisabled","outline"!=e.appearance)("id",e._labelId)("ngSwitch",e._hasLabel()),s.uIk("for",e._control.id)("aria-owns",e._control.id),s.xp6(2),s.Q6J("ngSwitchCase",!1),s.xp6(1),s.Q6J("ngSwitchCase",!0),s.xp6(1),s.Q6J("ngIf",!e.hideRequiredMarker&&e._control.required&&!e._control.disabled)}}function Y$(n,t){1&n&&(s.TgZ(0,"div",24),s.Hsn(1,4),s.qZA())}function W$(n,t){if(1&n&&(s.TgZ(0,"div",25),s._UZ(1,"span",26),s.qZA()),2&n){const e=s.oxw();s.xp6(1),s.ekj("mat-accent","accent"==e.color)("mat-warn","warn"==e.color)}}function K$(n,t){if(1&n&&(s.TgZ(0,"div"),s.Hsn(1,5),s.qZA()),2&n){const e=s.oxw();s.Q6J("@transitionMessages",e._subscriptAnimationState)}}function Q$(n,t){if(1&n&&(s.TgZ(0,"div",30),s._uU(1),s.qZA()),2&n){const e=s.oxw(2);s.Q6J("id",e._hintLabelId),s.xp6(1),s.Oqu(e.hintLabel)}}function J$(n,t){if(1&n&&(s.TgZ(0,"div",27),s.YNc(1,Q$,2,2,"div",28),s.Hsn(2,6),s._UZ(3,"div",29),s.Hsn(4,7),s.qZA()),2&n){const e=s.oxw();s.Q6J("@transitionMessages",e._subscriptAnimationState),s.xp6(1),s.Q6J("ngIf",e.hintLabel)}}const X$=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],eq=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"];let tq=0;const gB=new s.OlP("MatError");let tI=(()=>{class n{constructor(e,i){this.id="mat-error-"+tq++,e||i.nativeElement.setAttribute("aria-live","polite")}}return n.\u0275fac=function(e){return new(e||n)(s.$8M("aria-live"),s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n,selectors:[["mat-error"]],hostAttrs:["aria-atomic","true",1,"mat-error"],hostVars:1,hostBindings:function(e,i){2&e&&s.uIk("id",i.id)},inputs:{id:"id"},features:[s._Bn([{provide:gB,useExisting:n}])]}),n})();const nq={transitionMessages:pr("transitionMessages",[Pn("enter",Ct({opacity:1,transform:"translateY(0%)"})),kn("void => enter",[Ct({opacity:0,transform:"translateY(-5px)"}),Vn("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let nI=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n}),n})(),iq=0;const _B=new s.OlP("MatHint");let f1=(()=>{class n{constructor(){this.align="start",this.id="mat-hint-"+iq++}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["mat-hint"]],hostAttrs:[1,"mat-hint"],hostVars:4,hostBindings:function(e,i){2&e&&(s.uIk("id",i.id)("align",null),s.ekj("mat-form-field-hint-end","end"===i.align))},inputs:{align:"align",id:"id"},features:[s._Bn([{provide:_B,useExisting:n}])]}),n})(),Zc=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["mat-label"]]}),n})(),rq=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["mat-placeholder"]]}),n})();const sq=new s.OlP("MatPrefix"),oq=new s.OlP("MatSuffix");let yB=0;const lq=Jg(class{constructor(n){this._elementRef=n}},"primary"),cq=new s.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS"),iI=new s.OlP("MatFormField");let vd=(()=>{class n extends lq{constructor(e,i,r,o,u,h,_){super(e),this._changeDetectorRef=i,this._dir=r,this._defaults=o,this._platform=u,this._ngZone=h,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new Ze.x,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+yB++,this._labelId="mat-form-field-label-"+yB++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==_,this.appearance=o&&o.appearance?o.appearance:"legacy",this._hideRequiredMarker=!(!o||null==o.hideRequiredMarker)&&o.hideRequiredMarker}get appearance(){return this._appearance}set appearance(e){const i=this._appearance;this._appearance=e||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&i!==e&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(e){this._hideRequiredMarker=Mt(e)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(e){this._hintLabel=e,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(e){e!==this._floatLabel&&(this._floatLabel=e||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(e){this._explicitFormFieldControl=e}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const e=this._control;e.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${e.controlType}`),e.stateChanges.pipe(Yn(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),e.ngControl&&e.ngControl.valueChanges&&e.ngControl.valueChanges.pipe(Vt(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(Vt(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),(0,dr.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(Yn(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(Yn(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(Vt(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(e){const i=this._control?this._control.ngControl:null;return i&&i[e]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,Ic(this._label.nativeElement,"transitionend").pipe(Et(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let e=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&e.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const i=this._hintChildren?this._hintChildren.find(o=>"start"===o.align):null,r=this._hintChildren?this._hintChildren.find(o=>"end"===o.align):null;i?e.push(i.id):this._hintLabel&&e.push(this._hintLabelId),r&&e.push(r.id)}else this._errorChildren&&e.push(...this._errorChildren.map(i=>i.id));this._control.setDescribedByIds(e)}}_validateControlChild(){}updateOutlineGap(){const e=this._label?this._label.nativeElement:null,i=this._connectionContainerRef.nativeElement,r=".mat-form-field-outline-start",o=".mat-form-field-outline-gap";if("outline"!==this.appearance||!this._platform.isBrowser)return;if(!e||!e.children.length||!e.textContent.trim()){const D=i.querySelectorAll(`${r}, ${o}`);for(let M=0;M<D.length;M++)D[M].style.width="0";return}if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let u=0,h=0;const _=i.querySelectorAll(r),b=i.querySelectorAll(o);if(this._label&&this._label.nativeElement.children.length){const D=i.getBoundingClientRect();if(0===D.width&&0===D.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const M=this._getStartEnd(D),O=e.children,B=this._getStartEnd(O[0].getBoundingClientRect());let $=0;for(let ne=0;ne<O.length;ne++)$+=O[ne].offsetWidth;u=Math.abs(B-M)-5,h=$>0?.75*$+10:0}for(let D=0;D<_.length;D++)_[D].style.width=`${u}px`;for(let D=0;D<b.length;D++)b[D].style.width=`${h}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(e){return this._dir&&"rtl"===this._dir.value?e.right:e.left}_isAttachedToDOM(){const e=this._elementRef.nativeElement;if(e.getRootNode){const i=e.getRootNode();return i&&i!==e}return document.documentElement.contains(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.sBO),s.Y36(qr,8),s.Y36(cq,8),s.Y36(En),s.Y36(s.R0b),s.Y36(s.QbO,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-form-field"]],contentQueries:function(e,i,r){if(1&e&&(s.Suo(r,nI,5),s.Suo(r,nI,7),s.Suo(r,Zc,5),s.Suo(r,Zc,7),s.Suo(r,rq,5),s.Suo(r,gB,5),s.Suo(r,_B,5),s.Suo(r,sq,5),s.Suo(r,oq,5)),2&e){let o;s.iGM(o=s.CRH())&&(i._controlNonStatic=o.first),s.iGM(o=s.CRH())&&(i._controlStatic=o.first),s.iGM(o=s.CRH())&&(i._labelChildNonStatic=o.first),s.iGM(o=s.CRH())&&(i._labelChildStatic=o.first),s.iGM(o=s.CRH())&&(i._placeholderChild=o.first),s.iGM(o=s.CRH())&&(i._errorChildren=o),s.iGM(o=s.CRH())&&(i._hintChildren=o),s.iGM(o=s.CRH())&&(i._prefixChildren=o),s.iGM(o=s.CRH())&&(i._suffixChildren=o)}},viewQuery:function(e,i){if(1&e&&(s.Gf(B$,7),s.Gf(U$,5),s.Gf(H$,5)),2&e){let r;s.iGM(r=s.CRH())&&(i._connectionContainerRef=r.first),s.iGM(r=s.CRH())&&(i._inputContainerRef=r.first),s.iGM(r=s.CRH())&&(i._label=r.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(e,i){2&e&&s.ekj("mat-form-field-appearance-standard","standard"==i.appearance)("mat-form-field-appearance-fill","fill"==i.appearance)("mat-form-field-appearance-outline","outline"==i.appearance)("mat-form-field-appearance-legacy","legacy"==i.appearance)("mat-form-field-invalid",i._control.errorState)("mat-form-field-can-float",i._canLabelFloat())("mat-form-field-should-float",i._shouldLabelFloat())("mat-form-field-has-label",i._hasFloatingLabel())("mat-form-field-hide-placeholder",i._hideControlPlaceholder())("mat-form-field-disabled",i._control.disabled)("mat-form-field-autofilled",i._control.autofilled)("mat-focused",i._control.focused)("ng-untouched",i._shouldForward("untouched"))("ng-touched",i._shouldForward("touched"))("ng-pristine",i._shouldForward("pristine"))("ng-dirty",i._shouldForward("dirty"))("ng-valid",i._shouldForward("valid"))("ng-invalid",i._shouldForward("invalid"))("ng-pending",i._shouldForward("pending"))("_mat-animation-noopable",!i._animationsEnabled)},inputs:{color:"color",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel",floatLabel:"floatLabel"},exportAs:["matFormField"],features:[s._Bn([{provide:iI,useExisting:n}]),s.qOj],ngContentSelectors:eq,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(e,i){1&e&&(s.F$t(X$),s.TgZ(0,"div",0)(1,"div",1,2),s.NdJ("click",function(o){return i._control.onContainerClick&&i._control.onContainerClick(o)}),s.YNc(3,j$,9,0,"ng-container",3),s.YNc(4,G$,2,1,"div",4),s.TgZ(5,"div",5,6),s.Hsn(7),s.TgZ(8,"span",7),s.YNc(9,Z$,5,16,"label",8),s.qZA()(),s.YNc(10,Y$,2,0,"div",9),s.qZA(),s.YNc(11,W$,2,4,"div",10),s.TgZ(12,"div",11),s.YNc(13,K$,2,1,"div",12),s.YNc(14,J$,5,2,"div",13),s.qZA()()),2&e&&(s.xp6(3),s.Q6J("ngIf","outline"==i.appearance),s.xp6(1),s.Q6J("ngIf",i._prefixChildren.length),s.xp6(5),s.Q6J("ngIf",i._hasFloatingLabel()),s.xp6(1),s.Q6J("ngIf",i._suffixChildren.length),s.xp6(1),s.Q6J("ngIf","outline"!=i.appearance),s.xp6(1),s.Q6J("ngSwitch",i._getDisplayedMessages()),s.xp6(1),s.Q6J("ngSwitchCase","error"),s.xp6(1),s.Q6J("ngSwitchCase","hint"))},dependencies:[sn,NT,yo,$s],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.cdk-high-contrast-active .mat-form-field-disabled .mat-form-field-label{color:GrayText}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-form-field-flex{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element:not([type=password])::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px)}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px;border-top-color:GrayText}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-form-field-disabled .mat-form-field-outline{color:GrayText}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[nq.transitionMessages]},changeDetection:0}),n})(),r0=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[Li,Wt,Bv],Wt]}),n})();const bB=Mc({passive:!0});let uq=(()=>{class n{constructor(e,i){this._platform=e,this._ngZone=i,this._monitoredElements=new Map}monitor(e){if(!this._platform.isBrowser)return cs.E;const i=gl(e),r=this._monitoredElements.get(i);if(r)return r.subject;const o=new Ze.x,u="cdk-text-field-autofilled",h=_=>{"cdk-text-field-autofill-start"!==_.animationName||i.classList.contains(u)?"cdk-text-field-autofill-end"===_.animationName&&i.classList.contains(u)&&(i.classList.remove(u),this._ngZone.run(()=>o.next({target:_.target,isAutofilled:!1}))):(i.classList.add(u),this._ngZone.run(()=>o.next({target:_.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{i.addEventListener("animationstart",h,bB),i.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(i,{subject:o,unlisten:()=>{i.removeEventListener("animationstart",h,bB)}}),o}stopMonitoring(e){const i=gl(e),r=this._monitoredElements.get(i);r&&(r.unlisten(),r.subject.complete(),i.classList.remove("cdk-text-field-autofill-monitored"),i.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(i))}ngOnDestroy(){this._monitoredElements.forEach((e,i)=>this.stopMonitoring(i))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(En),s.LFG(s.R0b))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),wB=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();const CB=new s.OlP("MAT_INPUT_VALUE_ACCESSOR"),dq=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let hq=0;const fq=tA(class{constructor(n,t,e,i){this._defaultErrorStateMatcher=n,this._parentForm=t,this._parentFormGroup=e,this.ngControl=i}});let hf=(()=>{class n extends fq{constructor(e,i,r,o,u,h,_,b,D,M){super(h,o,u,r),this._elementRef=e,this._platform=i,this._autofillMonitor=b,this._formField=M,this._uid="mat-input-"+hq++,this.focused=!1,this.stateChanges=new Ze.x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter($=>Ea().has($)),this._iOSKeyupListener=$=>{const ne=$.target;!ne.value&&0===ne.selectionStart&&0===ne.selectionEnd&&(ne.setSelectionRange(1,1),ne.setSelectionRange(0,0))};const O=this._elementRef.nativeElement,B=O.nodeName.toLowerCase();this._inputValueAccessor=_||O,this._previousNativeValue=this.value,this.id=this.id,i.IOS&&D.runOutsideAngular(()=>{e.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===B,this._isTextarea="textarea"===B,this._isInFormField=!!M,this._isNativeSelect&&(this.controlType=O.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(e){this._disabled=Mt(e),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(e){this._id=e||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(Mn.required)??!1}set required(e){this._required=Mt(e)}get type(){return this._type}set type(e){this._type=e||"text",this._validateType(),!this._isTextarea&&Ea().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(e){e!==this.value&&(this._inputValueAccessor.value=e,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(e){this._readonly=Mt(e)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(e=>{this.autofilled=e.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(e){this._elementRef.nativeElement.focus(e)}_focusChanged(e){e!==this.focused&&(this.focused=e,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){const e=this._formField?._hideControlPlaceholder?.()?null:this.placeholder;if(e!==this._previousPlaceholder){const i=this._elementRef.nativeElement;this._previousPlaceholder=e,e?i.setAttribute("placeholder",e):i.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const e=this._elementRef.nativeElement.value;this._previousNativeValue!==e&&(this._previousNativeValue=e,this.stateChanges.next())}_validateType(){dq.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let e=this._elementRef.nativeElement.validity;return e&&e.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const e=this._elementRef.nativeElement,i=e.options[0];return this.focused||e.multiple||!this.empty||!!(e.selectedIndex>-1&&i&&i.label)}return this.focused||!this.empty}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const e=this._elementRef.nativeElement;return this._isNativeSelect&&(e.multiple||e.size>1)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(En),s.Y36(Ta,10),s.Y36(g_,8),s.Y36(xa,8),s.Y36(eb),s.Y36(CB,10),s.Y36(uq),s.Y36(s.R0b),s.Y36(iI,8))},n.\u0275dir=s.lG2({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:12,hostBindings:function(e,i){1&e&&s.NdJ("focus",function(){return i._focusChanged(!0)})("blur",function(){return i._focusChanged(!1)})("input",function(){return i._onInput()}),2&e&&(s.Ikx("disabled",i.disabled)("required",i.required),s.uIk("id",i.id)("data-placeholder",i.placeholder)("name",i.name||null)("readonly",i.readonly&&!i._isNativeSelect||null)("aria-invalid",i.empty&&i.required?null:i.errorState)("aria-required",i.required),s.ekj("mat-input-server",i._isServer)("mat-native-select-inline",i._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[s._Bn([{provide:nI,useExisting:n}]),s.qOj,s.TTD]}),n})(),DB=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[eb],imports:[[wB,r0,Wt],wB,r0]}),n})();function p1(n){return n&&"function"==typeof n.connect}class EB{applyChanges(t,e,i,r,o){t.forEachOperation((u,h,_)=>{let b,D;if(null==u.previousIndex){const M=i(u,h,_);b=e.createEmbeddedView(M.templateRef,M.context,M.index),D=1}else null==_?(e.remove(h),D=3):(b=e.get(h),e.move(b,_),D=2);o&&o({context:b?.context,operation:D,record:u})})}detach(){}}class m1{constructor(t=!1,e,i=!0){this._multiple=t,this._emitChanges=i,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new Ze.x,e&&e.length&&(t?e.forEach(r=>this._markSelected(r)):this._markSelected(e[0]),this._selectedToEmit.length=0)}get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}select(...t){this._verifyValueAssignment(t),t.forEach(e=>this._markSelected(e)),this._emitChangeEvent()}deselect(...t){this._verifyValueAssignment(t),t.forEach(e=>this._unmarkSelected(e)),this._emitChangeEvent()}toggle(t){this.isSelected(t)?this.deselect(t):this.select(t)}clear(){this._unmarkAll(),this._emitChangeEvent()}isSelected(t){return this._selection.has(t)}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(t){this._multiple&&this.selected&&this._selected.sort(t)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(t){this.isSelected(t)||(this._multiple||this._unmarkAll(),this._selection.add(t),this._emitChanges&&this._selectedToEmit.push(t))}_unmarkSelected(t){this.isSelected(t)&&(this._selection.delete(t),this._emitChanges&&this._deselectedToEmit.push(t))}_unmarkAll(){this.isEmpty()||this._selection.forEach(t=>this._unmarkSelected(t))}_verifyValueAssignment(t){}}let mq=(()=>{class n{constructor(){this._listeners=[]}notify(e,i){for(let r of this._listeners)r(e,i)}listen(e){return this._listeners.push(e),()=>{this._listeners=this._listeners.filter(i=>e!==i)}}ngOnDestroy(){this._listeners=[]}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const s0=new s.OlP("_ViewRepeater"),gq=["input"],_q=function(n){return{enterDuration:n}},yq=["*"],vq=new s.OlP("mat-radio-default-options",{providedIn:"root",factory:function bq(){return{color:"accent"}}});let IB=0;const wq={provide:Yr,useExisting:(0,s.Gpc)(()=>rI),multi:!0};class MB{constructor(t,e){this.source=t,this.value=e}}const TB=new s.OlP("MatRadioGroup");let Cq=(()=>{class n{constructor(e){this._changeDetector=e,this._value=null,this._name="mat-radio-group-"+IB++,this._selected=null,this._isInitialized=!1,this._labelPosition="after",this._disabled=!1,this._required=!1,this._controlValueAccessorChangeFn=()=>{},this.onTouched=()=>{},this.change=new s.vpe}get name(){return this._name}set name(e){this._name=e,this._updateRadioButtonNames()}get labelPosition(){return this._labelPosition}set labelPosition(e){this._labelPosition="before"===e?"before":"after",this._markRadiosForCheck()}get value(){return this._value}set value(e){this._value!==e&&(this._value=e,this._updateSelectedRadioFromValue(),this._checkSelectedRadioButton())}_checkSelectedRadioButton(){this._selected&&!this._selected.checked&&(this._selected.checked=!0)}get selected(){return this._selected}set selected(e){this._selected=e,this.value=e?e.value:null,this._checkSelectedRadioButton()}get disabled(){return this._disabled}set disabled(e){this._disabled=Mt(e),this._markRadiosForCheck()}get required(){return this._required}set required(e){this._required=Mt(e),this._markRadiosForCheck()}ngAfterContentInit(){this._isInitialized=!0}_touch(){this.onTouched&&this.onTouched()}_updateRadioButtonNames(){this._radios&&this._radios.forEach(e=>{e.name=this.name,e._markForCheck()})}_updateSelectedRadioFromValue(){this._radios&&(null===this._selected||this._selected.value!==this._value)&&(this._selected=null,this._radios.forEach(i=>{i.checked=this.value===i.value,i.checked&&(this._selected=i)}))}_emitChangeEvent(){this._isInitialized&&this.change.emit(new MB(this._selected,this._value))}_markRadiosForCheck(){this._radios&&this._radios.forEach(e=>e._markForCheck())}writeValue(e){this.value=e,this._changeDetector.markForCheck()}registerOnChange(e){this._controlValueAccessorChangeFn=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this.disabled=e,this._changeDetector.markForCheck()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.sBO))},n.\u0275dir=s.lG2({type:n,inputs:{color:"color",name:"name",labelPosition:"labelPosition",value:"value",selected:"selected",disabled:"disabled",required:"required"},outputs:{change:"change"}}),n})(),rI=(()=>{class n extends Cq{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["mat-radio-group"]],contentQueries:function(e,i,r){if(1&e&&s.Suo(r,sI,5),2&e){let o;s.iGM(o=s.CRH())&&(i._radios=o)}},hostAttrs:["role","radiogroup",1,"mat-radio-group"],exportAs:["matRadioGroup"],features:[s._Bn([wq,{provide:TB,useExisting:n}]),s.qOj]}),n})();class Dq{constructor(t){this._elementRef=t}}const Eq=Cl(Jv(Dq));let Sq=(()=>{class n extends Eq{constructor(e,i,r,o,u,h,_,b){super(i),this._changeDetector=r,this._focusMonitor=o,this._radioDispatcher=u,this._providerOverride=_,this._uniqueId="mat-radio-"+ ++IB,this.id=this._uniqueId,this.change=new s.vpe,this._checked=!1,this._value=null,this._removeUniqueSelectionListener=()=>{},this.radioGroup=e,this._noopAnimations="NoopAnimations"===h,b&&(this.tabIndex=xr(b,0)),this._removeUniqueSelectionListener=u.listen((D,M)=>{D!==this.id&&M===this.name&&(this.checked=!1)})}get checked(){return this._checked}set checked(e){const i=Mt(e);this._checked!==i&&(this._checked=i,i&&this.radioGroup&&this.radioGroup.value!==this.value?this.radioGroup.selected=this:!i&&this.radioGroup&&this.radioGroup.value===this.value&&(this.radioGroup.selected=null),i&&this._radioDispatcher.notify(this.id,this.name),this._changeDetector.markForCheck())}get value(){return this._value}set value(e){this._value!==e&&(this._value=e,null!==this.radioGroup&&(this.checked||(this.checked=this.radioGroup.value===e),this.checked&&(this.radioGroup.selected=this)))}get labelPosition(){return this._labelPosition||this.radioGroup&&this.radioGroup.labelPosition||"after"}set labelPosition(e){this._labelPosition=e}get disabled(){return this._disabled||null!==this.radioGroup&&this.radioGroup.disabled}set disabled(e){this._setDisabled(Mt(e))}get required(){return this._required||this.radioGroup&&this.radioGroup.required}set required(e){this._required=Mt(e)}get color(){return this._color||this.radioGroup&&this.radioGroup.color||this._providerOverride&&this._providerOverride.color||"accent"}set color(e){this._color=e}get inputId(){return`${this.id||this._uniqueId}-input`}focus(e,i){i?this._focusMonitor.focusVia(this._inputElement,i,e):this._inputElement.nativeElement.focus(e)}_markForCheck(){this._changeDetector.markForCheck()}ngOnInit(){this.radioGroup&&(this.checked=this.radioGroup.value===this._value,this.checked&&(this.radioGroup.selected=this),this.name=this.radioGroup.name)}ngDoCheck(){this._updateTabIndex()}ngAfterViewInit(){this._updateTabIndex(),this._focusMonitor.monitor(this._elementRef,!0).subscribe(e=>{!e&&this.radioGroup&&this.radioGroup._touch()})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._removeUniqueSelectionListener()}_emitChangeEvent(){this.change.emit(new MB(this,this._value))}_isRippleDisabled(){return this.disableRipple||this.disabled}_onInputClick(e){e.stopPropagation()}_onInputInteraction(e){if(e.stopPropagation(),!this.checked&&!this.disabled){const i=this.radioGroup&&this.value!==this.radioGroup.value;this.checked=!0,this._emitChangeEvent(),this.radioGroup&&(this.radioGroup._controlValueAccessorChangeFn(this.value),i&&this.radioGroup._emitChangeEvent())}}_setDisabled(e){this._disabled!==e&&(this._disabled=e,this._changeDetector.markForCheck())}_updateTabIndex(){const e=this.radioGroup;let i;if(i=e&&e.selected&&!this.disabled?e.selected===this?this.tabIndex:-1:this.tabIndex,i!==this._previousTabIndex){const r=this._inputElement?.nativeElement;r&&(r.setAttribute("tabindex",i+""),this._previousTabIndex=i)}}}return n.\u0275fac=function(e){s.$Z()},n.\u0275dir=s.lG2({type:n,viewQuery:function(e,i){if(1&e&&s.Gf(gq,5),2&e){let r;s.iGM(r=s.CRH())&&(i._inputElement=r.first)}},inputs:{id:"id",name:"name",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],checked:"checked",value:"value",labelPosition:"labelPosition",disabled:"disabled",required:"required",color:"color"},outputs:{change:"change"},features:[s.qOj]}),n})(),sI=(()=>{class n extends Sq{constructor(e,i,r,o,u,h,_,b){super(e,i,r,o,u,h,_,b)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(TB,8),s.Y36(s.SBq),s.Y36(s.sBO),s.Y36(wl),s.Y36(mq),s.Y36(s.QbO,8),s.Y36(vq,8),s.$8M("tabindex"))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-radio-button"]],hostAttrs:[1,"mat-radio-button"],hostVars:17,hostBindings:function(e,i){1&e&&s.NdJ("focus",function(){return i._inputElement.nativeElement.focus()}),2&e&&(s.uIk("tabindex",null)("id",i.id)("aria-label",null)("aria-labelledby",null)("aria-describedby",null),s.ekj("mat-radio-checked",i.checked)("mat-radio-disabled",i.disabled)("_mat-animation-noopable",i._noopAnimations)("mat-primary","primary"===i.color)("mat-accent","accent"===i.color)("mat-warn","warn"===i.color))},inputs:{disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matRadioButton"],features:[s.qOj],ngContentSelectors:yq,decls:13,vars:19,consts:[[1,"mat-radio-label"],["label",""],[1,"mat-radio-container"],[1,"mat-radio-outer-circle"],[1,"mat-radio-inner-circle"],["type","radio",1,"mat-radio-input",3,"id","checked","disabled","required","change","click"],["input",""],["mat-ripple","",1,"mat-radio-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered","matRippleRadius","matRippleAnimation"],[1,"mat-ripple-element","mat-radio-persistent-ripple"],[1,"mat-radio-label-content"],[2,"display","none"]],template:function(e,i){if(1&e&&(s.F$t(),s.TgZ(0,"label",0,1)(2,"span",2),s._UZ(3,"span",3)(4,"span",4),s.TgZ(5,"input",5,6),s.NdJ("change",function(o){return i._onInputInteraction(o)})("click",function(o){return i._onInputClick(o)}),s.qZA(),s.TgZ(7,"span",7),s._UZ(8,"span",8),s.qZA()(),s.TgZ(9,"span",9)(10,"span",10),s._uU(11,"\xa0"),s.qZA(),s.Hsn(12),s.qZA()()),2&e){const r=s.MAs(1);s.uIk("for",i.inputId),s.xp6(5),s.Q6J("id",i.inputId)("checked",i.checked)("disabled",i.disabled)("required",i.required),s.uIk("name",i.name)("value",i.value)("aria-label",i.ariaLabel)("aria-labelledby",i.ariaLabelledby)("aria-describedby",i.ariaDescribedby),s.xp6(2),s.Q6J("matRippleTrigger",r)("matRippleDisabled",i._isRippleDisabled())("matRippleCentered",!0)("matRippleRadius",20)("matRippleAnimation",s.VKq(17,_q,i._noopAnimations?0:150)),s.xp6(2),s.ekj("mat-radio-label-before","before"==i.labelPosition)}},dependencies:[Nc],styles:[".mat-radio-button{display:inline-block;-webkit-tap-highlight-color:transparent;outline:0}.mat-radio-label{-webkit-user-select:none;user-select:none;cursor:pointer;display:inline-flex;align-items:center;white-space:nowrap;vertical-align:middle;width:100%}.mat-radio-container{box-sizing:border-box;display:inline-block;position:relative;width:20px;height:20px;flex-shrink:0}.mat-radio-outer-circle{box-sizing:border-box;display:block;height:20px;left:0;position:absolute;top:0;transition:border-color ease 280ms;width:20px;border-width:2px;border-style:solid;border-radius:50%}._mat-animation-noopable .mat-radio-outer-circle{transition:none}.mat-radio-inner-circle{border-radius:50%;box-sizing:border-box;display:block;height:20px;left:0;position:absolute;top:0;opacity:0;transition:transform ease 280ms,background-color ease 280ms,opacity linear 1ms 280ms;width:20px;transform:scale(0.001);-webkit-print-color-adjust:exact;color-adjust:exact}.mat-radio-checked .mat-radio-inner-circle{transform:scale(0.5);opacity:1;transition:transform ease 280ms,background-color ease 280ms}.cdk-high-contrast-active .mat-radio-checked .mat-radio-inner-circle{border:solid 10px}._mat-animation-noopable .mat-radio-inner-circle{transition:none}.mat-radio-label-content{-webkit-user-select:auto;user-select:auto;display:inline-block;order:0;line-height:inherit;padding-left:8px;padding-right:0}[dir=rtl] .mat-radio-label-content{padding-right:8px;padding-left:0}.mat-radio-label-content.mat-radio-label-before{order:-1;padding-left:0;padding-right:8px}[dir=rtl] .mat-radio-label-content.mat-radio-label-before{padding-right:0;padding-left:8px}.mat-radio-disabled,.mat-radio-disabled .mat-radio-label{cursor:default}.mat-radio-button .mat-radio-ripple{position:absolute;left:calc(50% - 20px);top:calc(50% - 20px);height:40px;width:40px;z-index:1;pointer-events:none}.mat-radio-button .mat-radio-ripple .mat-ripple-element:not(.mat-radio-persistent-ripple){opacity:.16}.mat-radio-persistent-ripple{width:100%;height:100%;transform:none;top:0;left:0}.mat-radio-container:hover .mat-radio-persistent-ripple{opacity:.04}.mat-radio-button:not(.mat-radio-disabled).cdk-keyboard-focused .mat-radio-persistent-ripple,.mat-radio-button:not(.mat-radio-disabled).cdk-program-focused .mat-radio-persistent-ripple{opacity:.12}.mat-radio-persistent-ripple,.mat-radio-disabled .mat-radio-container:hover .mat-radio-persistent-ripple{opacity:0}@media(hover: none){.mat-radio-container:hover .mat-radio-persistent-ripple{display:none}}.mat-radio-input{opacity:0;position:absolute;top:0;left:0;margin:0;width:100%;height:100%;cursor:inherit;z-index:-1}.cdk-high-contrast-active .mat-radio-button:not(.mat-radio-disabled).cdk-keyboard-focused .mat-radio-ripple,.cdk-high-contrast-active .mat-radio-button:not(.mat-radio-disabled).cdk-program-focused .mat-radio-ripple{outline:solid 3px}.cdk-high-contrast-active .mat-radio-disabled{opacity:.5}\n"],encapsulation:2,changeDetection:0}),n})(),AB=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[Tp,Wt],Wt]}),n})();const Iq=["trigger"],Mq=["panel"];function Tq(n,t){if(1&n&&(s.TgZ(0,"span",8),s._uU(1),s.qZA()),2&n){const e=s.oxw();s.xp6(1),s.Oqu(e.placeholder)}}function Aq(n,t){if(1&n&&(s.TgZ(0,"span",12),s._uU(1),s.qZA()),2&n){const e=s.oxw(2);s.xp6(1),s.Oqu(e.triggerValue)}}function xq(n,t){1&n&&s.Hsn(0,0,["*ngSwitchCase","true"])}function kq(n,t){if(1&n&&(s.TgZ(0,"span",9),s.YNc(1,Aq,2,1,"span",10),s.YNc(2,xq,1,0,"ng-content",11),s.qZA()),2&n){const e=s.oxw();s.Q6J("ngSwitch",!!e.customTrigger),s.xp6(2),s.Q6J("ngSwitchCase",!0)}}function Rq(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",13)(1,"div",14,15),s.NdJ("@transformPanel.done",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o._panelDoneAnimatingStream.next(r.toState))})("keydown",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o._handleKeydown(r))}),s.Hsn(3,1),s.qZA()()}if(2&n){const e=s.oxw();s.Q6J("@transformPanelWrap",void 0),s.xp6(1),s.Gre("mat-select-panel ",e._getPanelTheme(),""),s.Udp("transform-origin",e._transformOrigin)("font-size",e._triggerFontSize,"px"),s.Q6J("ngClass",e.panelClass)("@transformPanel",e.multiple?"showing-multiple":"showing"),s.uIk("id",e.id+"-panel")("aria-multiselectable",e.multiple)("aria-label",e.ariaLabel||null)("aria-labelledby",e._getPanelAriaLabelledby())}}const Oq=[[["mat-select-trigger"]],"*"],Pq=["mat-select-trigger","*"],xB={transformPanelWrap:pr("transformPanelWrap",[kn("* => void",n_("@transformPanel",[Ap()],{optional:!0}))]),transformPanel:pr("transformPanel",[Pn("void",Ct({transform:"scaleY(0.8)",minWidth:"100%",opacity:0})),Pn("showing",Ct({opacity:1,minWidth:"calc(100% + 32px)",transform:"scaleY(1)"})),Pn("showing-multiple",Ct({opacity:1,minWidth:"calc(100% + 64px)",transform:"scaleY(1)"})),kn("void => *",Vn("120ms cubic-bezier(0, 0, 0.2, 1)")),kn("* => void",Vn("100ms 25ms linear",Ct({opacity:0})))])};let kB=0;const OB=new s.OlP("mat-select-scroll-strategy"),Vq=new s.OlP("MAT_SELECT_CONFIG"),Bq={provide:OB,deps:[As],useFactory:function Lq(n){return()=>n.scrollStrategies.reposition()}};class Uq{constructor(t,e){this.source=t,this.value=e}}const Hq=Cl(Jv(Fc(tA(class{constructor(n,t,e,i,r){this._elementRef=n,this._defaultErrorStateMatcher=t,this._parentForm=e,this._parentFormGroup=i,this.ngControl=r}})))),jq=new s.OlP("MatSelectTrigger");let Gq=(()=>{class n extends Hq{constructor(e,i,r,o,u,h,_,b,D,M,O,B,$,ne){super(u,o,_,b,M),this._viewportRuler=e,this._changeDetectorRef=i,this._ngZone=r,this._dir=h,this._parentFormField=D,this._liveAnnouncer=$,this._defaultOptions=ne,this._panelOpen=!1,this._compareWith=(ce,We)=>ce===We,this._uid="mat-select-"+kB++,this._triggerAriaLabelledBy=null,this._destroy=new Ze.x,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+kB++,this._panelDoneAnimatingStream=new Ze.x,this._overlayPanelClass=this._defaultOptions?.overlayPanelClass||"",this._focused=!1,this.controlType="mat-select",this._multiple=!1,this._disableOptionCentering=this._defaultOptions?.disableOptionCentering??!1,this.ariaLabel="",this.optionSelectionChanges=cr(()=>{const ce=this.options;return ce?ce.changes.pipe(Yn(ce),Ln(()=>(0,dr.T)(...ce.map(We=>We.onSelectionChange)))):this._ngZone.onStable.pipe(Et(1),Ln(()=>this.optionSelectionChanges))}),this.openedChange=new s.vpe,this._openedStream=this.openedChange.pipe(S(ce=>ce),(0,Ge.U)(()=>{})),this._closedStream=this.openedChange.pipe(S(ce=>!ce),(0,Ge.U)(()=>{})),this.selectionChange=new s.vpe,this.valueChange=new s.vpe,this.ngControl&&(this.ngControl.valueAccessor=this),null!=ne?.typeaheadDebounceInterval&&(this._typeaheadDebounceInterval=ne.typeaheadDebounceInterval),this._scrollStrategyFactory=B,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(O)||0,this.id=this.id}get focused(){return this._focused||this._panelOpen}get placeholder(){return this._placeholder}set placeholder(e){this._placeholder=e,this.stateChanges.next()}get required(){return this._required??this.ngControl?.control?.hasValidator(Mn.required)??!1}set required(e){this._required=Mt(e),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(e){this._multiple=Mt(e)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(e){this._disableOptionCentering=Mt(e)}get compareWith(){return this._compareWith}set compareWith(e){this._compareWith=e,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(e){this._assignValue(e)&&this._onChange(e)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(e){this._typeaheadDebounceInterval=xr(e)}get id(){return this._id}set id(e){this._id=e||this._uid,this.stateChanges.next()}ngOnInit(){this._selectionModel=new m1(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe(Dp(),Vt(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen))}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe(Vt(this._destroy)).subscribe(e=>{e.added.forEach(i=>i.select()),e.removed.forEach(i=>i.deselect())}),this.options.changes.pipe(Yn(null),Vt(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const e=this._getTriggerAriaLabelledby(),i=this.ngControl;if(e!==this._triggerAriaLabelledBy){const r=this._elementRef.nativeElement;this._triggerAriaLabelledBy=e,e?r.setAttribute("aria-labelledby",e):r.removeAttribute("aria-labelledby")}i&&(this._previousControl!==i.control&&(void 0!==this._previousControl&&null!==i.disabled&&i.disabled!==this.disabled&&(this.disabled=i.disabled),this._previousControl=i.control),this.updateErrorState())}ngOnChanges(e){e.disabled&&this.stateChanges.next(),e.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._destroy.next(),this._destroy.complete(),this.stateChanges.complete()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck())}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(e){this._assignValue(e)}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel?.selected||[]:this._selectionModel?.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const e=this._selectionModel.selected.map(i=>i.viewValue);return this._isRtl()&&e.reverse(),e.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(e){this.disabled||(this.panelOpen?this._handleOpenKeydown(e):this._handleClosedKeydown(e))}_handleClosedKeydown(e){const i=e.keyCode,r=40===i||38===i||37===i||39===i,o=13===i||32===i,u=this._keyManager;if(!u.isTyping()&&o&&!hr(e)||(this.multiple||e.altKey)&&r)e.preventDefault(),this.open();else if(!this.multiple){const h=this.selected;u.onKeydown(e);const _=this.selected;_&&h!==_&&this._liveAnnouncer.announce(_.viewValue,1e4)}}_handleOpenKeydown(e){const i=this._keyManager,r=e.keyCode,o=40===r||38===r,u=i.isTyping();if(o&&e.altKey)e.preventDefault(),this.close();else if(u||13!==r&&32!==r||!i.activeItem||hr(e))if(!u&&this._multiple&&65===r&&e.ctrlKey){e.preventDefault();const h=this.options.some(_=>!_.disabled&&!_.selected);this.options.forEach(_=>{_.disabled||(h?_.select():_.deselect())})}else{const h=i.activeItemIndex;i.onKeydown(e),this._multiple&&o&&e.shiftKey&&i.activeItem&&i.activeItemIndex!==h&&i.activeItem._selectViaInteraction()}else e.preventDefault(),i.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe(Et(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(e){if(this._selectionModel.selected.forEach(i=>i.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&e)Array.isArray(e),e.forEach(i=>this._selectOptionByValue(i)),this._sortValues();else{const i=this._selectOptionByValue(e);i?this._keyManager.updateActiveItem(i):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(e){const i=this.options.find(r=>{if(this._selectionModel.isSelected(r))return!1;try{return null!=r.value&&this._compareWith(r.value,e)}catch{return!1}});return i&&this._selectionModel.select(i),i}_assignValue(e){return!!(e!==this._value||this._multiple&&Array.isArray(e))&&(this.options&&this._setSelectionByValue(e),this._value=e,!0)}_initKeyManager(){this._keyManager=new XC(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withAllowedModifierKeys(["shiftKey"]),this._keyManager.tabOut.pipe(Vt(this._destroy)).subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.pipe(Vt(this._destroy)).subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const e=(0,dr.T)(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(Vt(e)).subscribe(i=>{this._onSelect(i.source,i.isUserInput),i.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),(0,dr.T)(...this.options.map(i=>i._stateChanges)).pipe(Vt(e)).subscribe(()=>{this._changeDetectorRef.markForCheck(),this.stateChanges.next()})}_onSelect(e,i){const r=this._selectionModel.isSelected(e);null!=e.value||this._multiple?(r!==e.selected&&(e.selected?this._selectionModel.select(e):this._selectionModel.deselect(e)),i&&this._keyManager.setActiveItem(e),this.multiple&&(this._sortValues(),i&&this.focus())):(e.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(e.value)),r!==this._selectionModel.isSelected(e)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const e=this.options.toArray();this._selectionModel.sort((i,r)=>this.sortComparator?this.sortComparator(i,r,e):e.indexOf(i)-e.indexOf(r)),this.stateChanges.next()}}_propagateChanges(e){let i=null;i=this.multiple?this.selected.map(r=>r.value):this.selected?this.selected.value:e,this._value=i,this.valueChange.emit(i),this._onChange(i),this.selectionChange.emit(this._getChangeEvent(i)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){this._keyManager&&(this.empty?this._keyManager.setFirstItemActive():this._keyManager.setActiveItem(this._selectionModel.selected[0]))}_canOpen(){return!this._panelOpen&&!this.disabled&&this.options?.length>0}focus(e){this._elementRef.nativeElement.focus(e)}_getPanelAriaLabelledby(){if(this.ariaLabel)return null;const e=this._parentFormField?.getLabelId();return this.ariaLabelledby?(e?e+" ":"")+this.ariaLabelledby:e}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){if(this.ariaLabel)return null;const e=this._parentFormField?.getLabelId();let i=(e?e+" ":"")+this._valueId;return this.ariaLabelledby&&(i+=" "+this.ariaLabelledby),i}_panelDoneAnimating(e){this.openedChange.emit(e)}setDescribedByIds(e){this._ariaDescribedby=e.join(" ")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty||this._focused&&!!this._placeholder}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Lg),s.Y36(s.sBO),s.Y36(s.R0b),s.Y36(eb),s.Y36(s.SBq),s.Y36(qr,8),s.Y36(g_,8),s.Y36(xa,8),s.Y36(iI,8),s.Y36(Ta,10),s.$8M("tabindex"),s.Y36(OB),s.Y36($v),s.Y36(Vq,8))},n.\u0275dir=s.lG2({type:n,viewQuery:function(e,i){if(1&e&&(s.Gf(Iq,5),s.Gf(Mq,5),s.Gf($C,5)),2&e){let r;s.iGM(r=s.CRH())&&(i.trigger=r.first),s.iGM(r=s.CRH())&&(i.panel=r.first),s.iGM(r=s.CRH())&&(i._overlayDir=r.first)}},inputs:{panelClass:"panelClass",placeholder:"placeholder",required:"required",multiple:"multiple",disableOptionCentering:"disableOptionCentering",compareWith:"compareWith",value:"value",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:"typeaheadDebounceInterval",sortComparator:"sortComparator",id:"id"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},features:[s.qOj,s.TTD]}),n})(),g1=(()=>{class n extends Gq{constructor(){super(...arguments),this._scrollTop=0,this._triggerFontSize=0,this._transformOrigin="top",this._offsetY=0,this._positions=[{originX:"start",originY:"top",overlayX:"start",overlayY:"top"},{originX:"start",originY:"bottom",overlayX:"start",overlayY:"bottom"}]}_calculateOverlayScroll(e,i,r){const o=this._getItemHeight();return Math.min(Math.max(0,o*e-i+o/2),r)}ngOnInit(){super.ngOnInit(),this._viewportRuler.change().pipe(Vt(this._destroy)).subscribe(()=>{this.panelOpen&&(this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._changeDetectorRef.markForCheck())})}open(){super._canOpen()&&(super.open(),this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._triggerFontSize=parseInt(getComputedStyle(this.trigger.nativeElement).fontSize||"0"),this._calculateOverlayPosition(),this._ngZone.onStable.pipe(Et(1)).subscribe(()=>{this._triggerFontSize&&this._overlayDir.overlayRef&&this._overlayDir.overlayRef.overlayElement&&(this._overlayDir.overlayRef.overlayElement.style.fontSize=`${this._triggerFontSize}px`)}))}_scrollOptionIntoView(e){const i=fA(e,this.options,this.optionGroups),r=this._getItemHeight();this.panel.nativeElement.scrollTop=0===e&&1===i?0:function TP(n,t,e,i){return n<e?n:n+t>e+i?Math.max(0,n-i+t):e}((e+i)*r,r,this.panel.nativeElement.scrollTop,256)}_positioningSettled(){this._calculateOverlayOffsetX(),this.panel.nativeElement.scrollTop=this._scrollTop}_panelDoneAnimating(e){this.panelOpen?this._scrollTop=0:(this._overlayDir.offsetX=0,this._changeDetectorRef.markForCheck()),super._panelDoneAnimating(e)}_getChangeEvent(e){return new Uq(this,e)}_calculateOverlayOffsetX(){const e=this._overlayDir.overlayRef.overlayElement.getBoundingClientRect(),i=this._viewportRuler.getViewportSize(),r=this._isRtl(),o=this.multiple?56:32;let u;if(this.multiple)u=40;else if(this.disableOptionCentering)u=16;else{let b=this._selectionModel.selected[0]||this.options.first;u=b&&b.group?32:16}r||(u*=-1);const h=0-(e.left+u-(r?o:0)),_=e.right+u-i.width+(r?0:o);h>0?u+=h+8:_>0&&(u-=_+8),this._overlayDir.offsetX=Math.round(u),this._overlayDir.overlayRef.updatePosition()}_calculateOverlayOffsetY(e,i,r){const o=this._getItemHeight(),u=(o-this._triggerRect.height)/2,h=Math.floor(256/o);let _;return this.disableOptionCentering?0:(_=0===this._scrollTop?e*o:this._scrollTop===r?(e-(this._getItemCount()-h))*o+(o-(this._getItemCount()*o-256)%o):i-o/2,Math.round(-1*_-u))}_checkOverlayWithinViewport(e){const i=this._getItemHeight(),r=this._viewportRuler.getViewportSize(),o=this._triggerRect.top-8,u=r.height-this._triggerRect.bottom-8,h=Math.abs(this._offsetY),b=Math.min(this._getItemCount()*i,256)-h-this._triggerRect.height;b>u?this._adjustPanelUp(b,u):h>o?this._adjustPanelDown(h,o,e):this._transformOrigin=this._getOriginBasedOnOption()}_adjustPanelUp(e,i){const r=Math.round(e-i);this._scrollTop-=r,this._offsetY-=r,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop<=0&&(this._scrollTop=0,this._offsetY=0,this._transformOrigin="50% bottom 0px")}_adjustPanelDown(e,i,r){const o=Math.round(e-i);if(this._scrollTop+=o,this._offsetY+=o,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop>=r)return this._scrollTop=r,this._offsetY=0,void(this._transformOrigin="50% top 0px")}_calculateOverlayPosition(){const e=this._getItemHeight(),i=this._getItemCount(),r=Math.min(i*e,256),u=i*e-r;let h;h=this.empty?0:Math.max(this.options.toArray().indexOf(this._selectionModel.selected[0]),0),h+=fA(h,this.options,this.optionGroups);const _=r/2;this._scrollTop=this._calculateOverlayScroll(h,_,u),this._offsetY=this._calculateOverlayOffsetY(h,_,u),this._checkOverlayWithinViewport(u)}_getOriginBasedOnOption(){const e=this._getItemHeight(),i=(e-this._triggerRect.height)/2;return`50% ${Math.abs(this._offsetY)-i+e/2}px 0px`}_getItemHeight(){return 3*this._triggerFontSize}_getItemCount(){return this.options.length+this.optionGroups.length}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-select"]],contentQueries:function(e,i,r){if(1&e&&(s.Suo(r,jq,5),s.Suo(r,t_,5),s.Suo(r,ib,5)),2&e){let o;s.iGM(o=s.CRH())&&(i.customTrigger=o.first),s.iGM(o=s.CRH())&&(i.options=o),s.iGM(o=s.CRH())&&(i.optionGroups=o)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","true",1,"mat-select"],hostVars:20,hostBindings:function(e,i){1&e&&s.NdJ("keydown",function(o){return i._handleKeydown(o)})("focus",function(){return i._onFocus()})("blur",function(){return i._onBlur()}),2&e&&(s.uIk("id",i.id)("tabindex",i.tabIndex)("aria-controls",i.panelOpen?i.id+"-panel":null)("aria-expanded",i.panelOpen)("aria-label",i.ariaLabel||null)("aria-required",i.required.toString())("aria-disabled",i.disabled.toString())("aria-invalid",i.errorState)("aria-describedby",i._ariaDescribedby||null)("aria-activedescendant",i._getAriaActiveDescendant()),s.ekj("mat-select-disabled",i.disabled)("mat-select-invalid",i.errorState)("mat-select-required",i.required)("mat-select-empty",i.empty)("mat-select-multiple",i.multiple))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matSelect"],features:[s._Bn([{provide:nI,useExisting:n},{provide:bD,useExisting:n}]),s.qOj],ngContentSelectors:Pq,decls:9,vars:12,consts:[["cdk-overlay-origin","",1,"mat-select-trigger",3,"click"],["origin","cdkOverlayOrigin","trigger",""],[1,"mat-select-value",3,"ngSwitch"],["class","mat-select-placeholder mat-select-min-line",4,"ngSwitchCase"],["class","mat-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-select-arrow-wrapper"],[1,"mat-select-arrow"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayMinWidth","cdkConnectedOverlayOffsetY","backdropClick","attach","detach"],[1,"mat-select-placeholder","mat-select-min-line"],[1,"mat-select-value-text",3,"ngSwitch"],["class","mat-select-min-line",4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-select-min-line"],[1,"mat-select-panel-wrap"],["role","listbox","tabindex","-1",3,"ngClass","keydown"],["panel",""]],template:function(e,i){if(1&e&&(s.F$t(Oq),s.TgZ(0,"div",0,1),s.NdJ("click",function(){return i.toggle()}),s.TgZ(3,"div",2),s.YNc(4,Tq,2,1,"span",3),s.YNc(5,kq,3,2,"span",4),s.qZA(),s.TgZ(6,"div",5),s._UZ(7,"div",6),s.qZA()(),s.YNc(8,Rq,4,14,"ng-template",7),s.NdJ("backdropClick",function(){return i.close()})("attach",function(){return i._onAttached()})("detach",function(){return i.close()})),2&e){const r=s.MAs(1);s.uIk("aria-owns",i.panelOpen?i.id+"-panel":null),s.xp6(3),s.Q6J("ngSwitch",i.empty),s.uIk("id",i._valueId),s.xp6(1),s.Q6J("ngSwitchCase",!0),s.xp6(1),s.Q6J("ngSwitchCase",!1),s.xp6(3),s.Q6J("cdkConnectedOverlayPanelClass",i._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",i._scrollStrategy)("cdkConnectedOverlayOrigin",r)("cdkConnectedOverlayOpen",i.panelOpen)("cdkConnectedOverlayPositions",i._positions)("cdkConnectedOverlayMinWidth",null==i._triggerRect?null:i._triggerRect.width)("cdkConnectedOverlayOffsetY",i._offsetY)}},dependencies:[Vv,yo,$s,Ol,$C,rn],styles:['.mat-select{display:inline-block;width:100%;outline:none}.mat-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-select-disabled .mat-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-select-arrow-wrapper{height:16px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-outline .mat-select-arrow-wrapper{transform:translateY(-25%)}.mat-form-field-appearance-standard.mat-form-field-has-label .mat-select:not(.mat-select-empty) .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:none}.mat-select-arrow{width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;margin:0 4px}.mat-form-field.mat-focused .mat-select-arrow{transform:translateX(0)}.mat-select-panel-wrap{flex-basis:100%}.mat-select-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;padding-top:0;padding-bottom:0;max-height:256px;min-width:100%;border-radius:4px;outline:0}.cdk-high-contrast-active .mat-select-panel{outline:solid 1px}.mat-select-panel .mat-optgroup-label,.mat-select-panel .mat-option{font-size:inherit;line-height:3em;height:3em}.mat-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-form-field-flex{cursor:pointer}.mat-form-field-type-mat-select .mat-form-field-label{width:calc(100% - 18px)}.mat-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable .mat-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-select-placeholder{color:transparent;-webkit-text-fill-color:transparent;transition:none;display:block}.mat-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}\n'],encapsulation:2,data:{animation:[xB.transformPanelWrap,xB.transformPanel]},changeDetection:0}),n})(),_1=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[Bq],imports:[[Li,Ch,pA,Wt],xc,r0,pA,Wt]}),n})();const zq=["mat-calendar-body",""];function $q(n,t){if(1&n&&(s.TgZ(0,"tr",2)(1,"td",3),s._uU(2),s.qZA()()),2&n){const e=s.oxw();s.xp6(1),s.Udp("padding-top",e._cellPadding)("padding-bottom",e._cellPadding),s.uIk("colspan",e.numCols),s.xp6(1),s.hij(" ",e.label," ")}}function qq(n,t){if(1&n&&(s.TgZ(0,"td",3),s._uU(1),s.qZA()),2&n){const e=s.oxw(2);s.Udp("padding-top",e._cellPadding)("padding-bottom",e._cellPadding),s.uIk("colspan",e._firstRowOffset),s.xp6(1),s.hij(" ",e._firstRowOffset>=e.labelMinRequiredCells?e.label:""," ")}}function Zq(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"td",7)(1,"button",8),s.NdJ("click",function(r){const u=s.CHM(e).$implicit,h=s.oxw(2);return s.KtG(h._cellClicked(u,r))}),s.TgZ(2,"div",9),s._uU(3),s.qZA(),s._UZ(4,"div",10),s.qZA()()}if(2&n){const e=t.$implicit,i=t.index,r=s.oxw().index,o=s.oxw();s.Udp("width",o._cellWidth)("padding-top",o._cellPadding)("padding-bottom",o._cellPadding),s.uIk("data-mat-row",r)("data-mat-col",i),s.xp6(1),s.ekj("mat-calendar-body-disabled",!e.enabled)("mat-calendar-body-active",o._isActiveCell(r,i))("mat-calendar-body-range-start",o._isRangeStart(e.compareValue))("mat-calendar-body-range-end",o._isRangeEnd(e.compareValue))("mat-calendar-body-in-range",o._isInRange(e.compareValue))("mat-calendar-body-comparison-bridge-start",o._isComparisonBridgeStart(e.compareValue,r,i))("mat-calendar-body-comparison-bridge-end",o._isComparisonBridgeEnd(e.compareValue,r,i))("mat-calendar-body-comparison-start",o._isComparisonStart(e.compareValue))("mat-calendar-body-comparison-end",o._isComparisonEnd(e.compareValue))("mat-calendar-body-in-comparison-range",o._isInComparisonRange(e.compareValue))("mat-calendar-body-preview-start",o._isPreviewStart(e.compareValue))("mat-calendar-body-preview-end",o._isPreviewEnd(e.compareValue))("mat-calendar-body-in-preview",o._isInPreview(e.compareValue)),s.Q6J("ngClass",e.cssClasses)("tabindex",o._isActiveCell(r,i)?0:-1),s.uIk("aria-label",e.ariaLabel)("aria-disabled",!e.enabled||null)("aria-pressed",o._isSelected(e.compareValue))("aria-current",o.todayValue===e.compareValue?"date":null),s.xp6(1),s.ekj("mat-calendar-body-selected",o._isSelected(e.compareValue))("mat-calendar-body-comparison-identical",o._isComparisonIdentical(e.compareValue))("mat-calendar-body-today",o.todayValue===e.compareValue),s.xp6(1),s.hij(" ",e.displayValue," ")}}function Yq(n,t){if(1&n&&(s.TgZ(0,"tr",4),s.YNc(1,qq,2,6,"td",5),s.YNc(2,Zq,5,47,"td",6),s.qZA()),2&n){const e=t.$implicit,i=t.index,r=s.oxw();s.xp6(1),s.Q6J("ngIf",0===i&&r._firstRowOffset),s.xp6(1),s.Q6J("ngForOf",e)}}function Wq(n,t){if(1&n&&(s.TgZ(0,"th",5)(1,"span",6),s._uU(2),s.qZA(),s.TgZ(3,"span",7),s._uU(4),s.qZA()()),2&n){const e=t.$implicit;s.xp6(2),s.Oqu(e.long),s.xp6(2),s.Oqu(e.narrow)}}const Kq=["*"];function Qq(n,t){}function Jq(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"mat-month-view",5),s.NdJ("activeDateChange",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.activeDate=r)})("_userSelection",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o._dateSelected(r))}),s.qZA()}if(2&n){const e=s.oxw();s.Q6J("activeDate",e.activeDate)("selected",e.selected)("dateFilter",e.dateFilter)("maxDate",e.maxDate)("minDate",e.minDate)("dateClass",e.dateClass)("comparisonStart",e.comparisonStart)("comparisonEnd",e.comparisonEnd)}}function Xq(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"mat-year-view",6),s.NdJ("activeDateChange",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.activeDate=r)})("monthSelected",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o._monthSelectedInYearView(r))})("selectedChange",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o._goToDateInView(r,"month"))}),s.qZA()}if(2&n){const e=s.oxw();s.Q6J("activeDate",e.activeDate)("selected",e.selected)("dateFilter",e.dateFilter)("maxDate",e.maxDate)("minDate",e.minDate)("dateClass",e.dateClass)}}function eZ(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"mat-multi-year-view",7),s.NdJ("activeDateChange",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.activeDate=r)})("yearSelected",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o._yearSelectedInMultiYearView(r))})("selectedChange",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o._goToDateInView(r,"year"))}),s.qZA()}if(2&n){const e=s.oxw();s.Q6J("activeDate",e.activeDate)("selected",e.selected)("dateFilter",e.dateFilter)("maxDate",e.maxDate)("minDate",e.minDate)("dateClass",e.dateClass)}}function tZ(n,t){}const nZ=["button"];function iZ(n,t){1&n&&(s.O4$(),s.TgZ(0,"svg",3),s._UZ(1,"path",4),s.qZA())}const rZ=[[["","matDatepickerToggleIcon",""]]],sZ=["[matDatepickerToggleIcon]"];let a0=(()=>{class n{constructor(){this.changes=new Ze.x,this.calendarLabel="Calendar",this.openCalendarLabel="Open calendar",this.closeCalendarLabel="Close calendar",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.prevMultiYearLabel="Previous 24 years",this.nextMultiYearLabel="Next 24 years",this.switchToMonthViewLabel="Choose date",this.switchToMultiYearViewLabel="Choose month and year"}formatYearRange(e,i){return`${e} \u2013 ${i}`}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class y1{constructor(t,e,i,r,o={},u=t,h){this.value=t,this.displayValue=e,this.ariaLabel=i,this.enabled=r,this.cssClasses=o,this.compareValue=u,this.rawValue=h}}let yy=(()=>{class n{constructor(e,i){this._elementRef=e,this._ngZone=i,this.numCols=7,this.activeCell=0,this.isRange=!1,this.cellAspectRatio=1,this.previewStart=null,this.previewEnd=null,this.selectedValueChange=new s.vpe,this.previewChange=new s.vpe,this._enterHandler=r=>{if(this._skipNextFocus&&"focus"===r.type)this._skipNextFocus=!1;else if(r.target&&this.isRange){const o=this._getCellFromElement(r.target);o&&this._ngZone.run(()=>this.previewChange.emit({value:o.enabled?o:null,event:r}))}},this._leaveHandler=r=>{null!==this.previewEnd&&this.isRange&&r.target&&this._getCellFromElement(r.target)&&this._ngZone.run(()=>this.previewChange.emit({value:null,event:r}))},i.runOutsideAngular(()=>{const r=e.nativeElement;r.addEventListener("mouseenter",this._enterHandler,!0),r.addEventListener("focus",this._enterHandler,!0),r.addEventListener("mouseleave",this._leaveHandler,!0),r.addEventListener("blur",this._leaveHandler,!0)})}_cellClicked(e,i){e.enabled&&this.selectedValueChange.emit({value:e.value,event:i})}_isSelected(e){return this.startValue===e||this.endValue===e}ngOnChanges(e){const i=e.numCols,{rows:r,numCols:o}=this;(e.rows||i)&&(this._firstRowOffset=r&&r.length&&r[0].length?o-r[0].length:0),(e.cellAspectRatio||i||!this._cellPadding)&&(this._cellPadding=50*this.cellAspectRatio/o+"%"),(i||!this._cellWidth)&&(this._cellWidth=100/o+"%")}ngOnDestroy(){const e=this._elementRef.nativeElement;e.removeEventListener("mouseenter",this._enterHandler,!0),e.removeEventListener("focus",this._enterHandler,!0),e.removeEventListener("mouseleave",this._leaveHandler,!0),e.removeEventListener("blur",this._leaveHandler,!0)}_isActiveCell(e,i){let r=e*this.numCols+i;return e&&(r-=this._firstRowOffset),r==this.activeCell}_focusActiveCell(e=!0){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(Et(1)).subscribe(()=>{setTimeout(()=>{const i=this._elementRef.nativeElement.querySelector(".mat-calendar-body-active");i&&(e||(this._skipNextFocus=!0),i.focus())})})})}_isRangeStart(e){return v1(e,this.startValue,this.endValue)}_isRangeEnd(e){return b1(e,this.startValue,this.endValue)}_isInRange(e){return w1(e,this.startValue,this.endValue,this.isRange)}_isComparisonStart(e){return v1(e,this.comparisonStart,this.comparisonEnd)}_isComparisonBridgeStart(e,i,r){if(!this._isComparisonStart(e)||this._isRangeStart(e)||!this._isInRange(e))return!1;let o=this.rows[i][r-1];if(!o){const u=this.rows[i-1];o=u&&u[u.length-1]}return o&&!this._isRangeEnd(o.compareValue)}_isComparisonBridgeEnd(e,i,r){if(!this._isComparisonEnd(e)||this._isRangeEnd(e)||!this._isInRange(e))return!1;let o=this.rows[i][r+1];if(!o){const u=this.rows[i+1];o=u&&u[0]}return o&&!this._isRangeStart(o.compareValue)}_isComparisonEnd(e){return b1(e,this.comparisonStart,this.comparisonEnd)}_isInComparisonRange(e){return w1(e,this.comparisonStart,this.comparisonEnd,this.isRange)}_isComparisonIdentical(e){return this.comparisonStart===this.comparisonEnd&&e===this.comparisonStart}_isPreviewStart(e){return v1(e,this.previewStart,this.previewEnd)}_isPreviewEnd(e){return b1(e,this.previewStart,this.previewEnd)}_isInPreview(e){return w1(e,this.previewStart,this.previewEnd,this.isRange)}_getCellFromElement(e){let i;if(PB(e)?i=e:PB(e.parentNode)&&(i=e.parentNode),i){const r=i.getAttribute("data-mat-row"),o=i.getAttribute("data-mat-col");if(r&&o)return this.rows[parseInt(r)][parseInt(o)]}return null}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.R0b))},n.\u0275cmp=s.Xpm({type:n,selectors:[["","mat-calendar-body",""]],hostAttrs:[1,"mat-calendar-body"],inputs:{label:"label",rows:"rows",todayValue:"todayValue",startValue:"startValue",endValue:"endValue",labelMinRequiredCells:"labelMinRequiredCells",numCols:"numCols",activeCell:"activeCell",isRange:"isRange",cellAspectRatio:"cellAspectRatio",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",previewStart:"previewStart",previewEnd:"previewEnd"},outputs:{selectedValueChange:"selectedValueChange",previewChange:"previewChange"},exportAs:["matCalendarBody"],features:[s.TTD],attrs:zq,decls:2,vars:2,consts:[["aria-hidden","true",4,"ngIf"],["role","row",4,"ngFor","ngForOf"],["aria-hidden","true"],[1,"mat-calendar-body-label"],["role","row"],["class","mat-calendar-body-label",3,"paddingTop","paddingBottom",4,"ngIf"],["role","gridcell","class","mat-calendar-body-cell-container",3,"width","paddingTop","paddingBottom",4,"ngFor","ngForOf"],["role","gridcell",1,"mat-calendar-body-cell-container"],["type","button",1,"mat-calendar-body-cell",3,"ngClass","tabindex","click"],[1,"mat-calendar-body-cell-content","mat-focus-indicator"],["aria-hidden","true",1,"mat-calendar-body-cell-preview"]],template:function(e,i){1&e&&(s.YNc(0,$q,3,6,"tr",0),s.YNc(1,Yq,3,2,"tr",1)),2&e&&(s.Q6J("ngIf",i._firstRowOffset<i.labelMinRequiredCells),s.xp6(1),s.Q6J("ngForOf",i.rows))},dependencies:[sn,Vr,rn],styles:['.mat-calendar-body{min-width:224px}.mat-calendar-body-label{height:0;line-height:0;text-align:left;padding-left:4.7142857143%;padding-right:4.7142857143%}.mat-calendar-body-cell-container{position:relative;height:0;line-height:0}.mat-calendar-body-cell{-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;position:absolute;top:0;left:0;width:100%;height:100%;background:none;text-align:center;outline:none;font-family:inherit;margin:0}.mat-calendar-body-cell::-moz-focus-inner{border:0}.mat-calendar-body-cell::before,.mat-calendar-body-cell::after,.mat-calendar-body-cell-preview{content:"";position:absolute;top:5%;left:0;z-index:0;box-sizing:border-box;height:90%;width:100%}.mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-start::after,.mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,.mat-calendar-body-comparison-start::after,.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:5%;width:95%;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,[dir=rtl] .mat-calendar-body-comparison-start::after,[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:0;border-radius:0;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,.mat-calendar-body-comparison-end::after,.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}[dir=rtl] .mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,[dir=rtl] .mat-calendar-body-comparison-end::after,[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{left:5%;border-radius:0;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-comparison-bridge-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-bridge-end.mat-calendar-body-range-start::after{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end.mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-end.mat-calendar-body-range-start::after{width:90%}.mat-calendar-body-in-preview .mat-calendar-body-cell-preview{border-top:dashed 1px;border-bottom:dashed 1px}.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:dashed 1px}[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:0;border-right:dashed 1px}.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:dashed 1px}[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:0;border-left:dashed 1px}.mat-calendar-body-disabled{cursor:default}.cdk-high-contrast-active .mat-calendar-body-disabled{opacity:.5}.mat-calendar-body-cell-content{top:5%;left:5%;z-index:1;display:flex;align-items:center;justify-content:center;box-sizing:border-box;width:90%;height:90%;line-height:1;border-width:1px;border-style:solid;border-radius:999px}.mat-calendar-body-cell-content.mat-focus-indicator{position:absolute}.cdk-high-contrast-active .mat-calendar-body-cell-content{border:none}.cdk-high-contrast-active .mat-datepicker-popup:not(:empty),.cdk-high-contrast-active .mat-calendar-body-cell:not(.mat-calendar-body-in-range) .mat-calendar-body-selected{outline:solid 1px}.cdk-high-contrast-active .mat-calendar-body-today{outline:dotted 1px}.cdk-high-contrast-active .cdk-keyboard-focused .mat-calendar-body-active>.mat-calendar-body-cell-content,.cdk-high-contrast-active .cdk-program-focused .mat-calendar-body-active>.mat-calendar-body-cell-content{outline:dotted 2px}.cdk-high-contrast-active .cdk-keyboard-focused .mat-calendar-body-active>.mat-calendar-body-cell-content.mat-calendar-body-selected,.cdk-high-contrast-active .cdk-program-focused .mat-calendar-body-active>.mat-calendar-body-cell-content.mat-calendar-body-selected{outline:solid 3px}.cdk-high-contrast-active .mat-calendar-body-cell::before,.cdk-high-contrast-active .mat-calendar-body-cell::after,.cdk-high-contrast-active .mat-calendar-body-selected{background:none}.cdk-high-contrast-active .mat-calendar-body-in-range::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-start::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-end::before{border-top:solid 1px;border-bottom:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:0;border-right:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:0;border-left:solid 1px}.cdk-high-contrast-active .mat-calendar-body-in-comparison-range::before{border-top:dashed 1px;border-bottom:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:0;border-right:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:0;border-left:dashed 1px}[dir=rtl] .mat-calendar-body-label{text-align:right}\n'],encapsulation:2,changeDetection:0}),n})();function PB(n){return"TD"===n.nodeName}function v1(n,t,e){return null!==e&&t!==e&&n<e&&n===t}function b1(n,t,e){return null!==t&&t!==e&&n>=t&&n===e}function w1(n,t,e,i){return i&&null!==t&&null!==e&&t!==e&&n>=t&&n<=e}class fo{constructor(t,e){this.start=t,this.end=e}}let ff=(()=>{class n{constructor(e,i){this.selection=e,this._adapter=i,this._selectionChanged=new Ze.x,this.selectionChanged=this._selectionChanged,this.selection=e}updateSelection(e,i){const r=this.selection;this.selection=e,this._selectionChanged.next({selection:e,source:i,oldValue:r})}ngOnDestroy(){this._selectionChanged.complete()}_isValidDateInstance(e){return this._adapter.isDateInstance(e)&&this._adapter.isValid(e)}}return n.\u0275fac=function(e){s.$Z()},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),oZ=(()=>{class n extends ff{constructor(e){super(null,e)}add(e){super.updateSelection(e,this)}isValid(){return null!=this.selection&&this._isValidDateInstance(this.selection)}isComplete(){return null!=this.selection}clone(){const e=new n(this._adapter);return e.updateSelection(this.selection,this),e}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(fr))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const FB={provide:ff,deps:[[new s.FiY,new s.tp0,ff],fr],useFactory:function lZ(n,t){return n||new oZ(t)}},aI=new s.OlP("MAT_DATE_RANGE_SELECTION_STRATEGY");let NB=(()=>{class n{constructor(e,i,r,o,u){this._changeDetectorRef=e,this._dateFormats=i,this._dateAdapter=r,this._dir=o,this._rangeStrategy=u,this._rerenderSubscription=on.w0.EMPTY,this.selectedChange=new s.vpe,this._userSelection=new s.vpe,this.activeDateChange=new s.vpe,this._activeDate=this._dateAdapter.today()}get activeDate(){return this._activeDate}set activeDate(e){const i=this._activeDate,r=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(r,this.minDate,this.maxDate),this._hasSameMonthAndYear(i,this._activeDate)||this._init()}get selected(){return this._selected}set selected(e){this._selected=e instanceof fo?e:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setRanges(this._selected)}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(Yn(null)).subscribe(()=>this._init())}ngOnChanges(e){const i=e.comparisonStart||e.comparisonEnd;i&&!i.firstChange&&this._setRanges(this.selected)}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_dateSelected(e){const i=e.value,r=this._dateAdapter.getYear(this.activeDate),o=this._dateAdapter.getMonth(this.activeDate),u=this._dateAdapter.createDate(r,o,i);let h,_;this._selected instanceof fo?(h=this._getDateInCurrentMonth(this._selected.start),_=this._getDateInCurrentMonth(this._selected.end)):h=_=this._getDateInCurrentMonth(this._selected),(h!==i||_!==i)&&this.selectedChange.emit(u),this._userSelection.emit({value:u,event:e.event}),this._previewStart=this._previewEnd=null,this._changeDetectorRef.markForCheck()}_handleCalendarBodyKeydown(e){const i=this._activeDate,r=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,r?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,r?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,-7);break;case 40:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,7);break;case 36:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,1-this._dateAdapter.getDate(this._activeDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,this._dateAdapter.getNumDaysInMonth(this._activeDate)-this._dateAdapter.getDate(this._activeDate));break;case 33:this.activeDate=e.altKey?this._dateAdapter.addCalendarYears(this._activeDate,-1):this._dateAdapter.addCalendarMonths(this._activeDate,-1);break;case 34:this.activeDate=e.altKey?this._dateAdapter.addCalendarYears(this._activeDate,1):this._dateAdapter.addCalendarMonths(this._activeDate,1);break;case 13:case 32:return this._selectionKeyPressed=!0,void(this._canSelect(this._activeDate)&&e.preventDefault());case 27:return void(null!=this._previewEnd&&!hr(e)&&(this._previewStart=this._previewEnd=null,this.selectedChange.emit(null),this._userSelection.emit({value:null,event:e}),e.preventDefault(),e.stopPropagation()));default:return}this._dateAdapter.compareDate(i,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCell(),e.preventDefault()}_handleCalendarBodyKeyup(e){(32===e.keyCode||13===e.keyCode)&&(this._selectionKeyPressed&&this._canSelect(this._activeDate)&&this._dateSelected({value:this._dateAdapter.getDate(this._activeDate),event:e}),this._selectionKeyPressed=!1)}_init(){this._setRanges(this.selected),this._todayDate=this._getCellCompareValue(this._dateAdapter.today()),this._monthLabel=this._dateFormats.display.monthLabel?this._dateAdapter.format(this.activeDate,this._dateFormats.display.monthLabel):this._dateAdapter.getMonthNames("short")[this._dateAdapter.getMonth(this.activeDate)].toLocaleUpperCase();let e=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),1);this._firstWeekOffset=(7+this._dateAdapter.getDayOfWeek(e)-this._dateAdapter.getFirstDayOfWeek())%7,this._initWeekdays(),this._createWeekCells(),this._changeDetectorRef.markForCheck()}_focusActiveCell(e){this._matCalendarBody._focusActiveCell(e)}_previewChanged({event:e,value:i}){if(this._rangeStrategy){const o=this._rangeStrategy.createPreview(i?i.rawValue:null,this.selected,e);this._previewStart=this._getCellCompareValue(o.start),this._previewEnd=this._getCellCompareValue(o.end),this._changeDetectorRef.detectChanges()}}_initWeekdays(){const e=this._dateAdapter.getFirstDayOfWeek(),i=this._dateAdapter.getDayOfWeekNames("narrow");let o=this._dateAdapter.getDayOfWeekNames("long").map((u,h)=>({long:u,narrow:i[h]}));this._weekdays=o.slice(e).concat(o.slice(0,e))}_createWeekCells(){const e=this._dateAdapter.getNumDaysInMonth(this.activeDate),i=this._dateAdapter.getDateNames();this._weeks=[[]];for(let r=0,o=this._firstWeekOffset;r<e;r++,o++){7==o&&(this._weeks.push([]),o=0);const u=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),r+1),h=this._shouldEnableDate(u),_=this._dateAdapter.format(u,this._dateFormats.display.dateA11yLabel),b=this.dateClass?this.dateClass(u,"month"):void 0;this._weeks[this._weeks.length-1].push(new y1(r+1,i[r],_,h,b,this._getCellCompareValue(u),u))}}_shouldEnableDate(e){return!!e&&(!this.minDate||this._dateAdapter.compareDate(e,this.minDate)>=0)&&(!this.maxDate||this._dateAdapter.compareDate(e,this.maxDate)<=0)&&(!this.dateFilter||this.dateFilter(e))}_getDateInCurrentMonth(e){return e&&this._hasSameMonthAndYear(e,this.activeDate)?this._dateAdapter.getDate(e):null}_hasSameMonthAndYear(e,i){return!(!e||!i||this._dateAdapter.getMonth(e)!=this._dateAdapter.getMonth(i)||this._dateAdapter.getYear(e)!=this._dateAdapter.getYear(i))}_getCellCompareValue(e){if(e){const i=this._dateAdapter.getYear(e),r=this._dateAdapter.getMonth(e),o=this._dateAdapter.getDate(e);return new Date(i,r,o).getTime()}return null}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setRanges(e){e instanceof fo?(this._rangeStart=this._getCellCompareValue(e.start),this._rangeEnd=this._getCellCompareValue(e.end),this._isRange=!0):(this._rangeStart=this._rangeEnd=this._getCellCompareValue(e),this._isRange=!1),this._comparisonRangeStart=this._getCellCompareValue(this.comparisonStart),this._comparisonRangeEnd=this._getCellCompareValue(this.comparisonEnd)}_canSelect(e){return!this.dateFilter||this.dateFilter(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.sBO),s.Y36(oo,8),s.Y36(fr,8),s.Y36(qr,8),s.Y36(aI,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-month-view"]],viewQuery:function(e,i){if(1&e&&s.Gf(yy,5),2&e){let r;s.iGM(r=s.CRH())&&(i._matCalendarBody=r.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd"},outputs:{selectedChange:"selectedChange",_userSelection:"_userSelection",activeDateChange:"activeDateChange"},exportAs:["matMonthView"],features:[s.TTD],decls:7,vars:13,consts:[["role","grid",1,"mat-calendar-table"],[1,"mat-calendar-table-header"],["scope","col",4,"ngFor","ngForOf"],["aria-hidden","true","colspan","7",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"label","rows","todayValue","startValue","endValue","comparisonStart","comparisonEnd","previewStart","previewEnd","isRange","labelMinRequiredCells","activeCell","selectedValueChange","previewChange","keyup","keydown"],["scope","col"],[1,"cdk-visually-hidden"],["aria-hidden","true"]],template:function(e,i){1&e&&(s.TgZ(0,"table",0)(1,"thead",1)(2,"tr"),s.YNc(3,Wq,5,2,"th",2),s.qZA(),s.TgZ(4,"tr"),s._UZ(5,"th",3),s.qZA()(),s.TgZ(6,"tbody",4),s.NdJ("selectedValueChange",function(o){return i._dateSelected(o)})("previewChange",function(o){return i._previewChanged(o)})("keyup",function(o){return i._handleCalendarBodyKeyup(o)})("keydown",function(o){return i._handleCalendarBodyKeydown(o)}),s.qZA()()),2&e&&(s.xp6(3),s.Q6J("ngForOf",i._weekdays),s.xp6(3),s.Q6J("label",i._monthLabel)("rows",i._weeks)("todayValue",i._todayDate)("startValue",i._rangeStart)("endValue",i._rangeEnd)("comparisonStart",i._comparisonRangeStart)("comparisonEnd",i._comparisonRangeEnd)("previewStart",i._previewStart)("previewEnd",i._previewEnd)("isRange",i._isRange)("labelMinRequiredCells",3)("activeCell",i._dateAdapter.getDate(i.activeDate)-1))},dependencies:[yy,Vr],encapsulation:2,changeDetection:0}),n})(),LB=(()=>{class n{constructor(e,i,r){this._changeDetectorRef=e,this._dateAdapter=i,this._dir=r,this._rerenderSubscription=on.w0.EMPTY,this.selectedChange=new s.vpe,this.yearSelected=new s.vpe,this.activeDateChange=new s.vpe,this._activeDate=this._dateAdapter.today()}get activeDate(){return this._activeDate}set activeDate(e){let i=this._activeDate;const r=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(r,this.minDate,this.maxDate),VB(this._dateAdapter,i,this._activeDate,this.minDate,this.maxDate)||this._init()}get selected(){return this._selected}set selected(e){this._selected=e instanceof fo?e:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setSelectedYear(e)}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(Yn(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_init(){this._todayYear=this._dateAdapter.getYear(this._dateAdapter.today());const i=this._dateAdapter.getYear(this._activeDate)-l0(this._dateAdapter,this.activeDate,this.minDate,this.maxDate);this._years=[];for(let r=0,o=[];r<24;r++)o.push(i+r),4==o.length&&(this._years.push(o.map(u=>this._createCellForYear(u))),o=[]);this._changeDetectorRef.markForCheck()}_yearSelected(e){const i=e.value;this.yearSelected.emit(this._dateAdapter.createDate(i,0,1));let r=this._dateAdapter.getMonth(this.activeDate),o=this._dateAdapter.getNumDaysInMonth(this._dateAdapter.createDate(i,r,1));this.selectedChange.emit(this._dateAdapter.createDate(i,r,Math.min(this._dateAdapter.getDate(this.activeDate),o)))}_handleCalendarBodyKeydown(e){const i=this._activeDate,r=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,r?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,r?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-4);break;case 40:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,4);break;case 36:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-l0(this._dateAdapter,this.activeDate,this.minDate,this.maxDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,24-l0(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)-1);break;case 33:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?-240:-24);break;case 34:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?240:24);break;case 13:case 32:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(i,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCell(),e.preventDefault()}_handleCalendarBodyKeyup(e){(32===e.keyCode||13===e.keyCode)&&(this._selectionKeyPressed&&this._yearSelected({value:this._dateAdapter.getYear(this._activeDate),event:e}),this._selectionKeyPressed=!1)}_getActiveCell(){return l0(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_createCellForYear(e){const i=this._dateAdapter.createDate(e,0,1),r=this._dateAdapter.getYearName(i),o=this.dateClass?this.dateClass(i,"multi-year"):void 0;return new y1(e,r,r,this._shouldEnableYear(e),o)}_shouldEnableYear(e){if(null==e||this.maxDate&&e>this._dateAdapter.getYear(this.maxDate)||this.minDate&&e<this._dateAdapter.getYear(this.minDate))return!1;if(!this.dateFilter)return!0;for(let r=this._dateAdapter.createDate(e,0,1);this._dateAdapter.getYear(r)==e;r=this._dateAdapter.addCalendarDays(r,1))if(this.dateFilter(r))return!0;return!1}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setSelectedYear(e){if(this._selectedYear=null,e instanceof fo){const i=e.start||e.end;i&&(this._selectedYear=this._dateAdapter.getYear(i))}else e&&(this._selectedYear=this._dateAdapter.getYear(e))}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.sBO),s.Y36(fr,8),s.Y36(qr,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-multi-year-view"]],viewQuery:function(e,i){if(1&e&&s.Gf(yy,5),2&e){let r;s.iGM(r=s.CRH())&&(i._matCalendarBody=r.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",activeDateChange:"activeDateChange"},exportAs:["matMultiYearView"],decls:5,vars:7,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"rows","todayValue","startValue","endValue","numCols","cellAspectRatio","activeCell","selectedValueChange","keyup","keydown"]],template:function(e,i){1&e&&(s.TgZ(0,"table",0)(1,"thead",1)(2,"tr"),s._UZ(3,"th",2),s.qZA()(),s.TgZ(4,"tbody",3),s.NdJ("selectedValueChange",function(o){return i._yearSelected(o)})("keyup",function(o){return i._handleCalendarBodyKeyup(o)})("keydown",function(o){return i._handleCalendarBodyKeydown(o)}),s.qZA()()),2&e&&(s.xp6(4),s.Q6J("rows",i._years)("todayValue",i._todayYear)("startValue",i._selectedYear)("endValue",i._selectedYear)("numCols",4)("cellAspectRatio",4/7)("activeCell",i._getActiveCell()))},dependencies:[yy],encapsulation:2,changeDetection:0}),n})();function VB(n,t,e,i,r){const o=n.getYear(t),u=n.getYear(e),h=BB(n,i,r);return Math.floor((o-h)/24)===Math.floor((u-h)/24)}function l0(n,t,e,i){return function hZ(n,t){return(n%t+t)%t}(n.getYear(t)-BB(n,e,i),24)}function BB(n,t,e){let i=0;return e?i=n.getYear(e)-24+1:t&&(i=n.getYear(t)),i}let UB=(()=>{class n{constructor(e,i,r,o){this._changeDetectorRef=e,this._dateFormats=i,this._dateAdapter=r,this._dir=o,this._rerenderSubscription=on.w0.EMPTY,this.selectedChange=new s.vpe,this.monthSelected=new s.vpe,this.activeDateChange=new s.vpe,this._activeDate=this._dateAdapter.today()}get activeDate(){return this._activeDate}set activeDate(e){let i=this._activeDate;const r=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(r,this.minDate,this.maxDate),this._dateAdapter.getYear(i)!==this._dateAdapter.getYear(this._activeDate)&&this._init()}get selected(){return this._selected}set selected(e){this._selected=e instanceof fo?e:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setSelectedMonth(e)}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(Yn(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_monthSelected(e){const i=e.value,r=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),i,1);this.monthSelected.emit(r);const o=this._dateAdapter.getNumDaysInMonth(r);this.selectedChange.emit(this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),i,Math.min(this._dateAdapter.getDate(this.activeDate),o)))}_handleCalendarBodyKeydown(e){const i=this._activeDate,r=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,r?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,r?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-4);break;case 40:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,4);break;case 36:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-this._dateAdapter.getMonth(this._activeDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,11-this._dateAdapter.getMonth(this._activeDate));break;case 33:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?-10:-1);break;case 34:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?10:1);break;case 13:case 32:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(i,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCell(),e.preventDefault()}_handleCalendarBodyKeyup(e){(32===e.keyCode||13===e.keyCode)&&(this._selectionKeyPressed&&this._monthSelected({value:this._dateAdapter.getMonth(this._activeDate),event:e}),this._selectionKeyPressed=!1)}_init(){this._setSelectedMonth(this.selected),this._todayMonth=this._getMonthInCurrentYear(this._dateAdapter.today()),this._yearLabel=this._dateAdapter.getYearName(this.activeDate);let e=this._dateAdapter.getMonthNames("short");this._months=[[0,1,2,3],[4,5,6,7],[8,9,10,11]].map(i=>i.map(r=>this._createCellForMonth(r,e[r]))),this._changeDetectorRef.markForCheck()}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_getMonthInCurrentYear(e){return e&&this._dateAdapter.getYear(e)==this._dateAdapter.getYear(this.activeDate)?this._dateAdapter.getMonth(e):null}_createCellForMonth(e,i){const r=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,1),o=this._dateAdapter.format(r,this._dateFormats.display.monthYearA11yLabel),u=this.dateClass?this.dateClass(r,"year"):void 0;return new y1(e,i.toLocaleUpperCase(),o,this._shouldEnableMonth(e),u)}_shouldEnableMonth(e){const i=this._dateAdapter.getYear(this.activeDate);if(null==e||this._isYearAndMonthAfterMaxDate(i,e)||this._isYearAndMonthBeforeMinDate(i,e))return!1;if(!this.dateFilter)return!0;for(let o=this._dateAdapter.createDate(i,e,1);this._dateAdapter.getMonth(o)==e;o=this._dateAdapter.addCalendarDays(o,1))if(this.dateFilter(o))return!0;return!1}_isYearAndMonthAfterMaxDate(e,i){if(this.maxDate){const r=this._dateAdapter.getYear(this.maxDate),o=this._dateAdapter.getMonth(this.maxDate);return e>r||e===r&&i>o}return!1}_isYearAndMonthBeforeMinDate(e,i){if(this.minDate){const r=this._dateAdapter.getYear(this.minDate),o=this._dateAdapter.getMonth(this.minDate);return e<r||e===r&&i<o}return!1}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setSelectedMonth(e){this._selectedMonth=e instanceof fo?this._getMonthInCurrentYear(e.start)||this._getMonthInCurrentYear(e.end):this._getMonthInCurrentYear(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.sBO),s.Y36(oo,8),s.Y36(fr,8),s.Y36(qr,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-year-view"]],viewQuery:function(e,i){if(1&e&&s.Gf(yy,5),2&e){let r;s.iGM(r=s.CRH())&&(i._matCalendarBody=r.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",monthSelected:"monthSelected",activeDateChange:"activeDateChange"},exportAs:["matYearView"],decls:5,vars:9,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"label","rows","todayValue","startValue","endValue","labelMinRequiredCells","numCols","cellAspectRatio","activeCell","selectedValueChange","keyup","keydown"]],template:function(e,i){1&e&&(s.TgZ(0,"table",0)(1,"thead",1)(2,"tr"),s._UZ(3,"th",2),s.qZA()(),s.TgZ(4,"tbody",3),s.NdJ("selectedValueChange",function(o){return i._monthSelected(o)})("keyup",function(o){return i._handleCalendarBodyKeyup(o)})("keydown",function(o){return i._handleCalendarBodyKeydown(o)}),s.qZA()()),2&e&&(s.xp6(4),s.Q6J("label",i._yearLabel)("rows",i._months)("todayValue",i._todayMonth)("startValue",i._selectedMonth)("endValue",i._selectedMonth)("labelMinRequiredCells",2)("numCols",4)("cellAspectRatio",4/7)("activeCell",i._dateAdapter.getMonth(i.activeDate)))},dependencies:[yy],encapsulation:2,changeDetection:0}),n})(),fZ=0,pZ=(()=>{class n{constructor(e,i,r,o,u){this._intl=e,this.calendar=i,this._dateAdapter=r,this._dateFormats=o,this._buttonDescriptionId="mat-calendar-button-"+fZ++,this.calendar.stateChanges.subscribe(()=>u.markForCheck())}get periodButtonText(){if("month"==this.calendar.currentView)return this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase();if("year"==this.calendar.currentView)return this._dateAdapter.getYearName(this.calendar.activeDate);const i=this._dateAdapter.getYear(this.calendar.activeDate)-l0(this._dateAdapter,this.calendar.activeDate,this.calendar.minDate,this.calendar.maxDate),r=i+24-1,o=this._dateAdapter.getYearName(this._dateAdapter.createDate(i,0,1)),u=this._dateAdapter.getYearName(this._dateAdapter.createDate(r,0,1));return this._intl.formatYearRange(o,u)}get periodButtonLabel(){return"month"==this.calendar.currentView?this._intl.switchToMultiYearViewLabel:this._intl.switchToMonthViewLabel}get prevButtonLabel(){return{month:this._intl.prevMonthLabel,year:this._intl.prevYearLabel,"multi-year":this._intl.prevMultiYearLabel}[this.calendar.currentView]}get nextButtonLabel(){return{month:this._intl.nextMonthLabel,year:this._intl.nextYearLabel,"multi-year":this._intl.nextMultiYearLabel}[this.calendar.currentView]}currentPeriodClicked(){this.calendar.currentView="month"==this.calendar.currentView?"multi-year":"month"}previousClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,-1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?-1:-24)}nextClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?1:24)}previousEnabled(){return!this.calendar.minDate||!this.calendar.minDate||!this._isSameView(this.calendar.activeDate,this.calendar.minDate)}nextEnabled(){return!this.calendar.maxDate||!this._isSameView(this.calendar.activeDate,this.calendar.maxDate)}_isSameView(e,i){return"month"==this.calendar.currentView?this._dateAdapter.getYear(e)==this._dateAdapter.getYear(i)&&this._dateAdapter.getMonth(e)==this._dateAdapter.getMonth(i):"year"==this.calendar.currentView?this._dateAdapter.getYear(e)==this._dateAdapter.getYear(i):VB(this._dateAdapter,e,i,this.calendar.minDate,this.calendar.maxDate)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(a0),s.Y36((0,s.Gpc)(()=>E1)),s.Y36(fr,8),s.Y36(oo,8),s.Y36(s.sBO))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-calendar-header"]],exportAs:["matCalendarHeader"],ngContentSelectors:Kq,decls:11,vars:10,consts:[[1,"mat-calendar-header"],[1,"mat-calendar-controls"],["mat-button","","type","button","aria-live","polite",1,"mat-calendar-period-button",3,"click"],["viewBox","0 0 10 5","focusable","false",1,"mat-calendar-arrow"],["points","0,0 5,5 10,0"],[1,"mat-calendar-spacer"],["mat-icon-button","","type","button",1,"mat-calendar-previous-button",3,"disabled","click"],["mat-icon-button","","type","button",1,"mat-calendar-next-button",3,"disabled","click"]],template:function(e,i){1&e&&(s.F$t(),s.TgZ(0,"div",0)(1,"div",1)(2,"button",2),s.NdJ("click",function(){return i.currentPeriodClicked()}),s.TgZ(3,"span"),s._uU(4),s.qZA(),s.O4$(),s.TgZ(5,"svg",3),s._UZ(6,"polygon",4),s.qZA()(),s.kcU(),s._UZ(7,"div",5),s.Hsn(8),s.TgZ(9,"button",6),s.NdJ("click",function(){return i.previousClicked()}),s.qZA(),s.TgZ(10,"button",7),s.NdJ("click",function(){return i.nextClicked()}),s.qZA()()()),2&e&&(s.xp6(2),s.uIk("aria-label",i.periodButtonLabel)("aria-describedby",i._buttonDescriptionId),s.xp6(1),s.uIk("id",i._buttonDescriptionId),s.xp6(1),s.Oqu(i.periodButtonText),s.xp6(1),s.ekj("mat-calendar-invert","month"!==i.calendar.currentView),s.xp6(4),s.Q6J("disabled",!i.previousEnabled()),s.uIk("aria-label",i.prevButtonLabel),s.xp6(1),s.Q6J("disabled",!i.nextEnabled()),s.uIk("aria-label",i.nextButtonLabel))},dependencies:[Ls],encapsulation:2,changeDetection:0}),n})(),E1=(()=>{class n{constructor(e,i,r,o){this._dateAdapter=i,this._dateFormats=r,this._changeDetectorRef=o,this._moveFocusOnNextTick=!1,this.startView="month",this.selectedChange=new s.vpe,this.yearSelected=new s.vpe,this.monthSelected=new s.vpe,this.viewChanged=new s.vpe(!0),this._userSelection=new s.vpe,this.stateChanges=new Ze.x,this._intlChanges=e.changes.subscribe(()=>{o.markForCheck(),this.stateChanges.next()})}get startAt(){return this._startAt}set startAt(e){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get selected(){return this._selected}set selected(e){this._selected=e instanceof fo?e:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get activeDate(){return this._clampedActiveDate}set activeDate(e){this._clampedActiveDate=this._dateAdapter.clampDate(e,this.minDate,this.maxDate),this.stateChanges.next(),this._changeDetectorRef.markForCheck()}get currentView(){return this._currentView}set currentView(e){const i=this._currentView!==e?e:null;this._currentView=e,this._moveFocusOnNextTick=!0,this._changeDetectorRef.markForCheck(),i&&this.viewChanged.emit(i)}ngAfterContentInit(){this._calendarHeaderPortal=new kc(this.headerComponent||pZ),this.activeDate=this.startAt||this._dateAdapter.today(),this._currentView=this.startView}ngAfterViewChecked(){this._moveFocusOnNextTick&&(this._moveFocusOnNextTick=!1,this.focusActiveCell())}ngOnDestroy(){this._intlChanges.unsubscribe(),this.stateChanges.complete()}ngOnChanges(e){const i=e.minDate&&!this._dateAdapter.sameDate(e.minDate.previousValue,e.minDate.currentValue)?e.minDate:void 0,r=e.maxDate&&!this._dateAdapter.sameDate(e.maxDate.previousValue,e.maxDate.currentValue)?e.maxDate:void 0,o=i||r||e.dateFilter;if(o&&!o.firstChange){const u=this._getCurrentViewComponent();u&&(this._changeDetectorRef.detectChanges(),u._init())}this.stateChanges.next()}focusActiveCell(){this._getCurrentViewComponent()._focusActiveCell(!1)}updateTodaysDate(){this._getCurrentViewComponent()._init()}_dateSelected(e){const i=e.value;(this.selected instanceof fo||i&&!this._dateAdapter.sameDate(i,this.selected))&&this.selectedChange.emit(i),this._userSelection.emit(e)}_yearSelectedInMultiYearView(e){this.yearSelected.emit(e)}_monthSelectedInYearView(e){this.monthSelected.emit(e)}_goToDateInView(e,i){this.activeDate=e,this.currentView=i}_getCurrentViewComponent(){return this.monthView||this.yearView||this.multiYearView}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(a0),s.Y36(fr,8),s.Y36(oo,8),s.Y36(s.sBO))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-calendar"]],viewQuery:function(e,i){if(1&e&&(s.Gf(NB,5),s.Gf(UB,5),s.Gf(LB,5)),2&e){let r;s.iGM(r=s.CRH())&&(i.monthView=r.first),s.iGM(r=s.CRH())&&(i.yearView=r.first),s.iGM(r=s.CRH())&&(i.multiYearView=r.first)}},hostAttrs:[1,"mat-calendar"],inputs:{headerComponent:"headerComponent",startAt:"startAt",startView:"startView",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",_userSelection:"_userSelection"},exportAs:["matCalendar"],features:[s._Bn([FB]),s.TTD],decls:5,vars:5,consts:[[3,"cdkPortalOutlet"],["cdkMonitorSubtreeFocus","","tabindex","-1",1,"mat-calendar-content",3,"ngSwitch"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","activeDateChange","_userSelection",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","monthSelected","selectedChange",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","yearSelected","selectedChange",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","activeDateChange","_userSelection"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","monthSelected","selectedChange"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","yearSelected","selectedChange"]],template:function(e,i){1&e&&(s.YNc(0,Qq,0,0,"ng-template",0),s.TgZ(1,"div",1),s.YNc(2,Jq,1,8,"mat-month-view",2),s.YNc(3,Xq,1,6,"mat-year-view",3),s.YNc(4,eZ,1,6,"mat-multi-year-view",4),s.qZA()),2&e&&(s.Q6J("cdkPortalOutlet",i._calendarHeaderPortal),s.xp6(1),s.Q6J("ngSwitch",i.currentView),s.xp6(1),s.Q6J("ngSwitchCase","month"),s.xp6(1),s.Q6J("ngSwitchCase","year"),s.xp6(1),s.Q6J("ngSwitchCase","multi-year"))},dependencies:[NB,UB,LB,_l,JT,yo,$s],styles:['.mat-calendar{display:block}.mat-calendar-header{padding:8px 8px 0 8px}.mat-calendar-content{padding:0 8px 8px 8px;outline:none}.mat-calendar-controls{display:flex;margin:5% calc(4.7142857143% - 16px)}.mat-calendar-controls .mat-icon-button:hover .mat-button-focus-overlay{opacity:.04}.mat-calendar-spacer{flex:1 1 auto}.mat-calendar-period-button{min-width:0}.mat-calendar-arrow{display:inline-block;width:10px;height:5px;margin:0 0 0 5px;vertical-align:middle}.mat-calendar-arrow.mat-calendar-invert{transform:rotate(180deg)}[dir=rtl] .mat-calendar-arrow{margin:0 5px 0 0}.cdk-high-contrast-active .mat-calendar-arrow{fill:CanvasText}.mat-calendar-previous-button,.mat-calendar-next-button{position:relative}.mat-calendar-previous-button::after,.mat-calendar-next-button::after{top:0;left:0;right:0;bottom:0;position:absolute;content:"";margin:15.5px;border:0 solid currentColor;border-top-width:2px}[dir=rtl] .mat-calendar-previous-button,[dir=rtl] .mat-calendar-next-button{transform:rotate(180deg)}.mat-calendar-previous-button::after{border-left-width:2px;transform:translateX(2px) rotate(-45deg)}.mat-calendar-next-button::after{border-right-width:2px;transform:translateX(-2px) rotate(45deg)}.mat-calendar-table{border-spacing:0;border-collapse:collapse;width:100%}.mat-calendar-table-header th{text-align:center;padding:0 0 8px 0}.mat-calendar-table-header-divider{position:relative;height:1px}.mat-calendar-table-header-divider::after{content:"";position:absolute;top:0;left:-8px;right:-8px;height:1px}\n'],encapsulation:2,changeDetection:0}),n})();const HB={transformPanel:pr("transformPanel",[kn("void => enter-dropdown",Vn("120ms cubic-bezier(0, 0, 0.2, 1)",td([Ct({opacity:0,transform:"scale(1, 0.8)"}),Ct({opacity:1,transform:"scale(1, 1)"})]))),kn("void => enter-dialog",Vn("150ms cubic-bezier(0, 0, 0.2, 1)",td([Ct({opacity:0,transform:"scale(0.7)"}),Ct({transform:"none",opacity:1})]))),kn("* => void",Vn("100ms linear",Ct({opacity:0})))]),fadeInCalendar:pr("fadeInCalendar",[Pn("void",Ct({opacity:0})),Pn("enter",Ct({opacity:1})),kn("void => *",Vn("120ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)"))])};let mZ=0;const jB=new s.OlP("mat-datepicker-scroll-strategy"),_Z={provide:jB,deps:[As],useFactory:function gZ(n){return()=>n.scrollStrategies.reposition()}},yZ=Jg(class{constructor(n){this._elementRef=n}});let vZ=(()=>{class n extends yZ{constructor(e,i,r,o,u,h){super(e),this._changeDetectorRef=i,this._globalModel=r,this._dateAdapter=o,this._rangeSelectionStrategy=u,this._subscriptions=new on.w0,this._animationDone=new Ze.x,this._actionsPortal=null,this._closeButtonText=h.closeCalendarLabel}ngOnInit(){this._model=this._actionsPortal?this._globalModel.clone():this._globalModel,this._animationState=this.datepicker.touchUi?"enter-dialog":"enter-dropdown"}ngAfterViewInit(){this._subscriptions.add(this.datepicker.stateChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})),this._calendar.focusActiveCell()}ngOnDestroy(){this._subscriptions.unsubscribe(),this._animationDone.complete()}_handleUserSelection(e){const i=this._model.selection,r=e.value,o=i instanceof fo;if(o&&this._rangeSelectionStrategy){const u=this._rangeSelectionStrategy.selectionFinished(r,i,e.event);this._model.updateSelection(u,this)}else r&&(o||!this._dateAdapter.sameDate(r,i))&&this._model.add(r);(!this._model||this._model.isComplete())&&!this._actionsPortal&&this.datepicker.close()}_startExitAnimation(){this._animationState="void",this._changeDetectorRef.markForCheck()}_getSelected(){return this._model.selection}_applyPendingSelection(){this._model!==this._globalModel&&this._globalModel.updateSelection(this._model.selection,this)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.sBO),s.Y36(ff),s.Y36(fr),s.Y36(aI,8),s.Y36(a0))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-datepicker-content"]],viewQuery:function(e,i){if(1&e&&s.Gf(E1,5),2&e){let r;s.iGM(r=s.CRH())&&(i._calendar=r.first)}},hostAttrs:[1,"mat-datepicker-content"],hostVars:3,hostBindings:function(e,i){1&e&&s.WFA("@transformPanel.done",function(){return i._animationDone.next()}),2&e&&(s.d8E("@transformPanel",i._animationState),s.ekj("mat-datepicker-content-touch",i.datepicker.touchUi))},inputs:{color:"color"},exportAs:["matDatepickerContent"],features:[s.qOj],decls:5,vars:24,consts:[["cdkTrapFocus","","role","dialog",1,"mat-datepicker-content-container"],[3,"id","ngClass","startAt","startView","minDate","maxDate","dateFilter","headerComponent","selected","dateClass","comparisonStart","comparisonEnd","yearSelected","monthSelected","viewChanged","_userSelection"],[3,"cdkPortalOutlet"],["type","button","mat-raised-button","",1,"mat-datepicker-close-button",3,"color","focus","blur","click"]],template:function(e,i){if(1&e&&(s.TgZ(0,"div",0)(1,"mat-calendar",1),s.NdJ("yearSelected",function(o){return i.datepicker._selectYear(o)})("monthSelected",function(o){return i.datepicker._selectMonth(o)})("viewChanged",function(o){return i.datepicker._viewChanged(o)})("_userSelection",function(o){return i._handleUserSelection(o)}),s.qZA(),s.YNc(2,tZ,0,0,"ng-template",2),s.TgZ(3,"button",3),s.NdJ("focus",function(){return i._closeButtonFocused=!0})("blur",function(){return i._closeButtonFocused=!1})("click",function(){return i.datepicker.close()}),s._uU(4),s.qZA()()),2&e){let r;s.ekj("mat-datepicker-content-container-with-custom-header",i.datepicker.calendarHeaderComponent)("mat-datepicker-content-container-with-actions",i._actionsPortal),s.uIk("aria-modal",!0)("aria-labelledby",null!==(r=i._dialogLabelId)&&void 0!==r?r:void 0),s.xp6(1),s.Q6J("id",i.datepicker.id)("ngClass",i.datepicker.panelClass)("startAt",i.datepicker.startAt)("startView",i.datepicker.startView)("minDate",i.datepicker._getMinDate())("maxDate",i.datepicker._getMaxDate())("dateFilter",i.datepicker._getDateFilter())("headerComponent",i.datepicker.calendarHeaderComponent)("selected",i._getSelected())("dateClass",i.datepicker.dateClass)("comparisonStart",i.comparisonStart)("comparisonEnd",i.comparisonEnd)("@fadeInCalendar","enter"),s.xp6(1),s.Q6J("cdkPortalOutlet",i._actionsPortal),s.xp6(1),s.ekj("cdk-visually-hidden",!i._closeButtonFocused),s.Q6J("color",i.color||"primary"),s.xp6(1),s.Oqu(i._closeButtonText)}},dependencies:[E1,Ls,sD,rn,_l],styles:[".mat-datepicker-content{display:block;border-radius:4px}.mat-datepicker-content .mat-calendar{width:296px;height:354px}.mat-datepicker-content .mat-datepicker-content-container-with-custom-header .mat-calendar{height:auto}.mat-datepicker-content .mat-datepicker-close-button{position:absolute;top:100%;left:0;margin-top:8px}.ng-animating .mat-datepicker-content .mat-datepicker-close-button{display:none}.mat-datepicker-content-container{display:flex;flex-direction:column;justify-content:space-between}.mat-datepicker-content-touch{display:block;max-height:80vh;position:relative;overflow:visible}.mat-datepicker-content-touch .mat-datepicker-content-container{min-height:312px;max-height:788px;min-width:250px;max-width:750px}.mat-datepicker-content-touch .mat-calendar{width:100%;height:auto}@media all and (orientation: landscape){.mat-datepicker-content-touch .mat-datepicker-content-container{width:64vh;height:80vh}}@media all and (orientation: portrait){.mat-datepicker-content-touch .mat-datepicker-content-container{width:80vw;height:100vw}.mat-datepicker-content-touch .mat-datepicker-content-container-with-actions{height:115vw}}\n"],encapsulation:2,data:{animation:[HB.transformPanel,HB.fadeInCalendar]},changeDetection:0}),n})(),GB=(()=>{class n{constructor(e,i,r,o,u,h,_){this._overlay=e,this._ngZone=i,this._viewContainerRef=r,this._dateAdapter=u,this._dir=h,this._model=_,this._inputStateChanges=on.w0.EMPTY,this.startView="month",this._touchUi=!1,this.xPosition="start",this.yPosition="below",this._restoreFocus=!0,this.yearSelected=new s.vpe,this.monthSelected=new s.vpe,this.viewChanged=new s.vpe(!0),this.openedStream=new s.vpe,this.closedStream=new s.vpe,this._opened=!1,this.id="mat-datepicker-"+mZ++,this._focusedElementBeforeOpen=null,this._backdropHarnessClass=`${this.id}-backdrop`,this.stateChanges=new Ze.x,this._scrollStrategy=o}get startAt(){return this._startAt||(this.datepickerInput?this.datepickerInput.getStartValue():null)}set startAt(e){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get color(){return this._color||(this.datepickerInput?this.datepickerInput.getThemePalette():void 0)}set color(e){this._color=e}get touchUi(){return this._touchUi}set touchUi(e){this._touchUi=Mt(e)}get disabled(){return void 0===this._disabled&&this.datepickerInput?this.datepickerInput.disabled:!!this._disabled}set disabled(e){const i=Mt(e);i!==this._disabled&&(this._disabled=i,this.stateChanges.next(void 0))}get restoreFocus(){return this._restoreFocus}set restoreFocus(e){this._restoreFocus=Mt(e)}get panelClass(){return this._panelClass}set panelClass(e){this._panelClass=function kO(n,t=/\s+/){const e=[];if(null!=n){const i=Array.isArray(n)?n:`${n}`.split(t);for(const r of i){const o=`${r}`.trim();o&&e.push(o)}}return e}(e)}get opened(){return this._opened}set opened(e){Mt(e)?this.open():this.close()}_getMinDate(){return this.datepickerInput&&this.datepickerInput.min}_getMaxDate(){return this.datepickerInput&&this.datepickerInput.max}_getDateFilter(){return this.datepickerInput&&this.datepickerInput.dateFilter}ngOnChanges(e){const i=e.xPosition||e.yPosition;if(i&&!i.firstChange&&this._overlayRef){const r=this._overlayRef.getConfig().positionStrategy;r instanceof Pv&&(this._setConnectedPositions(r),this.opened&&this._overlayRef.updatePosition())}this.stateChanges.next(void 0)}ngOnDestroy(){this._destroyOverlay(),this.close(),this._inputStateChanges.unsubscribe(),this.stateChanges.complete()}select(e){this._model.add(e)}_selectYear(e){this.yearSelected.emit(e)}_selectMonth(e){this.monthSelected.emit(e)}_viewChanged(e){this.viewChanged.emit(e)}registerInput(e){return this._inputStateChanges.unsubscribe(),this.datepickerInput=e,this._inputStateChanges=e.stateChanges.subscribe(()=>this.stateChanges.next(void 0)),this._model}registerActions(e){this._actionsPortal=e}removeActions(e){e===this._actionsPortal&&(this._actionsPortal=null)}open(){this._opened||this.disabled||(this._focusedElementBeforeOpen=Zu(),this._openOverlay(),this._opened=!0,this.openedStream.emit())}close(){if(!this._opened)return;if(this._componentRef){const i=this._componentRef.instance;i._startExitAnimation(),i._animationDone.pipe(Et(1)).subscribe(()=>this._destroyOverlay())}const e=()=>{this._opened&&(this._opened=!1,this.closedStream.emit(),this._focusedElementBeforeOpen=null)};this._restoreFocus&&this._focusedElementBeforeOpen&&"function"==typeof this._focusedElementBeforeOpen.focus?(this._focusedElementBeforeOpen.focus(),setTimeout(e)):e()}_applyPendingSelection(){this._componentRef?.instance?._applyPendingSelection()}_forwardContentValues(e){e.datepicker=this,e.color=this.color,e._actionsPortal=this._actionsPortal,e._dialogLabelId=this.datepickerInput.getOverlayLabelId()}_openOverlay(){this._destroyOverlay();const e=this.touchUi,i=new kc(vZ,this._viewContainerRef),r=this._overlayRef=this._overlay.create(new Ku({positionStrategy:e?this._getDialogStrategy():this._getDropdownStrategy(),hasBackdrop:!0,backdropClass:[e?"cdk-overlay-dark-backdrop":"mat-overlay-transparent-backdrop",this._backdropHarnessClass],direction:this._dir,scrollStrategy:e?this._overlay.scrollStrategies.block():this._scrollStrategy(),panelClass:"mat-datepicker-"+(e?"dialog":"popup")}));this._getCloseStream(r).subscribe(o=>{o&&o.preventDefault(),this.close()}),r.keydownEvents().subscribe(o=>{const u=o.keyCode;(38===u||40===u||37===u||39===u||33===u||34===u)&&o.preventDefault()}),this._componentRef=r.attach(i),this._forwardContentValues(this._componentRef.instance),e||this._ngZone.onStable.pipe(Et(1)).subscribe(()=>r.updatePosition())}_destroyOverlay(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=this._componentRef=null)}_getDialogStrategy(){return this._overlay.position().global().centerHorizontally().centerVertically()}_getDropdownStrategy(){const e=this._overlay.position().flexibleConnectedTo(this.datepickerInput.getConnectedOverlayOrigin()).withTransformOriginOn(".mat-datepicker-content").withFlexibleDimensions(!1).withViewportMargin(8).withLockedPosition();return this._setConnectedPositions(e)}_setConnectedPositions(e){const i="end"===this.xPosition?"end":"start",r="start"===i?"end":"start",o="above"===this.yPosition?"bottom":"top",u="top"===o?"bottom":"top";return e.withPositions([{originX:i,originY:u,overlayX:i,overlayY:o},{originX:i,originY:o,overlayX:i,overlayY:u},{originX:r,originY:u,overlayX:r,overlayY:o},{originX:r,originY:o,overlayX:r,overlayY:u}])}_getCloseStream(e){return(0,dr.T)(e.backdropClick(),e.detachments(),e.keydownEvents().pipe(S(i=>27===i.keyCode&&!hr(i)||this.datepickerInput&&hr(i,"altKey")&&38===i.keyCode)))}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(As),s.Y36(s.R0b),s.Y36(s.s_b),s.Y36(jB),s.Y36(fr,8),s.Y36(qr,8),s.Y36(ff))},n.\u0275dir=s.lG2({type:n,inputs:{calendarHeaderComponent:"calendarHeaderComponent",startAt:"startAt",startView:"startView",color:"color",touchUi:"touchUi",disabled:"disabled",xPosition:"xPosition",yPosition:"yPosition",restoreFocus:"restoreFocus",dateClass:"dateClass",panelClass:"panelClass",opened:"opened"},outputs:{yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",openedStream:"opened",closedStream:"closed"},features:[s.TTD]}),n})(),S1=(()=>{class n extends GB{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-datepicker"]],exportAs:["matDatepicker"],features:[s._Bn([FB,{provide:GB,useExisting:n}]),s.qOj],decls:0,vars:0,template:function(e,i){},encapsulation:2,changeDetection:0}),n})();class lI{constructor(t,e){this.target=t,this.targetElement=e,this.value=this.target.value}}let bZ=(()=>{class n{constructor(e,i,r){this._elementRef=e,this._dateAdapter=i,this._dateFormats=r,this.dateChange=new s.vpe,this.dateInput=new s.vpe,this.stateChanges=new Ze.x,this._onTouched=()=>{},this._validatorOnChange=()=>{},this._cvaOnChange=()=>{},this._valueChangesSubscription=on.w0.EMPTY,this._localeSubscription=on.w0.EMPTY,this._parseValidator=()=>this._lastValueValid?null:{matDatepickerParse:{text:this._elementRef.nativeElement.value}},this._filterValidator=o=>{const u=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(o.value));return!u||this._matchesFilter(u)?null:{matDatepickerFilter:!0}},this._minValidator=o=>{const u=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(o.value)),h=this._getMinDate();return!h||!u||this._dateAdapter.compareDate(h,u)<=0?null:{matDatepickerMin:{min:h,actual:u}}},this._maxValidator=o=>{const u=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(o.value)),h=this._getMaxDate();return!h||!u||this._dateAdapter.compareDate(h,u)>=0?null:{matDatepickerMax:{max:h,actual:u}}},this._lastValueValid=!1,this._localeSubscription=i.localeChanges.subscribe(()=>{this._assignValueProgrammatically(this.value)})}get value(){return this._model?this._getValueFromModel(this._model.selection):this._pendingValue}set value(e){this._assignValueProgrammatically(e)}get disabled(){return!!this._disabled||this._parentDisabled()}set disabled(e){const i=Mt(e),r=this._elementRef.nativeElement;this._disabled!==i&&(this._disabled=i,this.stateChanges.next(void 0)),i&&this._isInitialized&&r.blur&&r.blur()}_getValidators(){return[this._parseValidator,this._minValidator,this._maxValidator,this._filterValidator]}_registerModel(e){this._model=e,this._valueChangesSubscription.unsubscribe(),this._pendingValue&&this._assignValue(this._pendingValue),this._valueChangesSubscription=this._model.selectionChanged.subscribe(i=>{if(this._shouldHandleChangeEvent(i)){const r=this._getValueFromModel(i.selection);this._lastValueValid=this._isValidValue(r),this._cvaOnChange(r),this._onTouched(),this._formatValue(r),this.dateInput.emit(new lI(this,this._elementRef.nativeElement)),this.dateChange.emit(new lI(this,this._elementRef.nativeElement))}})}ngAfterViewInit(){this._isInitialized=!0}ngOnChanges(e){(function wZ(n,t){const e=Object.keys(n);for(let i of e){const{previousValue:r,currentValue:o}=n[i];if(!t.isDateInstance(r)||!t.isDateInstance(o))return!0;if(!t.sameDate(r,o))return!0}return!1})(e,this._dateAdapter)&&this.stateChanges.next(void 0)}ngOnDestroy(){this._valueChangesSubscription.unsubscribe(),this._localeSubscription.unsubscribe(),this.stateChanges.complete()}registerOnValidatorChange(e){this._validatorOnChange=e}validate(e){return this._validator?this._validator(e):null}writeValue(e){this._assignValueProgrammatically(e)}registerOnChange(e){this._cvaOnChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e}_onKeydown(e){e.altKey&&40===e.keyCode&&!this._elementRef.nativeElement.readOnly&&(this._openPopup(),e.preventDefault())}_onInput(e){const i=this._lastValueValid;let r=this._dateAdapter.parse(e,this._dateFormats.parse.dateInput);this._lastValueValid=this._isValidValue(r),r=this._dateAdapter.getValidDateOrNull(r);const o=!this._dateAdapter.sameDate(r,this.value);!r||o?this._cvaOnChange(r):(e&&!this.value&&this._cvaOnChange(r),i!==this._lastValueValid&&this._validatorOnChange()),o&&(this._assignValue(r),this.dateInput.emit(new lI(this,this._elementRef.nativeElement)))}_onChange(){this.dateChange.emit(new lI(this,this._elementRef.nativeElement))}_onBlur(){this.value&&this._formatValue(this.value),this._onTouched()}_formatValue(e){this._elementRef.nativeElement.value=null!=e?this._dateAdapter.format(e,this._dateFormats.display.dateInput):""}_assignValue(e){this._model?(this._assignValueToModel(e),this._pendingValue=null):this._pendingValue=e}_isValidValue(e){return!e||this._dateAdapter.isValid(e)}_parentDisabled(){return!1}_assignValueProgrammatically(e){e=this._dateAdapter.deserialize(e),this._lastValueValid=this._isValidValue(e),e=this._dateAdapter.getValidDateOrNull(e),this._assignValue(e),this._formatValue(e)}_matchesFilter(e){const i=this._getDateFilter();return!i||i(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(fr,8),s.Y36(oo,8))},n.\u0275dir=s.lG2({type:n,inputs:{value:"value",disabled:"disabled"},outputs:{dateChange:"dateChange",dateInput:"dateInput"},features:[s.TTD]}),n})();const CZ={provide:Yr,useExisting:(0,s.Gpc)(()=>c0),multi:!0},DZ={provide:Ji,useExisting:(0,s.Gpc)(()=>c0),multi:!0};let c0=(()=>{class n extends bZ{constructor(e,i,r,o){super(e,i,r),this._formField=o,this._closedSubscription=on.w0.EMPTY,this._validator=Mn.compose(super._getValidators())}set matDatepicker(e){e&&(this._datepicker=e,this._closedSubscription=e.closedStream.subscribe(()=>this._onTouched()),this._registerModel(e.registerInput(this)))}get min(){return this._min}set min(e){const i=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e));this._dateAdapter.sameDate(i,this._min)||(this._min=i,this._validatorOnChange())}get max(){return this._max}set max(e){const i=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e));this._dateAdapter.sameDate(i,this._max)||(this._max=i,this._validatorOnChange())}get dateFilter(){return this._dateFilter}set dateFilter(e){const i=this._matchesFilter(this.value);this._dateFilter=e,this._matchesFilter(this.value)!==i&&this._validatorOnChange()}getConnectedOverlayOrigin(){return this._formField?this._formField.getConnectedOverlayOrigin():this._elementRef}getOverlayLabelId(){return this._formField?this._formField.getLabelId():this._elementRef.nativeElement.getAttribute("aria-labelledby")}getThemePalette(){return this._formField?this._formField.color:void 0}getStartValue(){return this.value}ngOnDestroy(){super.ngOnDestroy(),this._closedSubscription.unsubscribe()}_openPopup(){this._datepicker&&this._datepicker.open()}_getValueFromModel(e){return e}_assignValueToModel(e){this._model&&this._model.updateSelection(e,this)}_getMinDate(){return this._min}_getMaxDate(){return this._max}_getDateFilter(){return this._dateFilter}_shouldHandleChangeEvent(e){return e.source!==this}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(fr,8),s.Y36(oo,8),s.Y36(iI,8))},n.\u0275dir=s.lG2({type:n,selectors:[["input","matDatepicker",""]],hostAttrs:[1,"mat-datepicker-input"],hostVars:6,hostBindings:function(e,i){1&e&&s.NdJ("input",function(o){return i._onInput(o.target.value)})("change",function(){return i._onChange()})("blur",function(){return i._onBlur()})("keydown",function(o){return i._onKeydown(o)}),2&e&&(s.Ikx("disabled",i.disabled),s.uIk("aria-haspopup",i._datepicker?"dialog":null)("aria-owns",(null==i._datepicker?null:i._datepicker.opened)&&i._datepicker.id||null)("min",i.min?i._dateAdapter.toIso8601(i.min):null)("max",i.max?i._dateAdapter.toIso8601(i.max):null)("data-mat-calendar",i._datepicker?i._datepicker.id:null))},inputs:{matDatepicker:"matDatepicker",min:"min",max:"max",dateFilter:["matDatepickerFilter","dateFilter"]},exportAs:["matDatepickerInput"],features:[s._Bn([CZ,DZ,{provide:CB,useExisting:n}]),s.qOj]}),n})(),EZ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["","matDatepickerToggleIcon",""]]}),n})(),I1=(()=>{class n{constructor(e,i,r){this._intl=e,this._changeDetectorRef=i,this._stateChanges=on.w0.EMPTY;const o=Number(r);this.tabIndex=o||0===o?o:null}get disabled(){return void 0===this._disabled&&this.datepicker?this.datepicker.disabled:!!this._disabled}set disabled(e){this._disabled=Mt(e)}ngOnChanges(e){e.datepicker&&this._watchStateChanges()}ngOnDestroy(){this._stateChanges.unsubscribe()}ngAfterContentInit(){this._watchStateChanges()}_open(e){this.datepicker&&!this.disabled&&(this.datepicker.open(),e.stopPropagation())}_watchStateChanges(){const e=this.datepicker?this.datepicker.stateChanges:qe(),i=this.datepicker&&this.datepicker.datepickerInput?this.datepicker.datepickerInput.stateChanges:qe(),r=this.datepicker?(0,dr.T)(this.datepicker.openedStream,this.datepicker.closedStream):qe();this._stateChanges.unsubscribe(),this._stateChanges=(0,dr.T)(this._intl.changes,e,i,r).subscribe(()=>this._changeDetectorRef.markForCheck())}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(a0),s.Y36(s.sBO),s.$8M("tabindex"))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-datepicker-toggle"]],contentQueries:function(e,i,r){if(1&e&&s.Suo(r,EZ,5),2&e){let o;s.iGM(o=s.CRH())&&(i._customIcon=o.first)}},viewQuery:function(e,i){if(1&e&&s.Gf(nZ,5),2&e){let r;s.iGM(r=s.CRH())&&(i._button=r.first)}},hostAttrs:[1,"mat-datepicker-toggle"],hostVars:8,hostBindings:function(e,i){1&e&&s.NdJ("click",function(o){return i._open(o)}),2&e&&(s.uIk("tabindex",null)("data-mat-calendar",i.datepicker?i.datepicker.id:null),s.ekj("mat-datepicker-toggle-active",i.datepicker&&i.datepicker.opened)("mat-accent",i.datepicker&&"accent"===i.datepicker.color)("mat-warn",i.datepicker&&"warn"===i.datepicker.color))},inputs:{datepicker:["for","datepicker"],tabIndex:"tabIndex",ariaLabel:["aria-label","ariaLabel"],disabled:"disabled",disableRipple:"disableRipple"},exportAs:["matDatepickerToggle"],features:[s.TTD],ngContentSelectors:sZ,decls:4,vars:6,consts:[["mat-icon-button","","type","button",3,"disabled","disableRipple"],["button",""],["class","mat-datepicker-toggle-default-icon","viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false",4,"ngIf"],["viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false",1,"mat-datepicker-toggle-default-icon"],["d","M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"]],template:function(e,i){1&e&&(s.F$t(rZ),s.TgZ(0,"button",0,1),s.YNc(2,iZ,2,0,"svg",2),s.Hsn(3),s.qZA()),2&e&&(s.Q6J("disabled",i.disabled)("disableRipple",i.disableRipple),s.uIk("aria-haspopup",i.datepicker?"dialog":null)("aria-label",i.ariaLabel||i._intl.openCalendarLabel)("tabindex",i.disabled?-1:i.tabIndex),s.xp6(2),s.Q6J("ngIf",!i._customIcon))},dependencies:[Ls,sn],styles:[".mat-form-field-appearance-legacy .mat-form-field-prefix .mat-datepicker-toggle-default-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-datepicker-toggle-default-icon{width:1em}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-datepicker-toggle-default-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-datepicker-toggle-default-icon{display:block;width:1.5em;height:1.5em}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-datepicker-toggle-default-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-datepicker-toggle-default-icon{margin:auto}.cdk-high-contrast-active .mat-datepicker-toggle-default-icon{color:CanvasText}\n"],encapsulation:2,changeDetection:0}),n})(),zB=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[a0,_Z],imports:[[Li,n0,Ch,Zv,cp,Wt],xc]}),n})();function SZ(n,t){1&n&&(s.TgZ(0,"mat-error"),s._uU(1,"Enter full Patient Name"),s.qZA())}function IZ(n,t){1&n&&(s.TgZ(0,"mat-error"),s._uU(1,"Enter Mobile"),s.qZA())}function MZ(n,t){1&n&&(s.TgZ(0,"mat-error"),s._uU(1,"Enter Prescription} "),s.qZA())}function TZ(n,t){if(1&n&&(s.TgZ(0,"mat-option",20),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.Q6J("value",e.doctor_id),s.xp6(1),s.hij(" ",e.doctor_name," ")}}function AZ(n,t){1&n&&(s.TgZ(0,"mat-error"),s._uU(1,"Select Admission date"),s.qZA())}let M1=(()=>{class n{constructor(e,i,r,o){this.fb=e,this.dialogRef=r,this.dataApi=o,this.allDoctors=[],this.title=i.title,this.patient_id=i.patient_id,this.patient_name=i.patient_name,this.mobile=i.mobile,this.gender=i.gender,this.prescription=i.prescription,this.admission_date=i.admission_date,this.buttonName=i.buttonName,this.doctor_id=i.doctor_id,this.doctor_name=i.doctor_name}ngOnInit(){this.getAllDoctors(),this.form=this.fb.group({patient_id:[this.patient_id,[]],patient_name:[this.patient_name,[Mn.required,Mn.maxLength(10),Mn.minLength(10)]],mobile:[this.mobile,[Mn.required]],gender:[this.gender,[Mn.required]],doctor_id:[this.doctor_id,[Mn.required]],doctor_name:[this.doctor_name,[]],admission_date:[this.admission_date,[Mn.required]],prescription:[this.prescription,[Mn.required]]})}getAllDoctors(){this.dataApi.getAllDoctors().subscribe(e=>{this.allDoctors=e.map(i=>({doctor_name:i.payload.doc.data().name,doctor_id:i.payload.doc.id}))})}cancelRegisteration(){this.dialogRef.close()}registerPatient(){var e=this;return(0,ye.Z)(function*(){e.form.value.doctor_name=yield e.getDoctorName(e.form.value.doctor_id),e.dialogRef.close(e.form.value)})()}getDoctorName(e){for(let i=0;i<this.allDoctors.length;i++)if(this.allDoctors[i].doctor_id==e)return this.allDoctors[i].doctor_name;return""}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Ub),s.Y36(xp),s.Y36(nd),s.Y36(Am))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-add-patient"]],decls:54,vars:10,consts:[["mat-dialog-title",""],[3,"formGroup"],["cols","2"],[1,"example-container"],["matInput","","placeholder","Ali","formControlName","patient_name","required",""],[4,"ngIf"],["matInput","","placeholder","+923878757887","formControlName","mobile","required",""],["matInput","","placeholder","ex prescription","formControlName","prescription","required",""],["aria-label","Select an gender","color","primary","formControlName","gender"],["value","male"],["value","female"],["value","other"],["formControlName","doctor_id","name","doctor_id"],[3,"value",4,"ngFor","ngForOf"],["matInput","","formControlName","admission_date",3,"matDatepicker"],["matIconSuffix","",3,"for"],["picker",""],["mat-dialog-actions",""],["mat-raised-button","","mat-dialog-close","",3,"click"],["mat-raised-button","","color","primary","mat-dialog-close","",3,"click"],[3,"value"]],template:function(e,i){if(1&e&&(s.TgZ(0,"h2",0),s._uU(1),s.qZA(),s._UZ(2,"mat-divider"),s.TgZ(3,"mat-dialog-content",1)(4,"mat-grid-list",2)(5,"mat-grid-tile")(6,"div",3)(7,"mat-form-field")(8,"mat-label"),s._uU(9,"Enter full patient_name"),s.qZA(),s._UZ(10,"input",4),s.YNc(11,SZ,2,0,"mat-error",5),s.qZA(),s.TgZ(12,"mat-form-field")(13,"mat-label"),s._uU(14,"Mobile Number"),s.qZA(),s._UZ(15,"input",6),s.YNc(16,IZ,2,0,"mat-error",5),s.qZA(),s.TgZ(17,"mat-form-field")(18,"mat-label"),s._uU(19,"Prescription"),s.qZA(),s._UZ(20,"input",7),s.YNc(21,MZ,2,0,"mat-error",5),s.qZA()()(),s.TgZ(22,"mat-grid-tile")(23,"div")(24,"mat-label"),s._uU(25,"Gender"),s.qZA(),s.TgZ(26,"mat-radio-group",8),s._UZ(27,"br"),s.TgZ(28,"mat-radio-button",9),s._uU(29,"Male"),s.qZA(),s.TgZ(30,"mat-radio-button",10),s._uU(31,"Female"),s.qZA(),s.TgZ(32,"mat-radio-button",11),s._uU(33,"Other"),s.qZA()(),s.TgZ(34,"mat-form-field")(35,"mat-label"),s._uU(36,"Doctors"),s.qZA(),s.TgZ(37,"mat-select",12),s.YNc(38,TZ,2,2,"mat-option",13),s.qZA()(),s.TgZ(39,"mat-form-field")(40,"mat-label"),s._uU(41,"AddmissionDate"),s.qZA(),s._UZ(42,"input",14),s.TgZ(43,"mat-hint"),s._uU(44,"MM/DD/YYYY"),s.qZA(),s._UZ(45,"mat-datepicker-toggle",15)(46,"mat-datepicker",null,16),s.YNc(48,AZ,2,0,"mat-error",5),s.qZA()()()()(),s.TgZ(49,"div",17)(50,"button",18),s.NdJ("click",function(){return i.cancelRegisteration()}),s._uU(51,"Cancel"),s.qZA(),s.TgZ(52,"button",19),s.NdJ("click",function(){return i.registerPatient()}),s._uU(53),s.qZA()()),2&e){const r=s.MAs(47);let o,u,h,_;s.xp6(1),s.Oqu(i.title),s.xp6(2),s.Q6J("formGroup",i.form),s.xp6(8),s.Q6J("ngIf",(null==(o=i.form.get("name"))?null:o.invalid)||(null==(o=i.form.get("patient_name"))?null:o.dirty)||(null==(o=i.form.get("patient_name"))?null:o.touched)),s.xp6(5),s.Q6J("ngIf",(null==(u=i.form.get("mobile"))?null:u.invalid)||(null==(u=i.form.get("mobile"))?null:u.dirty)||(null==(u=i.form.get("mobile"))?null:u.touched)),s.xp6(5),s.Q6J("ngIf",(null==(h=i.form.get("prescription"))?null:h.invalid)||(null==(h=i.form.get("prescription"))?null:h.dirty)||(null==(h=i.form.get("prescription"))?null:h.touched)),s.xp6(17),s.Q6J("ngForOf",i.allDoctors),s.xp6(4),s.Q6J("matDatepicker",r),s.xp6(3),s.Q6J("for",r),s.xp6(3),s.Q6J("ngIf",(null==(_=i.form.get("admission_date"))?null:_.invalid)||(null==(_=i.form.get("admission_date"))?null:_.dirty)||(null==(_=i.form.get("admission_date"))?null:_.touched)),s.xp6(5),s.Oqu(i.buttonName)}},dependencies:[Vr,sn,Ls,xm,ab,s_,kp,Rp,h1,eI,tI,vd,f1,Zc,hf,rI,sI,g1,t_,S1,c0,I1,Dl,Fp,Sl,ka,xa,od],styles:["mat-dialog-content[_ngcontent-%COMP%]{width:600px}.mat-grid-list[_ngcontent-%COMP%]{overflow:hidden}.mat-radio-button[_ngcontent-%COMP%]{margin:right 15px}"]}),n})(),xZ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();const $B=new Set;let vy,kZ=(()=>{class n{constructor(e){this._platform=e,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):OZ}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&function RZ(n){if(!$B.has(n))try{vy||(vy=document.createElement("style"),vy.setAttribute("type","text/css"),document.head.appendChild(vy)),vy.sheet&&(vy.sheet.insertRule(`@media ${n} {body{ }}`,0),$B.add(n))}catch(t){console.error(t)}}(e),this._matchMedia(e)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(En))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function OZ(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let cI=(()=>{class n{constructor(e,i){this._mediaMatcher=e,this._zone=i,this._queries=new Map,this._destroySubject=new Ze.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return qB(op(e)).some(r=>this._registerQuery(r).mql.matches)}observe(e){let o=as(qB(op(e)).map(u=>this._registerQuery(u).observable));return o=ls(o.pipe(Et(1)),o.pipe(ZC(1),Cp(0))),o.pipe((0,Ge.U)(u=>{const h={matches:!1,breakpoints:{}};return u.forEach(({matches:_,query:b})=>{h.matches=h.matches||_,h.breakpoints[b]=_}),h}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);const i=this._mediaMatcher.matchMedia(e),o={observable:new jn.y(u=>{const h=_=>this._zone.run(()=>u.next(_));return i.addListener(h),()=>{i.removeListener(h)}}).pipe(Yn(i),(0,Ge.U)(({matches:u})=>({query:e,matches:u})),Vt(this._destroySubject)),mql:i};return this._queries.set(e,o),o}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(kZ),s.LFG(s.R0b))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function qB(n){return n.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}const T1_Handset="(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)",PZ=["tooltip"],ZB="tooltip-panel",YB=Mc({passive:!0}),WB=new s.OlP("mat-tooltip-scroll-strategy"),VZ={provide:WB,deps:[As],useFactory:function LZ(n){return()=>n.scrollStrategies.reposition({scrollThrottle:20})}},BZ=new s.OlP("mat-tooltip-default-options",{providedIn:"root",factory:function UZ(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}});let HZ=(()=>{class n{constructor(e,i,r,o,u,h,_,b,D,M,O,B){this._overlay=e,this._elementRef=i,this._scrollDispatcher=r,this._viewContainerRef=o,this._ngZone=u,this._platform=h,this._ariaDescriber=_,this._focusMonitor=b,this._dir=M,this._defaultOptions=O,this._position="below",this._disabled=!1,this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this._viewportMargin=8,this._cssClassPrefix="mat",this._showDelay=this._defaultOptions.showDelay,this._hideDelay=this._defaultOptions.hideDelay,this.touchGestures="auto",this._message="",this._passiveListeners=[],this._destroyed=new Ze.x,this._scrollStrategy=D,this._document=B,O&&(O.position&&(this.position=O.position),O.touchGestures&&(this.touchGestures=O.touchGestures)),M.change.pipe(Vt(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)})}get position(){return this._position}set position(e){e!==this._position&&(this._position=e,this._overlayRef&&(this._updatePosition(this._overlayRef),this._tooltipInstance?.show(0),this._overlayRef.updatePosition()))}get disabled(){return this._disabled}set disabled(e){this._disabled=Mt(e),this._disabled?this.hide(0):this._setupPointerEnterEventsIfNeeded()}get showDelay(){return this._showDelay}set showDelay(e){this._showDelay=xr(e)}get hideDelay(){return this._hideDelay}set hideDelay(e){this._hideDelay=xr(e),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}get message(){return this._message}set message(e){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this._message,"tooltip"),this._message=null!=e?String(e).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage(),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")})}))}get tooltipClass(){return this._tooltipClass}set tooltipClass(e){this._tooltipClass=e,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe(Vt(this._destroyed)).subscribe(e=>{e?"keyboard"===e&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){const e=this._elementRef.nativeElement;clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([i,r])=>{e.removeEventListener(i,r,YB)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(e,this.message,"tooltip"),this._focusMonitor.stopMonitoring(e)}show(e=this.showDelay){if(this.disabled||!this.message||this._isTooltipVisible()&&!this._tooltipInstance._showTimeoutId&&!this._tooltipInstance._hideTimeoutId)return;const i=this._createOverlay();this._detach(),this._portal=this._portal||new kc(this._tooltipComponent,this._viewContainerRef);const r=this._tooltipInstance=i.attach(this._portal).instance;r._triggerElement=this._elementRef.nativeElement,r._mouseLeaveHideDelay=this._hideDelay,r.afterHidden().pipe(Vt(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),r.show(e)}hide(e=this.hideDelay){this._tooltipInstance&&this._tooltipInstance.hide(e)}toggle(){this._isTooltipVisible()?this.hide():this.show()}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(){if(this._overlayRef)return this._overlayRef;const e=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),i=this._overlay.position().flexibleConnectedTo(this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(e);return i.positionChanges.pipe(Vt(this._destroyed)).subscribe(r=>{this._updateCurrentPositionClass(r.connectionPair),this._tooltipInstance&&r.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:i,panelClass:`${this._cssClassPrefix}-${ZB}`,scrollStrategy:this._scrollStrategy()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe(Vt(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe(Vt(this._destroyed)).subscribe(()=>this._tooltipInstance?._handleBodyInteraction()),this._overlayRef.keydownEvents().pipe(Vt(this._destroyed)).subscribe(r=>{this._isTooltipVisible()&&27===r.keyCode&&!hr(r)&&(r.preventDefault(),r.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),this._defaultOptions?.disableTooltipInteractivity&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(e){const i=e.getConfig().positionStrategy,r=this._getOrigin(),o=this._getOverlayPosition();i.withPositions([this._addOffset({...r.main,...o.main}),this._addOffset({...r.fallback,...o.fallback})])}_addOffset(e){return e}_getOrigin(){const e=!this._dir||"ltr"==this._dir.value,i=this.position;let r;"above"==i||"below"==i?r={originX:"center",originY:"above"==i?"top":"bottom"}:"before"==i||"left"==i&&e||"right"==i&&!e?r={originX:"start",originY:"center"}:("after"==i||"right"==i&&e||"left"==i&&!e)&&(r={originX:"end",originY:"center"});const{x:o,y:u}=this._invertPosition(r.originX,r.originY);return{main:r,fallback:{originX:o,originY:u}}}_getOverlayPosition(){const e=!this._dir||"ltr"==this._dir.value,i=this.position;let r;"above"==i?r={overlayX:"center",overlayY:"bottom"}:"below"==i?r={overlayX:"center",overlayY:"top"}:"before"==i||"left"==i&&e||"right"==i&&!e?r={overlayX:"end",overlayY:"center"}:("after"==i||"right"==i&&e||"left"==i&&!e)&&(r={overlayX:"start",overlayY:"center"});const{x:o,y:u}=this._invertPosition(r.overlayX,r.overlayY);return{main:r,fallback:{overlayX:o,overlayY:u}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),this._ngZone.onMicrotaskEmpty.pipe(Et(1),Vt(this._destroyed)).subscribe(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()}))}_setTooltipClass(e){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=e,this._tooltipInstance._markForCheck())}_invertPosition(e,i){return"above"===this.position||"below"===this.position?"top"===i?i="bottom":"bottom"===i&&(i="top"):"end"===e?e="start":"start"===e&&(e="end"),{x:e,y:i}}_updateCurrentPositionClass(e){const{overlayY:i,originX:r,originY:o}=e;let u;if(u="center"===i?this._dir&&"rtl"===this._dir.value?"end"===r?"left":"right":"start"===r?"left":"right":"bottom"===i&&"top"===o?"above":"below",u!==this._currentPosition){const h=this._overlayRef;if(h){const _=`${this._cssClassPrefix}-${ZB}-`;h.removePanelClass(_+this._currentPosition),h.addPanelClass(_+u)}this._currentPosition=u}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",()=>{this._setupPointerExitEventsIfNeeded(),this.show()}]):"off"!==this.touchGestures&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",()=>{this._setupPointerExitEventsIfNeeded(),clearTimeout(this._touchstartTimeout),this._touchstartTimeout=setTimeout(()=>this.show(),500)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;const e=[];if(this._platformSupportsMouseEvents())e.push(["mouseleave",i=>{const r=i.relatedTarget;(!r||!this._overlayRef?.overlayElement.contains(r))&&this.hide()}],["wheel",i=>this._wheelListener(i)]);else if("off"!==this.touchGestures){this._disableNativeGesturesIfNecessary();const i=()=>{clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};e.push(["touchend",i],["touchcancel",i])}this._addListeners(e),this._passiveListeners.push(...e)}_addListeners(e){e.forEach(([i,r])=>{this._elementRef.nativeElement.addEventListener(i,r,YB)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(e){if(this._isTooltipVisible()){const i=this._document.elementFromPoint(e.clientX,e.clientY),r=this._elementRef.nativeElement;i!==r&&!r.contains(i)&&this.hide()}}_disableNativeGesturesIfNecessary(){const e=this.touchGestures;if("off"!==e){const i=this._elementRef.nativeElement,r=i.style;("on"===e||"INPUT"!==i.nodeName&&"TEXTAREA"!==i.nodeName)&&(r.userSelect=r.msUserSelect=r.webkitUserSelect=r.MozUserSelect="none"),("on"===e||!i.draggable)&&(r.webkitUserDrag="none"),r.touchAction="none",r.webkitTapHighlightColor="transparent"}}}return n.\u0275fac=function(e){s.$Z()},n.\u0275dir=s.lG2({type:n,inputs:{position:["matTooltipPosition","position"],disabled:["matTooltipDisabled","disabled"],showDelay:["matTooltipShowDelay","showDelay"],hideDelay:["matTooltipHideDelay","hideDelay"],touchGestures:["matTooltipTouchGestures","touchGestures"],message:["matTooltip","message"],tooltipClass:["matTooltipClass","tooltipClass"]}}),n})(),jZ=(()=>{class n extends HZ{constructor(e,i,r,o,u,h,_,b,D,M,O,B){super(e,i,r,o,u,h,_,b,D,M,O,B),this._tooltipComponent=zZ}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(As),s.Y36(s.SBq),s.Y36(Fg),s.Y36(s.s_b),s.Y36(s.R0b),s.Y36(En),s.Y36(Ma),s.Y36(wl),s.Y36(WB),s.Y36(qr,8),s.Y36(BZ,8),s.Y36(te))},n.\u0275dir=s.lG2({type:n,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-tooltip-trigger"],exportAs:["matTooltip"],features:[s.qOj]}),n})(),GZ=(()=>{class n{constructor(e,i){this._changeDetectorRef=e,this._visibility="initial",this._closeOnInteraction=!1,this._isVisible=!1,this._onHide=new Ze.x,this._animationsDisabled="NoopAnimations"===i}show(e){clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},e)}hide(e){clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},e)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){clearTimeout(this._showTimeoutId),clearTimeout(this._hideTimeoutId),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:e}){(!e||!this._triggerElement.contains(e))&&this.hide(this._mouseLeaveHideDelay)}_onShow(){}_handleAnimationEnd({animationName:e}){(e===this._showAnimation||e===this._hideAnimation)&&this._finalizeAnimation(e===this._showAnimation)}_finalizeAnimation(e){e?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(e){const i=this._tooltip.nativeElement,r=this._showAnimation,o=this._hideAnimation;if(i.classList.remove(e?o:r),i.classList.add(e?r:o),this._isVisible=e,e&&!this._animationsDisabled&&"function"==typeof getComputedStyle){const u=getComputedStyle(i);("0s"===u.getPropertyValue("animation-duration")||"none"===u.getPropertyValue("animation-name"))&&(this._animationsDisabled=!0)}e&&this._onShow(),this._animationsDisabled&&(i.classList.add("_mat-animation-noopable"),this._finalizeAnimation(e))}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.sBO),s.Y36(s.QbO,8))},n.\u0275dir=s.lG2({type:n}),n})(),zZ=(()=>{class n extends GZ{constructor(e,i,r){super(e,r),this._breakpointObserver=i,this._isHandset=this._breakpointObserver.observe(T1_Handset),this._showAnimation="mat-tooltip-show",this._hideAnimation="mat-tooltip-hide"}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.sBO),s.Y36(cI),s.Y36(s.QbO,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-tooltip-component"]],viewQuery:function(e,i){if(1&e&&s.Gf(PZ,7),2&e){let r;s.iGM(r=s.CRH())&&(i._tooltip=r.first)}},hostAttrs:["aria-hidden","true"],hostVars:2,hostBindings:function(e,i){1&e&&s.NdJ("mouseleave",function(o){return i._handleMouseLeave(o)}),2&e&&s.Udp("zoom",i.isVisible()?1:null)},features:[s.qOj],decls:4,vars:6,consts:[[1,"mat-tooltip",3,"ngClass","animationend"],["tooltip",""]],template:function(e,i){if(1&e&&(s.TgZ(0,"div",0,1),s.NdJ("animationend",function(o){return i._handleAnimationEnd(o)}),s.ALo(2,"async"),s._uU(3),s.qZA()),2&e){let r;s.ekj("mat-tooltip-handset",null==(r=s.lcZ(2,4,i._isHandset))?null:r.matches),s.Q6J("ngClass",i.tooltipClass),s.xp6(3),s.Oqu(i.message)}},dependencies:[rn,Pl],styles:[".mat-tooltip{color:#fff;border-radius:4px;margin:14px;max-width:250px;padding-left:8px;padding-right:8px;overflow:hidden;text-overflow:ellipsis;transform:scale(0)}.mat-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.cdk-high-contrast-active .mat-tooltip{outline:solid 1px}.mat-tooltip-handset{margin:24px;padding-left:16px;padding-right:16px}.mat-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-tooltip-show{0%{opacity:0;transform:scale(0)}50%{opacity:.5;transform:scale(0.99)}100%{opacity:1;transform:scale(1)}}@keyframes mat-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(1)}}.mat-tooltip-show{animation:mat-tooltip-show 200ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-tooltip-hide{animation:mat-tooltip-hide 100ms cubic-bezier(0, 0, 0.2, 1) forwards}\n"],encapsulation:2,changeDetection:0}),n})(),$Z=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[VZ],imports:[[Zv,Li,Ch,Wt],Wt,xc]}),n})();function qZ(n,t){if(1&n&&(s.TgZ(0,"mat-option",19),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.Q6J("value",e),s.xp6(1),s.hij(" ",e," ")}}function ZZ(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"mat-form-field",16)(1,"mat-select",17),s.NdJ("selectionChange",function(r){s.CHM(e);const o=s.oxw(2);return s.KtG(o._changePageSize(r.value))}),s.YNc(2,qZ,2,2,"mat-option",18),s.qZA()()}if(2&n){const e=s.oxw(2);s.Q6J("appearance",e._formFieldAppearance)("color",e.color),s.xp6(1),s.Q6J("value",e.pageSize)("disabled",e.disabled)("aria-label",e._intl.itemsPerPageLabel),s.xp6(1),s.Q6J("ngForOf",e._displayedPageSizeOptions)}}function YZ(n,t){if(1&n&&(s.TgZ(0,"div",20),s._uU(1),s.qZA()),2&n){const e=s.oxw(2);s.xp6(1),s.Oqu(e.pageSize)}}function WZ(n,t){if(1&n&&(s.TgZ(0,"div",12)(1,"div",13),s._uU(2),s.qZA(),s.YNc(3,ZZ,3,6,"mat-form-field",14),s.YNc(4,YZ,2,1,"div",15),s.qZA()),2&n){const e=s.oxw();s.xp6(2),s.hij(" ",e._intl.itemsPerPageLabel," "),s.xp6(1),s.Q6J("ngIf",e._displayedPageSizeOptions.length>1),s.xp6(1),s.Q6J("ngIf",e._displayedPageSizeOptions.length<=1)}}function KZ(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",21),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.firstPage())}),s.O4$(),s.TgZ(1,"svg",7),s._UZ(2,"path",22),s.qZA()()}if(2&n){const e=s.oxw();s.Q6J("matTooltip",e._intl.firstPageLabel)("matTooltipDisabled",e._previousButtonsDisabled())("matTooltipPosition","above")("disabled",e._previousButtonsDisabled()),s.uIk("aria-label",e._intl.firstPageLabel)}}function QZ(n,t){if(1&n){const e=s.EpF();s.O4$(),s.kcU(),s.TgZ(0,"button",23),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.lastPage())}),s.O4$(),s.TgZ(1,"svg",7),s._UZ(2,"path",24),s.qZA()()}if(2&n){const e=s.oxw();s.Q6J("matTooltip",e._intl.lastPageLabel)("matTooltipDisabled",e._nextButtonsDisabled())("matTooltipPosition","above")("disabled",e._nextButtonsDisabled()),s.uIk("aria-label",e._intl.lastPageLabel)}}let uI=(()=>{class n{constructor(){this.changes=new Ze.x,this.itemsPerPageLabel="Items per page:",this.nextPageLabel="Next page",this.previousPageLabel="Previous page",this.firstPageLabel="First page",this.lastPageLabel="Last page",this.getRangeLabel=(e,i,r)=>{if(0==r||0==i)return`0 of ${r}`;const o=e*i;return`${o+1} \u2013 ${o<(r=Math.max(r,0))?Math.min(o+i,r):o+i} of ${r}`}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const XZ={provide:uI,deps:[[new s.FiY,new s.tp0,uI]],useFactory:function JZ(n){return n||new uI}},t4=new s.OlP("MAT_PAGINATOR_DEFAULT_OPTIONS"),n4=Fc(Tt(class{}));let r4=(()=>{class n extends n4{constructor(e,i,r){if(super(),this._intl=e,this._changeDetectorRef=i,this._pageIndex=0,this._length=0,this._pageSizeOptions=[],this._hidePageSize=!1,this._showFirstLastButtons=!1,this.page=new s.vpe,this._intlChanges=e.changes.subscribe(()=>this._changeDetectorRef.markForCheck()),r){const{pageSize:o,pageSizeOptions:u,hidePageSize:h,showFirstLastButtons:_}=r;null!=o&&(this._pageSize=o),null!=u&&(this._pageSizeOptions=u),null!=h&&(this._hidePageSize=h),null!=_&&(this._showFirstLastButtons=_)}}get pageIndex(){return this._pageIndex}set pageIndex(e){this._pageIndex=Math.max(xr(e),0),this._changeDetectorRef.markForCheck()}get length(){return this._length}set length(e){this._length=xr(e),this._changeDetectorRef.markForCheck()}get pageSize(){return this._pageSize}set pageSize(e){this._pageSize=Math.max(xr(e),0),this._updateDisplayedPageSizeOptions()}get pageSizeOptions(){return this._pageSizeOptions}set pageSizeOptions(e){this._pageSizeOptions=(e||[]).map(i=>xr(i)),this._updateDisplayedPageSizeOptions()}get hidePageSize(){return this._hidePageSize}set hidePageSize(e){this._hidePageSize=Mt(e)}get showFirstLastButtons(){return this._showFirstLastButtons}set showFirstLastButtons(e){this._showFirstLastButtons=Mt(e)}ngOnInit(){this._initialized=!0,this._updateDisplayedPageSizeOptions(),this._markInitialized()}ngOnDestroy(){this._intlChanges.unsubscribe()}nextPage(){if(!this.hasNextPage())return;const e=this.pageIndex;this.pageIndex=this.pageIndex+1,this._emitPageEvent(e)}previousPage(){if(!this.hasPreviousPage())return;const e=this.pageIndex;this.pageIndex=this.pageIndex-1,this._emitPageEvent(e)}firstPage(){if(!this.hasPreviousPage())return;const e=this.pageIndex;this.pageIndex=0,this._emitPageEvent(e)}lastPage(){if(!this.hasNextPage())return;const e=this.pageIndex;this.pageIndex=this.getNumberOfPages()-1,this._emitPageEvent(e)}hasPreviousPage(){return this.pageIndex>=1&&0!=this.pageSize}hasNextPage(){const e=this.getNumberOfPages()-1;return this.pageIndex<e&&0!=this.pageSize}getNumberOfPages(){return this.pageSize?Math.ceil(this.length/this.pageSize):0}_changePageSize(e){const r=this.pageIndex;this.pageIndex=Math.floor(this.pageIndex*this.pageSize/e)||0,this.pageSize=e,this._emitPageEvent(r)}_nextButtonsDisabled(){return this.disabled||!this.hasNextPage()}_previousButtonsDisabled(){return this.disabled||!this.hasPreviousPage()}_updateDisplayedPageSizeOptions(){!this._initialized||(this.pageSize||(this._pageSize=0!=this.pageSizeOptions.length?this.pageSizeOptions[0]:50),this._displayedPageSizeOptions=this.pageSizeOptions.slice(),-1===this._displayedPageSizeOptions.indexOf(this.pageSize)&&this._displayedPageSizeOptions.push(this.pageSize),this._displayedPageSizeOptions.sort((e,i)=>e-i),this._changeDetectorRef.markForCheck())}_emitPageEvent(e){this.page.emit({previousPageIndex:e,pageIndex:this.pageIndex,pageSize:this.pageSize,length:this.length})}}return n.\u0275fac=function(e){s.$Z()},n.\u0275dir=s.lG2({type:n,inputs:{color:"color",pageIndex:"pageIndex",length:"length",pageSize:"pageSize",pageSizeOptions:"pageSizeOptions",hidePageSize:"hidePageSize",showFirstLastButtons:"showFirstLastButtons"},outputs:{page:"page"},features:[s.qOj]}),n})(),bd=(()=>{class n extends r4{constructor(e,i,r){super(e,i,r),r&&null!=r.formFieldAppearance&&(this._formFieldAppearance=r.formFieldAppearance)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(uI),s.Y36(s.sBO),s.Y36(t4,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-paginator"]],hostAttrs:["role","group",1,"mat-paginator"],inputs:{disabled:"disabled"},exportAs:["matPaginator"],features:[s.qOj],decls:14,vars:14,consts:[[1,"mat-paginator-outer-container"],[1,"mat-paginator-container"],["class","mat-paginator-page-size",4,"ngIf"],[1,"mat-paginator-range-actions"],[1,"mat-paginator-range-label"],["mat-icon-button","","type","button","class","mat-paginator-navigation-first",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click",4,"ngIf"],["mat-icon-button","","type","button",1,"mat-paginator-navigation-previous",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["viewBox","0 0 24 24","focusable","false",1,"mat-paginator-icon"],["d","M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"],["mat-icon-button","","type","button",1,"mat-paginator-navigation-next",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"],["mat-icon-button","","type","button","class","mat-paginator-navigation-last",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click",4,"ngIf"],[1,"mat-paginator-page-size"],[1,"mat-paginator-page-size-label"],["class","mat-paginator-page-size-select",3,"appearance","color",4,"ngIf"],["class","mat-paginator-page-size-value",4,"ngIf"],[1,"mat-paginator-page-size-select",3,"appearance","color"],[3,"value","disabled","aria-label","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"mat-paginator-page-size-value"],["mat-icon-button","","type","button",1,"mat-paginator-navigation-first",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"],["mat-icon-button","","type","button",1,"mat-paginator-navigation-last",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0)(1,"div",1),s.YNc(2,WZ,5,3,"div",2),s.TgZ(3,"div",3)(4,"div",4),s._uU(5),s.qZA(),s.YNc(6,KZ,3,5,"button",5),s.TgZ(7,"button",6),s.NdJ("click",function(){return i.previousPage()}),s.O4$(),s.TgZ(8,"svg",7),s._UZ(9,"path",8),s.qZA()(),s.kcU(),s.TgZ(10,"button",9),s.NdJ("click",function(){return i.nextPage()}),s.O4$(),s.TgZ(11,"svg",7),s._UZ(12,"path",10),s.qZA()(),s.YNc(13,QZ,3,5,"button",11),s.qZA()()()),2&e&&(s.xp6(2),s.Q6J("ngIf",!i.hidePageSize),s.xp6(3),s.hij(" ",i._intl.getRangeLabel(i.pageIndex,i.pageSize,i.length)," "),s.xp6(1),s.Q6J("ngIf",i.showFirstLastButtons),s.xp6(1),s.Q6J("matTooltip",i._intl.previousPageLabel)("matTooltipDisabled",i._previousButtonsDisabled())("matTooltipPosition","above")("disabled",i._previousButtonsDisabled()),s.uIk("aria-label",i._intl.previousPageLabel),s.xp6(3),s.Q6J("matTooltip",i._intl.nextPageLabel)("matTooltipDisabled",i._nextButtonsDisabled())("matTooltipPosition","above")("disabled",i._nextButtonsDisabled()),s.uIk("aria-label",i._intl.nextPageLabel),s.xp6(3),s.Q6J("ngIf",i.showFirstLastButtons))},dependencies:[vd,g1,t_,Ls,sn,Vr,jZ],styles:[".mat-paginator{display:block}.mat-paginator-outer-container{display:flex}.mat-paginator-container{display:flex;align-items:center;justify-content:flex-end;padding:0 8px;flex-wrap:wrap-reverse;width:100%}.mat-paginator-page-size{display:flex;align-items:baseline;margin-right:8px}[dir=rtl] .mat-paginator-page-size{margin-right:0;margin-left:8px}.mat-paginator-page-size-label{margin:0 4px}.mat-paginator-page-size-select{margin:6px 4px 0 4px;width:56px}.mat-paginator-page-size-select.mat-form-field-appearance-outline{width:64px}.mat-paginator-page-size-select.mat-form-field-appearance-fill{width:64px}.mat-paginator-range-label{margin:0 32px 0 24px}.mat-paginator-range-actions{display:flex;align-items:center}.mat-paginator-icon{width:28px;fill:currentColor}[dir=rtl] .mat-paginator-icon{transform:rotate(180deg)}.cdk-high-contrast-active .mat-paginator-icon{fill:CanvasText}\n"],encapsulation:2,changeDetection:0}),n})(),KB=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[XZ],imports:[[Li,n0,_1,$Z,Wt]]}),n})();const s4=new s.OlP("MAT_SORT_DEFAULT_OPTIONS"),o4=Tt(Fc(class{}));let u0=(()=>{class n extends o4{constructor(e){super(),this._defaultOptions=e,this.sortables=new Map,this._stateChanges=new Ze.x,this.start="asc",this._direction="",this.sortChange=new s.vpe}get direction(){return this._direction}set direction(e){this._direction=e}get disableClear(){return this._disableClear}set disableClear(e){this._disableClear=Mt(e)}register(e){this.sortables.set(e.id,e)}deregister(e){this.sortables.delete(e.id)}sort(e){this.active!=e.id?(this.active=e.id,this.direction=e.start?e.start:this.start):this.direction=this.getNextSortDirection(e),this.sortChange.emit({active:this.active,direction:this.direction})}getNextSortDirection(e){if(!e)return"";let r=function a4(n,t){let e=["asc","desc"];return"desc"==n&&e.reverse(),t||e.push(""),e}(e.start||this.start,e?.disableClear??this.disableClear??!!this._defaultOptions?.disableClear),o=r.indexOf(this.direction)+1;return o>=r.length&&(o=0),r[o]}ngOnInit(){this._markInitialized()}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s4,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","matSort",""]],hostAttrs:[1,"mat-sort"],inputs:{disabled:["matSortDisabled","disabled"],active:["matSortActive","active"],start:["matSortStart","start"],direction:["matSortDirection","direction"],disableClear:["matSortDisableClear","disableClear"]},outputs:{sortChange:"matSortChange"},exportAs:["matSort"],features:[s.qOj,s.TTD]}),n})();const u4=[[["caption"]],[["colgroup"],["col"]]],d4=["caption","colgroup, col"];function x1(n){return class extends n{constructor(...t){super(...t),this._sticky=!1,this._hasStickyChanged=!1}get sticky(){return this._sticky}set sticky(t){const e=this._sticky;this._sticky=Mt(t),this._hasStickyChanged=e!==this._sticky}hasStickyChanged(){const t=this._hasStickyChanged;return this._hasStickyChanged=!1,t}resetStickyChanged(){this._hasStickyChanged=!1}}}const by=new s.OlP("CDK_TABLE");let wy=(()=>{class n{constructor(e){this.template=e}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Rgc))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkCellDef",""]]}),n})(),Cy=(()=>{class n{constructor(e){this.template=e}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Rgc))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkHeaderCellDef",""]]}),n})(),dI=(()=>{class n{constructor(e){this.template=e}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Rgc))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkFooterCellDef",""]]}),n})();class m4{}const g4=x1(m4);let wd=(()=>{class n extends g4{constructor(e){super(),this._table=e,this._stickyEnd=!1}get name(){return this._name}set name(e){this._setNameInput(e)}get stickyEnd(){return this._stickyEnd}set stickyEnd(e){const i=this._stickyEnd;this._stickyEnd=Mt(e),this._hasStickyChanged=i!==this._stickyEnd}_updateColumnCssClassName(){this._columnCssClassName=[`cdk-column-${this.cssClassFriendlyName}`]}_setNameInput(e){e&&(this._name=e,this.cssClassFriendlyName=e.replace(/[^a-z0-9_-]/gi,"-"),this._updateColumnCssClassName())}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(by,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkColumnDef",""]],contentQueries:function(e,i,r){if(1&e&&(s.Suo(r,wy,5),s.Suo(r,Cy,5),s.Suo(r,dI,5)),2&e){let o;s.iGM(o=s.CRH())&&(i.cell=o.first),s.iGM(o=s.CRH())&&(i.headerCell=o.first),s.iGM(o=s.CRH())&&(i.footerCell=o.first)}},inputs:{sticky:"sticky",name:["cdkColumnDef","name"],stickyEnd:"stickyEnd"},features:[s._Bn([{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:n}]),s.qOj]}),n})();class k1{constructor(t,e){e.nativeElement.classList.add(...t._columnCssClassName)}}let R1=(()=>{class n extends k1{constructor(e,i){super(e,i)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(wd),s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n,selectors:[["cdk-header-cell"],["th","cdk-header-cell",""]],hostAttrs:["role","columnheader",1,"cdk-header-cell"],features:[s.qOj]}),n})(),O1=(()=>{class n extends k1{constructor(e,i){if(super(e,i),1===e._table?._elementRef.nativeElement.nodeType){const r=e._table._elementRef.nativeElement.getAttribute("role");i.nativeElement.setAttribute("role","grid"===r||"treegrid"===r?"gridcell":"cell")}}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(wd),s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n,selectors:[["cdk-cell"],["td","cdk-cell",""]],hostAttrs:[1,"cdk-cell"],features:[s.qOj]}),n})();class JB{constructor(){this.tasks=[],this.endTasks=[]}}const P1=new s.OlP("_COALESCED_STYLE_SCHEDULER");let XB=(()=>{class n{constructor(e){this._ngZone=e,this._currentSchedule=null,this._destroyed=new Ze.x}schedule(e){this._createScheduleIfNeeded(),this._currentSchedule.tasks.push(e)}scheduleEnd(e){this._createScheduleIfNeeded(),this._currentSchedule.endTasks.push(e)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_createScheduleIfNeeded(){this._currentSchedule||(this._currentSchedule=new JB,this._getScheduleObservable().pipe(Vt(this._destroyed)).subscribe(()=>{for(;this._currentSchedule.tasks.length||this._currentSchedule.endTasks.length;){const e=this._currentSchedule;this._currentSchedule=new JB;for(const i of e.tasks)i();for(const i of e.endTasks)i()}this._currentSchedule=null}))}_getScheduleObservable(){return this._ngZone.isStable?(0,_n.D)(Promise.resolve(void 0)):this._ngZone.onStable.pipe(Et(1))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.R0b))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),F1=(()=>{class n{constructor(e,i){this.template=e,this._differs=i}ngOnChanges(e){if(!this._columnsDiffer){const i=e.columns&&e.columns.currentValue||[];this._columnsDiffer=this._differs.find(i).create(),this._columnsDiffer.diff(i)}}getColumnsDiff(){return this._columnsDiffer.diff(this.columns)}extractCellTemplate(e){return this instanceof d0?e.headerCell.template:this instanceof h0?e.footerCell.template:e.cell.template}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Rgc),s.Y36(s.ZZ4))},n.\u0275dir=s.lG2({type:n,features:[s.TTD]}),n})();class _4 extends F1{}const y4=x1(_4);let d0=(()=>{class n extends y4{constructor(e,i,r){super(e,i),this._table=r}ngOnChanges(e){super.ngOnChanges(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Rgc),s.Y36(s.ZZ4),s.Y36(by,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkHeaderRowDef",""]],inputs:{columns:["cdkHeaderRowDef","columns"],sticky:["cdkHeaderRowDefSticky","sticky"]},features:[s.qOj,s.TTD]}),n})();class v4 extends F1{}const b4=x1(v4);let h0=(()=>{class n extends b4{constructor(e,i,r){super(e,i),this._table=r}ngOnChanges(e){super.ngOnChanges(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Rgc),s.Y36(s.ZZ4),s.Y36(by,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkFooterRowDef",""]],inputs:{columns:["cdkFooterRowDef","columns"],sticky:["cdkFooterRowDefSticky","sticky"]},features:[s.qOj,s.TTD]}),n})(),hI=(()=>{class n extends F1{constructor(e,i,r){super(e,i),this._table=r}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Rgc),s.Y36(s.ZZ4),s.Y36(by,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkRowDef",""]],inputs:{columns:["cdkRowDefColumns","columns"],when:["cdkRowDefWhen","when"]},features:[s.qOj]}),n})(),Cd=(()=>{class n{constructor(e){this._viewContainer=e,n.mostRecentCellOutlet=this}ngOnDestroy(){n.mostRecentCellOutlet===this&&(n.mostRecentCellOutlet=null)}}return n.mostRecentCellOutlet=null,n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkCellOutlet",""]]}),n})(),N1=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["cdk-header-row"],["tr","cdk-header-row",""]],hostAttrs:["role","row",1,"cdk-header-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,i){1&e&&s.GkF(0,0)},dependencies:[Cd],encapsulation:2}),n})(),V1=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["cdk-row"],["tr","cdk-row",""]],hostAttrs:["role","row",1,"cdk-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,i){1&e&&s.GkF(0,0)},dependencies:[Cd],encapsulation:2}),n})(),fI=(()=>{class n{constructor(e){this.templateRef=e,this._contentClassName="cdk-no-data-row"}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Rgc))},n.\u0275dir=s.lG2({type:n,selectors:[["ng-template","cdkNoDataRow",""]]}),n})();const eU=["top","bottom","left","right"];class w4{constructor(t,e,i,r,o=!0,u=!0,h){this._isNativeHtmlTable=t,this._stickCellCss=e,this.direction=i,this._coalescedStyleScheduler=r,this._isBrowser=o,this._needsPositionStickyOnElement=u,this._positionListener=h,this._cachedCellWidths=[],this._borderCellCss={top:`${e}-border-elem-top`,bottom:`${e}-border-elem-bottom`,left:`${e}-border-elem-left`,right:`${e}-border-elem-right`}}clearStickyPositioning(t,e){const i=[];for(const r of t)if(r.nodeType===r.ELEMENT_NODE){i.push(r);for(let o=0;o<r.children.length;o++)i.push(r.children[o])}this._coalescedStyleScheduler.schedule(()=>{for(const r of i)this._removeStickyStyle(r,e)})}updateStickyColumns(t,e,i,r=!0){if(!t.length||!this._isBrowser||!e.some(O=>O)&&!i.some(O=>O))return void(this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:[]}),this._positionListener.stickyEndColumnsUpdated({sizes:[]})));const o=t[0],u=o.children.length,h=this._getCellWidths(o,r),_=this._getStickyStartColumnPositions(h,e),b=this._getStickyEndColumnPositions(h,i),D=e.lastIndexOf(!0),M=i.indexOf(!0);this._coalescedStyleScheduler.schedule(()=>{const O="rtl"===this.direction,B=O?"right":"left",$=O?"left":"right";for(const ne of t)for(let ce=0;ce<u;ce++){const We=ne.children[ce];e[ce]&&this._addStickyStyle(We,B,_[ce],ce===D),i[ce]&&this._addStickyStyle(We,$,b[ce],ce===M)}this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:-1===D?[]:h.slice(0,D+1).map((ne,ce)=>e[ce]?ne:null)}),this._positionListener.stickyEndColumnsUpdated({sizes:-1===M?[]:h.slice(M).map((ne,ce)=>i[ce+M]?ne:null).reverse()}))})}stickRows(t,e,i){if(!this._isBrowser)return;const r="bottom"===i?t.slice().reverse():t,o="bottom"===i?e.slice().reverse():e,u=[],h=[],_=[];for(let D=0,M=0;D<r.length;D++){if(!o[D])continue;u[D]=M;const O=r[D];_[D]=this._isNativeHtmlTable?Array.from(O.children):[O];const B=O.getBoundingClientRect().height;M+=B,h[D]=B}const b=o.lastIndexOf(!0);this._coalescedStyleScheduler.schedule(()=>{for(let D=0;D<r.length;D++){if(!o[D])continue;const M=u[D],O=D===b;for(const B of _[D])this._addStickyStyle(B,i,M,O)}"top"===i?this._positionListener?.stickyHeaderRowsUpdated({sizes:h,offsets:u,elements:_}):this._positionListener?.stickyFooterRowsUpdated({sizes:h,offsets:u,elements:_})})}updateStickyFooterContainer(t,e){if(!this._isNativeHtmlTable)return;const i=t.querySelector("tfoot");this._coalescedStyleScheduler.schedule(()=>{e.some(r=>!r)?this._removeStickyStyle(i,["bottom"]):this._addStickyStyle(i,"bottom",0,!1)})}_removeStickyStyle(t,e){for(const r of e)t.style[r]="",t.classList.remove(this._borderCellCss[r]);eU.some(r=>-1===e.indexOf(r)&&t.style[r])?t.style.zIndex=this._getCalculatedZIndex(t):(t.style.zIndex="",this._needsPositionStickyOnElement&&(t.style.position=""),t.classList.remove(this._stickCellCss))}_addStickyStyle(t,e,i,r){t.classList.add(this._stickCellCss),r&&t.classList.add(this._borderCellCss[e]),t.style[e]=`${i}px`,t.style.zIndex=this._getCalculatedZIndex(t),this._needsPositionStickyOnElement&&(t.style.cssText+="position: -webkit-sticky; position: sticky; ")}_getCalculatedZIndex(t){const e={top:100,bottom:10,left:1,right:1};let i=0;for(const r of eU)t.style[r]&&(i+=e[r]);return i?`${i}`:""}_getCellWidths(t,e=!0){if(!e&&this._cachedCellWidths.length)return this._cachedCellWidths;const i=[],r=t.children;for(let o=0;o<r.length;o++)i.push(r[o].getBoundingClientRect().width);return this._cachedCellWidths=i,i}_getStickyStartColumnPositions(t,e){const i=[];let r=0;for(let o=0;o<t.length;o++)e[o]&&(i[o]=r,r+=t[o]);return i}_getStickyEndColumnPositions(t,e){const i=[];let r=0;for(let o=t.length;o>0;o--)e[o]&&(i[o]=r,r+=t[o]);return i}}const B1=new s.OlP("CDK_SPL");let pI=(()=>{class n{constructor(e,i){this.viewContainer=e,this.elementRef=i}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b),s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n,selectors:[["","rowOutlet",""]]}),n})(),mI=(()=>{class n{constructor(e,i){this.viewContainer=e,this.elementRef=i}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b),s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n,selectors:[["","headerRowOutlet",""]]}),n})(),gI=(()=>{class n{constructor(e,i){this.viewContainer=e,this.elementRef=i}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b),s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n,selectors:[["","footerRowOutlet",""]]}),n})(),_I=(()=>{class n{constructor(e,i){this.viewContainer=e,this.elementRef=i}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b),s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n,selectors:[["","noDataRowOutlet",""]]}),n})(),yI=(()=>{class n{constructor(e,i,r,o,u,h,_,b,D,M,O,B){this._differs=e,this._changeDetectorRef=i,this._elementRef=r,this._dir=u,this._platform=_,this._viewRepeater=b,this._coalescedStyleScheduler=D,this._viewportRuler=M,this._stickyPositioningListener=O,this._ngZone=B,this._onDestroy=new Ze.x,this._columnDefsByName=new Map,this._customColumnDefs=new Set,this._customRowDefs=new Set,this._customHeaderRowDefs=new Set,this._customFooterRowDefs=new Set,this._headerRowDefChanged=!0,this._footerRowDefChanged=!0,this._stickyColumnStylesNeedReset=!0,this._forceRecalculateCellWidths=!0,this._cachedRenderRowsMap=new Map,this.stickyCssClass="cdk-table-sticky",this.needsPositionStickyOnElement=!0,this._isShowingNoDataRow=!1,this._multiTemplateDataRows=!1,this._fixedLayout=!1,this.contentChanged=new s.vpe,this.viewChange=new yn({start:0,end:Number.MAX_VALUE}),o||this._elementRef.nativeElement.setAttribute("role","table"),this._document=h,this._isNativeHtmlTable="TABLE"===this._elementRef.nativeElement.nodeName}get trackBy(){return this._trackByFn}set trackBy(e){this._trackByFn=e}get dataSource(){return this._dataSource}set dataSource(e){this._dataSource!==e&&this._switchDataSource(e)}get multiTemplateDataRows(){return this._multiTemplateDataRows}set multiTemplateDataRows(e){this._multiTemplateDataRows=Mt(e),this._rowOutlet&&this._rowOutlet.viewContainer.length&&(this._forceRenderDataRows(),this.updateStickyColumnStyles())}get fixedLayout(){return this._fixedLayout}set fixedLayout(e){this._fixedLayout=Mt(e),this._forceRecalculateCellWidths=!0,this._stickyColumnStylesNeedReset=!0}ngOnInit(){this._setupStickyStyler(),this._isNativeHtmlTable&&this._applyNativeTableSections(),this._dataDiffer=this._differs.find([]).create((e,i)=>this.trackBy?this.trackBy(i.dataIndex,i.data):i),this._viewportRuler.change().pipe(Vt(this._onDestroy)).subscribe(()=>{this._forceRecalculateCellWidths=!0})}ngAfterContentChecked(){this._cacheRowDefs(),this._cacheColumnDefs();const i=this._renderUpdatedColumns()||this._headerRowDefChanged||this._footerRowDefChanged;this._stickyColumnStylesNeedReset=this._stickyColumnStylesNeedReset||i,this._forceRecalculateCellWidths=i,this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription?this._observeRenderChanges():this._stickyColumnStylesNeedReset&&this.updateStickyColumnStyles(),this._checkStickyStates()}ngOnDestroy(){[this._rowOutlet.viewContainer,this._headerRowOutlet.viewContainer,this._footerRowOutlet.viewContainer,this._cachedRenderRowsMap,this._customColumnDefs,this._customRowDefs,this._customHeaderRowDefs,this._customFooterRowDefs,this._columnDefsByName].forEach(e=>{e.clear()}),this._headerRowDefs=[],this._footerRowDefs=[],this._defaultRowDef=null,this._onDestroy.next(),this._onDestroy.complete(),p1(this.dataSource)&&this.dataSource.disconnect(this)}renderRows(){this._renderRows=this._getAllRenderRows();const e=this._dataDiffer.diff(this._renderRows);if(!e)return this._updateNoDataRow(),void this.contentChanged.next();const i=this._rowOutlet.viewContainer;this._viewRepeater.applyChanges(e,i,(r,o,u)=>this._getEmbeddedViewArgs(r.item,u),r=>r.item.data,r=>{1===r.operation&&r.context&&this._renderCellTemplateForItem(r.record.item.rowDef,r.context)}),this._updateRowIndexContext(),e.forEachIdentityChange(r=>{i.get(r.currentIndex).context.$implicit=r.item.data}),this._updateNoDataRow(),this._ngZone&&s.R0b.isInAngularZone()?this._ngZone.onStable.pipe(Et(1),Vt(this._onDestroy)).subscribe(()=>{this.updateStickyColumnStyles()}):this.updateStickyColumnStyles(),this.contentChanged.next()}addColumnDef(e){this._customColumnDefs.add(e)}removeColumnDef(e){this._customColumnDefs.delete(e)}addRowDef(e){this._customRowDefs.add(e)}removeRowDef(e){this._customRowDefs.delete(e)}addHeaderRowDef(e){this._customHeaderRowDefs.add(e),this._headerRowDefChanged=!0}removeHeaderRowDef(e){this._customHeaderRowDefs.delete(e),this._headerRowDefChanged=!0}addFooterRowDef(e){this._customFooterRowDefs.add(e),this._footerRowDefChanged=!0}removeFooterRowDef(e){this._customFooterRowDefs.delete(e),this._footerRowDefChanged=!0}setNoDataRow(e){this._customNoDataRow=e}updateStickyHeaderRowStyles(){const e=this._getRenderedRows(this._headerRowOutlet),r=this._elementRef.nativeElement.querySelector("thead");r&&(r.style.display=e.length?"":"none");const o=this._headerRowDefs.map(u=>u.sticky);this._stickyStyler.clearStickyPositioning(e,["top"]),this._stickyStyler.stickRows(e,o,"top"),this._headerRowDefs.forEach(u=>u.resetStickyChanged())}updateStickyFooterRowStyles(){const e=this._getRenderedRows(this._footerRowOutlet),r=this._elementRef.nativeElement.querySelector("tfoot");r&&(r.style.display=e.length?"":"none");const o=this._footerRowDefs.map(u=>u.sticky);this._stickyStyler.clearStickyPositioning(e,["bottom"]),this._stickyStyler.stickRows(e,o,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,o),this._footerRowDefs.forEach(u=>u.resetStickyChanged())}updateStickyColumnStyles(){const e=this._getRenderedRows(this._headerRowOutlet),i=this._getRenderedRows(this._rowOutlet),r=this._getRenderedRows(this._footerRowOutlet);(this._isNativeHtmlTable&&!this._fixedLayout||this._stickyColumnStylesNeedReset)&&(this._stickyStyler.clearStickyPositioning([...e,...i,...r],["left","right"]),this._stickyColumnStylesNeedReset=!1),e.forEach((o,u)=>{this._addStickyColumnStyles([o],this._headerRowDefs[u])}),this._rowDefs.forEach(o=>{const u=[];for(let h=0;h<i.length;h++)this._renderRows[h].rowDef===o&&u.push(i[h]);this._addStickyColumnStyles(u,o)}),r.forEach((o,u)=>{this._addStickyColumnStyles([o],this._footerRowDefs[u])}),Array.from(this._columnDefsByName.values()).forEach(o=>o.resetStickyChanged())}_getAllRenderRows(){const e=[],i=this._cachedRenderRowsMap;this._cachedRenderRowsMap=new Map;for(let r=0;r<this._data.length;r++){let o=this._data[r];const u=this._getRenderRowsForData(o,r,i.get(o));this._cachedRenderRowsMap.has(o)||this._cachedRenderRowsMap.set(o,new WeakMap);for(let h=0;h<u.length;h++){let _=u[h];const b=this._cachedRenderRowsMap.get(_.data);b.has(_.rowDef)?b.get(_.rowDef).push(_):b.set(_.rowDef,[_]),e.push(_)}}return e}_getRenderRowsForData(e,i,r){return this._getRowDefs(e,i).map(u=>{const h=r&&r.has(u)?r.get(u):[];if(h.length){const _=h.shift();return _.dataIndex=i,_}return{data:e,rowDef:u,dataIndex:i}})}_cacheColumnDefs(){this._columnDefsByName.clear(),vI(this._getOwnDefs(this._contentColumnDefs),this._customColumnDefs).forEach(i=>{this._columnDefsByName.has(i.name),this._columnDefsByName.set(i.name,i)})}_cacheRowDefs(){this._headerRowDefs=vI(this._getOwnDefs(this._contentHeaderRowDefs),this._customHeaderRowDefs),this._footerRowDefs=vI(this._getOwnDefs(this._contentFooterRowDefs),this._customFooterRowDefs),this._rowDefs=vI(this._getOwnDefs(this._contentRowDefs),this._customRowDefs);const e=this._rowDefs.filter(i=>!i.when);this._defaultRowDef=e[0]}_renderUpdatedColumns(){const e=(u,h)=>u||!!h.getColumnsDiff(),i=this._rowDefs.reduce(e,!1);i&&this._forceRenderDataRows();const r=this._headerRowDefs.reduce(e,!1);r&&this._forceRenderHeaderRows();const o=this._footerRowDefs.reduce(e,!1);return o&&this._forceRenderFooterRows(),i||r||o}_switchDataSource(e){this._data=[],p1(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),e||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear()),this._dataSource=e}_observeRenderChanges(){if(!this.dataSource)return;let e;p1(this.dataSource)?e=this.dataSource.connect(this):function c4(n){return!!n&&(n instanceof jn.y||(0,Bi.m)(n.lift)&&(0,Bi.m)(n.subscribe))}(this.dataSource)?e=this.dataSource:Array.isArray(this.dataSource)&&(e=qe(this.dataSource)),this._renderChangeSubscription=e.pipe(Vt(this._onDestroy)).subscribe(i=>{this._data=i||[],this.renderRows()})}_forceRenderHeaderRows(){this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach((e,i)=>this._renderRow(this._headerRowOutlet,e,i)),this.updateStickyHeaderRowStyles()}_forceRenderFooterRows(){this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach((e,i)=>this._renderRow(this._footerRowOutlet,e,i)),this.updateStickyFooterRowStyles()}_addStickyColumnStyles(e,i){const r=Array.from(i.columns||[]).map(h=>this._columnDefsByName.get(h)),o=r.map(h=>h.sticky),u=r.map(h=>h.stickyEnd);this._stickyStyler.updateStickyColumns(e,o,u,!this._fixedLayout||this._forceRecalculateCellWidths)}_getRenderedRows(e){const i=[];for(let r=0;r<e.viewContainer.length;r++){const o=e.viewContainer.get(r);i.push(o.rootNodes[0])}return i}_getRowDefs(e,i){if(1==this._rowDefs.length)return[this._rowDefs[0]];let r=[];if(this.multiTemplateDataRows)r=this._rowDefs.filter(o=>!o.when||o.when(i,e));else{let o=this._rowDefs.find(u=>u.when&&u.when(i,e))||this._defaultRowDef;o&&r.push(o)}return r}_getEmbeddedViewArgs(e,i){return{templateRef:e.rowDef.template,context:{$implicit:e.data},index:i}}_renderRow(e,i,r,o={}){const u=e.viewContainer.createEmbeddedView(i.template,o,r);return this._renderCellTemplateForItem(i,o),u}_renderCellTemplateForItem(e,i){for(let r of this._getCellTemplates(e))Cd.mostRecentCellOutlet&&Cd.mostRecentCellOutlet._viewContainer.createEmbeddedView(r,i);this._changeDetectorRef.markForCheck()}_updateRowIndexContext(){const e=this._rowOutlet.viewContainer;for(let i=0,r=e.length;i<r;i++){const u=e.get(i).context;u.count=r,u.first=0===i,u.last=i===r-1,u.even=i%2==0,u.odd=!u.even,this.multiTemplateDataRows?(u.dataIndex=this._renderRows[i].dataIndex,u.renderIndex=i):u.index=this._renderRows[i].dataIndex}}_getCellTemplates(e){return e&&e.columns?Array.from(e.columns,i=>{const r=this._columnDefsByName.get(i);return e.extractCellTemplate(r)}):[]}_applyNativeTableSections(){const e=this._document.createDocumentFragment(),i=[{tag:"thead",outlets:[this._headerRowOutlet]},{tag:"tbody",outlets:[this._rowOutlet,this._noDataRowOutlet]},{tag:"tfoot",outlets:[this._footerRowOutlet]}];for(const r of i){const o=this._document.createElement(r.tag);o.setAttribute("role","rowgroup");for(const u of r.outlets)o.appendChild(u.elementRef.nativeElement);e.appendChild(o)}this._elementRef.nativeElement.appendChild(e)}_forceRenderDataRows(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows()}_checkStickyStates(){const e=(i,r)=>i||r.hasStickyChanged();this._headerRowDefs.reduce(e,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(e,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(e,!1)&&(this._stickyColumnStylesNeedReset=!0,this.updateStickyColumnStyles())}_setupStickyStyler(){this._stickyStyler=new w4(this._isNativeHtmlTable,this.stickyCssClass,this._dir?this._dir.value:"ltr",this._coalescedStyleScheduler,this._platform.isBrowser,this.needsPositionStickyOnElement,this._stickyPositioningListener),(this._dir?this._dir.change:qe()).pipe(Vt(this._onDestroy)).subscribe(i=>{this._stickyStyler.direction=i,this.updateStickyColumnStyles()})}_getOwnDefs(e){return e.filter(i=>!i._table||i._table===this)}_updateNoDataRow(){const e=this._customNoDataRow||this._noDataRow;if(!e)return;const i=0===this._rowOutlet.viewContainer.length;if(i===this._isShowingNoDataRow)return;const r=this._noDataRowOutlet.viewContainer;if(i){const o=r.createEmbeddedView(e.templateRef),u=o.rootNodes[0];1===o.rootNodes.length&&u?.nodeType===this._document.ELEMENT_NODE&&(u.setAttribute("role","row"),u.classList.add(e._contentClassName))}else r.clear();this._isShowingNoDataRow=i}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.ZZ4),s.Y36(s.sBO),s.Y36(s.SBq),s.$8M("role"),s.Y36(qr,8),s.Y36(te),s.Y36(En),s.Y36(s0),s.Y36(P1),s.Y36(Lg),s.Y36(B1,12),s.Y36(s.R0b,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["cdk-table"],["table","cdk-table",""]],contentQueries:function(e,i,r){if(1&e&&(s.Suo(r,fI,5),s.Suo(r,wd,5),s.Suo(r,hI,5),s.Suo(r,d0,5),s.Suo(r,h0,5)),2&e){let o;s.iGM(o=s.CRH())&&(i._noDataRow=o.first),s.iGM(o=s.CRH())&&(i._contentColumnDefs=o),s.iGM(o=s.CRH())&&(i._contentRowDefs=o),s.iGM(o=s.CRH())&&(i._contentHeaderRowDefs=o),s.iGM(o=s.CRH())&&(i._contentFooterRowDefs=o)}},viewQuery:function(e,i){if(1&e&&(s.Gf(pI,7),s.Gf(mI,7),s.Gf(gI,7),s.Gf(_I,7)),2&e){let r;s.iGM(r=s.CRH())&&(i._rowOutlet=r.first),s.iGM(r=s.CRH())&&(i._headerRowOutlet=r.first),s.iGM(r=s.CRH())&&(i._footerRowOutlet=r.first),s.iGM(r=s.CRH())&&(i._noDataRowOutlet=r.first)}},hostAttrs:[1,"cdk-table"],hostVars:2,hostBindings:function(e,i){2&e&&s.ekj("cdk-table-fixed-layout",i.fixedLayout)},inputs:{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:"multiTemplateDataRows",fixedLayout:"fixedLayout"},outputs:{contentChanged:"contentChanged"},exportAs:["cdkTable"],features:[s._Bn([{provide:by,useExisting:n},{provide:s0,useClass:EB},{provide:P1,useClass:XB},{provide:B1,useValue:null}])],ngContentSelectors:d4,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(e,i){1&e&&(s.F$t(u4),s.Hsn(0),s.Hsn(1,1),s.GkF(2,0)(3,1)(4,2)(5,3))},dependencies:[mI,pI,_I,gI],styles:[".cdk-table-fixed-layout{table-layout:fixed}\n"],encapsulation:2}),n})();function vI(n,t){return n.concat(Array.from(t))}let D4=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[Vg]]}),n})();const E4=[[["caption"]],[["colgroup"],["col"]]],S4=["caption","colgroup, col"];let f0=(()=>{class n extends yI{constructor(){super(...arguments),this.stickyCssClass="mat-table-sticky",this.needsPositionStickyOnElement=!1}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-table"],["table","mat-table",""]],hostAttrs:[1,"mat-table"],hostVars:2,hostBindings:function(e,i){2&e&&s.ekj("mat-table-fixed-layout",i.fixedLayout)},exportAs:["matTable"],features:[s._Bn([{provide:s0,useClass:EB},{provide:yI,useExisting:n},{provide:by,useExisting:n},{provide:P1,useClass:XB},{provide:B1,useValue:null}]),s.qOj],ngContentSelectors:S4,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(e,i){1&e&&(s.F$t(E4),s.Hsn(0),s.Hsn(1,1),s.GkF(2,0)(3,1)(4,2)(5,3))},dependencies:[mI,pI,_I,gI],styles:["mat-table{display:block}mat-header-row{min-height:56px}mat-row,mat-footer-row{min-height:48px}mat-row,mat-header-row,mat-footer-row{display:flex;border-width:0;border-bottom-width:1px;border-style:solid;align-items:center;box-sizing:border-box}mat-cell:first-of-type,mat-header-cell:first-of-type,mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] mat-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}mat-cell:last-of-type,mat-header-cell:last-of-type,mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] mat-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}mat-cell,mat-header-cell,mat-footer-cell{flex:1;display:flex;align-items:center;overflow:hidden;word-wrap:break-word;min-height:inherit}table.mat-table{border-spacing:0}tr.mat-header-row{height:56px}tr.mat-row,tr.mat-footer-row{height:48px}th.mat-header-cell{text-align:left}[dir=rtl] th.mat-header-cell{text-align:right}th.mat-header-cell,td.mat-cell,td.mat-footer-cell{padding:0;border-bottom-width:1px;border-bottom-style:solid}th.mat-header-cell:first-of-type,td.mat-cell:first-of-type,td.mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] th.mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] td.mat-cell:first-of-type:not(:only-of-type),[dir=rtl] td.mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}th.mat-header-cell:last-of-type,td.mat-cell:last-of-type,td.mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] th.mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] td.mat-cell:last-of-type:not(:only-of-type),[dir=rtl] td.mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}.mat-table-sticky{position:sticky !important}.mat-table-fixed-layout{table-layout:fixed}\n"],encapsulation:2}),n})(),Dy=(()=>{class n extends wy{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["","matCellDef",""]],features:[s._Bn([{provide:wy,useExisting:n}]),s.qOj]}),n})(),Ey=(()=>{class n extends Cy{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["","matHeaderCellDef",""]],features:[s._Bn([{provide:Cy,useExisting:n}]),s.qOj]}),n})(),Sy=(()=>{class n extends wd{get name(){return this._name}set name(e){this._setNameInput(e)}_updateColumnCssClassName(){super._updateColumnCssClassName(),this._columnCssClassName.push(`mat-column-${this.cssClassFriendlyName}`)}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["","matColumnDef",""]],inputs:{sticky:"sticky",name:["matColumnDef","name"]},features:[s._Bn([{provide:wd,useExisting:n},{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:n}]),s.qOj]}),n})(),Iy=(()=>{class n extends R1{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["mat-header-cell"],["th","mat-header-cell",""]],hostAttrs:["role","columnheader",1,"mat-header-cell"],features:[s.qOj]}),n})(),My=(()=>{class n extends O1{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["mat-cell"],["td","mat-cell",""]],hostAttrs:["role","gridcell",1,"mat-cell"],features:[s.qOj]}),n})(),p0=(()=>{class n extends d0{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["","matHeaderRowDef",""]],inputs:{columns:["matHeaderRowDef","columns"],sticky:["matHeaderRowDefSticky","sticky"]},features:[s._Bn([{provide:d0,useExisting:n}]),s.qOj]}),n})(),m0=(()=>{class n extends hI{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["","matRowDef",""]],inputs:{columns:["matRowDefColumns","columns"],when:["matRowDefWhen","when"]},features:[s._Bn([{provide:hI,useExisting:n}]),s.qOj]}),n})(),g0=(()=>{class n extends N1{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-header-row"],["tr","mat-header-row",""]],hostAttrs:["role","row",1,"mat-header-row"],exportAs:["matHeaderRow"],features:[s._Bn([{provide:N1,useExisting:n}]),s.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,i){1&e&&s.GkF(0,0)},dependencies:[Cd],encapsulation:2}),n})(),_0=(()=>{class n extends V1{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-row"],["tr","mat-row",""]],hostAttrs:["role","row",1,"mat-row"],exportAs:["matRow"],features:[s._Bn([{provide:V1,useExisting:n}]),s.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,i){1&e&&s.GkF(0,0)},dependencies:[Cd],encapsulation:2}),n})(),y0=(()=>{class n extends fI{constructor(){super(...arguments),this._contentClassName="mat-no-data-row"}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["ng-template","matNoDataRow",""]],features:[s._Bn([{provide:fI,useExisting:n}]),s.qOj]}),n})(),nU=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[D4,Wt],Wt]}),n})();class bI extends class F4 extends class pq{}{constructor(t=[]){super(),this._renderData=new yn([]),this._filter=new yn(""),this._internalPageChanges=new Ze.x,this._renderChangesSubscription=null,this.sortingDataAccessor=(e,i)=>{const r=e[i];if(sC(r)){const o=Number(r);return o<9007199254740991?o:r}return r},this.sortData=(e,i)=>{const r=i.active,o=i.direction;return r&&""!=o?e.sort((u,h)=>{let _=this.sortingDataAccessor(u,r),b=this.sortingDataAccessor(h,r);const D=typeof _,M=typeof b;D!==M&&("number"===D&&(_+=""),"number"===M&&(b+=""));let O=0;return null!=_&&null!=b?_>b?O=1:_<b&&(O=-1):null!=_?O=1:null!=b&&(O=-1),O*("asc"==o?1:-1)}):e},this.filterPredicate=(e,i)=>{const r=Object.keys(e).reduce((u,h)=>u+e[h]+"\u25ec","").toLowerCase(),o=i.trim().toLowerCase();return-1!=r.indexOf(o)},this._data=new yn(t),this._updateChangeSubscription()}get data(){return this._data.value}set data(t){t=Array.isArray(t)?t:[],this._data.next(t),this._renderChangesSubscription||this._filterData(t)}get filter(){return this._filter.value}set filter(t){this._filter.next(t),this._renderChangesSubscription||this._filterData(this.data)}get sort(){return this._sort}set sort(t){this._sort=t,this._updateChangeSubscription()}get paginator(){return this._paginator}set paginator(t){this._paginator=t,this._updateChangeSubscription()}_updateChangeSubscription(){const t=this._sort?(0,dr.T)(this._sort.sortChange,this._sort.initialized):qe(null),e=this._paginator?(0,dr.T)(this._paginator.page,this._internalPageChanges,this._paginator.initialized):qe(null),r=as([this._data,this._filter]).pipe((0,Ge.U)(([h])=>this._filterData(h))),o=as([r,t]).pipe((0,Ge.U)(([h])=>this._orderData(h))),u=as([o,e]).pipe((0,Ge.U)(([h])=>this._pageData(h)));this._renderChangesSubscription?.unsubscribe(),this._renderChangesSubscription=u.subscribe(h=>this._renderData.next(h))}_filterData(t){return this.filteredData=null==this.filter||""===this.filter?t:t.filter(e=>this.filterPredicate(e,this.filter)),this.paginator&&this._updatePaginator(this.filteredData.length),this.filteredData}_orderData(t){return this.sort?this.sortData(t.slice(),this.sort):t}_pageData(t){if(!this.paginator)return t;const e=this.paginator.pageIndex*this.paginator.pageSize;return t.slice(e,e+this.paginator.pageSize)}_updatePaginator(t){Promise.resolve().then(()=>{const e=this.paginator;if(e&&(e.length=t,e.pageIndex>0)){const i=Math.ceil(e.length/e.pageSize)-1||0,r=Math.min(e.pageIndex,i);r!==e.pageIndex&&(e.pageIndex=r,this._internalPageChanges.next())}})}connect(){return this._renderChangesSubscription||this._updateChangeSubscription(),this._renderData}disconnect(){this._renderChangesSubscription?.unsubscribe(),this._renderChangesSubscription=null}}{}let iU=(()=>{class n{constructor(e,i){this.dialogRef=i,this.doctorName=e.doctorName}ngOnInit(){}close(){this.dialogRef.close()}delete(){this.dialogRef.close(!0)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(xp),s.Y36(nd))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-delete-doctor"]],decls:10,vars:2,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["mat-dialog-actions",""],["mat-raised-button","",3,"click"],["mat-raised-button","","color","primary",3,"click"]],template:function(e,i){1&e&&(s.TgZ(0,"h1",0),s._uU(1),s.qZA(),s.TgZ(2,"div",1)(3,"p"),s._uU(4),s.qZA()(),s.TgZ(5,"div",2)(6,"button",3),s.NdJ("click",function(){return i.close()}),s._uU(7,"No Thanks"),s.qZA(),s.TgZ(8,"button",4),s.NdJ("click",function(){return i.delete()}),s._uU(9,"Delete"),s.qZA()()),2&e&&(s.xp6(1),s.hij(" ",i.title,""),s.xp6(3),s.hij("Are you sure you want to delete ",i.doctorName," ? "))},dependencies:[Ls,s_,kp,Rp]}),n})();function N4(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",2)(1,"button",3),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.action())}),s._uU(2),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(2),s.Oqu(e.data.action)}}function L4(n,t){}const rU=new s.OlP("MatSnackBarData");class wI{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}const V4=Math.pow(2,31)-1;class U1{constructor(t,e){this._overlayRef=e,this._afterDismissed=new Ze.x,this._afterOpened=new Ze.x,this._onAction=new Ze.x,this._dismissedByAction=!1,this.containerInstance=t,t._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete(),this.dismiss()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(t){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(t,V4))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}}let B4=(()=>{class n{constructor(e,i){this.snackBarRef=e,this.data=i}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(U1),s.Y36(rU))},n.\u0275cmp=s.Xpm({type:n,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-simple-snackbar"],decls:3,vars:2,consts:[[1,"mat-simple-snack-bar-content"],["class","mat-simple-snackbar-action",4,"ngIf"],[1,"mat-simple-snackbar-action"],["mat-button","",3,"click"]],template:function(e,i){1&e&&(s.TgZ(0,"span",0),s._uU(1),s.qZA(),s.YNc(2,N4,3,1,"div",1)),2&e&&(s.xp6(1),s.Oqu(i.data.message),s.xp6(1),s.Q6J("ngIf",i.hasAction))},dependencies:[Ls,sn],styles:[".mat-simple-snackbar{display:flex;justify-content:space-between;align-items:center;line-height:20px;opacity:1}.mat-simple-snackbar-action{flex-shrink:0;margin:-8px -8px -8px 8px}.mat-simple-snackbar-action button{max-height:36px;min-width:0}[dir=rtl] .mat-simple-snackbar-action{margin-left:-8px;margin-right:8px}.mat-simple-snack-bar-content{overflow:hidden;text-overflow:ellipsis}\n"],encapsulation:2,changeDetection:0}),n})();const U4={snackBarState:pr("state",[Pn("void, hidden",Ct({transform:"scale(0.8)",opacity:0})),Pn("visible",Ct({transform:"scale(1)",opacity:1})),kn("* => visible",Vn("150ms cubic-bezier(0, 0, 0.2, 1)")),kn("* => void, * => hidden",Vn("75ms cubic-bezier(0.4, 0.0, 1, 1)",Ct({opacity:0})))])};let H4=(()=>{class n extends Bg{constructor(e,i,r,o,u){super(),this._ngZone=e,this._elementRef=i,this._changeDetectorRef=r,this._platform=o,this.snackBarConfig=u,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new Ze.x,this._onExit=new Ze.x,this._onEnter=new Ze.x,this._animationState="void",this.attachDomPortal=h=>(this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachDomPortal(h)),this._live="assertive"!==u.politeness||u.announcementMessage?"off"===u.politeness?"off":"polite":"assertive",this._platform.FIREFOX&&("polite"===this._live&&(this._role="status"),"assertive"===this._live&&(this._role="alert"))}attachComponentPortal(e){return this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachComponentPortal(e)}attachTemplatePortal(e){return this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachTemplatePortal(e)}onAnimationEnd(e){const{fromState:i,toState:r}=e;if(("void"===r&&"void"!==i||"hidden"===r)&&this._completeExit(),"visible"===r){const o=this._onEnter;this._ngZone.run(()=>{o.next(),o.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._ngZone.run(()=>{this._animationState="hidden",this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId)}),this._onExit}ngOnDestroy(){this._destroyed=!0,this._completeExit()}_completeExit(){this._ngZone.onMicrotaskEmpty.pipe(Et(1)).subscribe(()=>{this._ngZone.run(()=>{this._onExit.next(),this._onExit.complete()})})}_applySnackBarClasses(){const e=this._elementRef.nativeElement,i=this.snackBarConfig.panelClass;i&&(Array.isArray(i)?i.forEach(r=>e.classList.add(r)):e.classList.add(i)),"center"===this.snackBarConfig.horizontalPosition&&e.classList.add("mat-snack-bar-center"),"top"===this.snackBarConfig.verticalPosition&&e.classList.add("mat-snack-bar-top")}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{const e=this._elementRef.nativeElement.querySelector("[aria-hidden]"),i=this._elementRef.nativeElement.querySelector("[aria-live]");if(e&&i){let r=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&e.contains(document.activeElement)&&(r=document.activeElement),e.removeAttribute("aria-hidden"),i.appendChild(e),r?.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.R0b),s.Y36(s.SBq),s.Y36(s.sBO),s.Y36(En),s.Y36(wI))},n.\u0275cmp=s.Xpm({type:n,selectors:[["snack-bar-container"]],viewQuery:function(e,i){if(1&e&&s.Gf(_l,7),2&e){let r;s.iGM(r=s.CRH())&&(i._portalOutlet=r.first)}},hostAttrs:[1,"mat-snack-bar-container"],hostVars:1,hostBindings:function(e,i){1&e&&s.WFA("@state.done",function(o){return i.onAnimationEnd(o)}),2&e&&s.d8E("@state",i._animationState)},features:[s.qOj],decls:3,vars:2,consts:[["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(e,i){1&e&&(s.TgZ(0,"div",0),s.YNc(1,L4,0,0,"ng-template",1),s.qZA(),s._UZ(2,"div")),2&e&&(s.xp6(2),s.uIk("aria-live",i._live)("role",i._role))},dependencies:[_l],styles:[".mat-snack-bar-container{border-radius:4px;box-sizing:border-box;display:block;margin:24px;max-width:33vw;min-width:344px;padding:14px 16px;min-height:48px;transform-origin:center}.cdk-high-contrast-active .mat-snack-bar-container{border:solid 1px}.mat-snack-bar-handset{width:100%}.mat-snack-bar-handset .mat-snack-bar-container{margin:8px;max-width:100%;min-width:0;width:100%}\n"],encapsulation:2,data:{animation:[U4.snackBarState]}}),n})(),H1=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[Ch,cp,Li,n0,Wt],Wt]}),n})();const sU=new s.OlP("mat-snack-bar-default-options",{providedIn:"root",factory:function j4(){return new wI}});let G4=(()=>{class n{constructor(e,i,r,o,u,h){this._overlay=e,this._live=i,this._injector=r,this._breakpointObserver=o,this._parentSnackBar=u,this._defaultConfig=h,this._snackBarRefAtThisLevel=null}get _openedSnackBarRef(){const e=this._parentSnackBar;return e?e._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(e){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=e:this._snackBarRefAtThisLevel=e}openFromComponent(e,i){return this._attach(e,i)}openFromTemplate(e,i){return this._attach(e,i)}open(e,i="",r){const o={...this._defaultConfig,...r};return o.data={message:e,action:i},o.announcementMessage===e&&(o.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,o)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(e,i){const o=s.zs3.create({parent:i&&i.viewContainerRef&&i.viewContainerRef.injector||this._injector,providers:[{provide:wI,useValue:i}]}),u=new kc(this.snackBarContainerComponent,i.viewContainerRef,o),h=e.attach(u);return h.instance.snackBarConfig=i,h.instance}_attach(e,i){const r={...new wI,...this._defaultConfig,...i},o=this._createOverlay(r),u=this._attachSnackBarContainer(o,r),h=new U1(u,o);if(e instanceof s.Rgc){const _=new _h(e,null,{$implicit:r.data,snackBarRef:h});h.instance=u.attachTemplatePortal(_)}else{const _=this._createInjector(r,h),b=new kc(e,void 0,_),D=u.attachComponentPortal(b);h.instance=D.instance}return this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait)").pipe(Vt(o.detachments())).subscribe(_=>{o.overlayElement.classList.toggle(this.handsetCssClass,_.matches)}),r.announcementMessage&&u._onAnnounce.subscribe(()=>{this._live.announce(r.announcementMessage,r.politeness)}),this._animateSnackBar(h,r),this._openedSnackBarRef=h,this._openedSnackBarRef}_animateSnackBar(e,i){e.afterDismissed().subscribe(()=>{this._openedSnackBarRef==e&&(this._openedSnackBarRef=null),i.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{e.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):e.containerInstance.enter(),i.duration&&i.duration>0&&e.afterOpened().subscribe(()=>e._dismissAfter(i.duration))}_createOverlay(e){const i=new Ku;i.direction=e.direction;let r=this._overlay.position().global();const o="rtl"===e.direction,u="left"===e.horizontalPosition||"start"===e.horizontalPosition&&!o||"end"===e.horizontalPosition&&o,h=!u&&"center"!==e.horizontalPosition;return u?r.left("0"):h?r.right("0"):r.centerHorizontally(),"top"===e.verticalPosition?r.top("0"):r.bottom("0"),i.positionStrategy=r,this._overlay.create(i)}_createInjector(e,i){return s.zs3.create({parent:e&&e.viewContainerRef&&e.viewContainerRef.injector||this._injector,providers:[{provide:U1,useValue:i},{provide:rU,useValue:e.data}]})}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(As),s.LFG($v),s.LFG(s.zs3),s.LFG(cI),s.LFG(n,12),s.LFG(sU))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),CI=(()=>{class n extends G4{constructor(e,i,r,o,u,h){super(e,i,r,o,u,h),this.simpleSnackBarComponent=B4,this.snackBarContainerComponent=H4,this.handsetCssClass="mat-snack-bar-handset"}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(As),s.LFG($v),s.LFG(s.zs3),s.LFG(cI),s.LFG(n,12),s.LFG(sU))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:H1}),n})();const z4=["*",[["mat-card-footer"]]],$4=["*","mat-card-footer"];let Ty=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["mat-card-content"],["","mat-card-content",""],["","matCardContent",""]],hostAttrs:[1,"mat-card-content"]}),n})(),DI=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-card-title"]}),n})(),q4=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["mat-card-subtitle"],["","mat-card-subtitle",""],["","matCardSubtitle",""]],hostAttrs:[1,"mat-card-subtitle"]}),n})(),Rm=(()=>{class n{constructor(e){this._animationMode=e}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.QbO,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-card"]],hostAttrs:[1,"mat-card","mat-focus-indicator"],hostVars:2,hostBindings:function(e,i){2&e&&s.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)},exportAs:["matCard"],ngContentSelectors:$4,decls:2,vars:0,template:function(e,i){1&e&&(s.F$t(z4),s.Hsn(0),s.Hsn(1,1))},styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:block;position:relative;padding:16px;border-radius:4px}._mat-animation-noopable.mat-card{transition:none;animation:none}.mat-card .mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card .mat-divider-horizontal{left:auto;right:0}.mat-card .mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card .mat-divider-horizontal.mat-divider-inset{margin-right:0}.cdk-high-contrast-active .mat-card{outline:solid 1px}.mat-card-actions,.mat-card-subtitle,.mat-card-content{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px;display:block;overflow:hidden}.mat-card-image img{width:100%}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media(max-width: 599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card>:first-child,.mat-card-content>:first-child{margin-top:0}.mat-card>:last-child:not(.mat-card-footer),.mat-card-content>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions:not(.mat-card-actions-align-end) .mat-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-raised-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-actions-align-end .mat-button:last-child,.mat-card-actions-align-end .mat-raised-button:last-child,.mat-card-actions-align-end .mat-stroked-button:last-child{margin-left:0;margin-right:0}.mat-card-title:not(:first-child),.mat-card-subtitle:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}\n"],encapsulation:2,changeDetection:0}),n})(),oU=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[Wt],Wt]}),n})();class Z4{}class mf{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(e=>{const i=e.indexOf(":");if(i>0){const r=e.slice(0,i),o=r.toLowerCase(),u=e.slice(i+1).trim();this.maybeSetNormalizedName(r,o),this.headers.has(o)?this.headers.get(o).push(u):this.headers.set(o,[u])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let i=t[e];const r=e.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(r,i),this.maybeSetNormalizedName(e,r))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof mf?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new mf;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof mf?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...i),this.headers.set(e,r);break;case"d":const o=t.value;if(o){let u=this.headers.get(e);if(!u)return;u=u.filter(h=>-1===o.indexOf(h)),0===u.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,u)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class Y4{encodeKey(t){return aU(t)}encodeValue(t){return aU(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const K4=/%(\d[a-f0-9])/gi,Q4={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function aU(n){return encodeURIComponent(n).replace(K4,(t,e)=>Q4[e]??t)}function EI(n){return`${n}`}class gf{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new Y4,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function W4(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const o=r.indexOf("="),[u,h]=-1==o?[t.decodeKey(r),""]:[t.decodeKey(r.slice(0,o)),t.decodeValue(r.slice(o+1))],_=e.get(u)||[];_.push(h),e.set(u,_)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const i=t.fromObject[e],r=Array.isArray(i)?i.map(EI):[EI(i)];this.map.set(e,r)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(i=>{const r=t[i];Array.isArray(r)?r.forEach(o=>{e.push({param:i,value:o,op:"a"})}):e.push({param:i,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new gf({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(EI(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let i=this.map.get(t.param)||[];const r=i.indexOf(EI(t.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class J4{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function lU(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function cU(n){return typeof Blob<"u"&&n instanceof Blob}function uU(n){return typeof FormData<"u"&&n instanceof FormData}class v0{constructor(t,e,i,r){let o;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function X4(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,o=r):o=i,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params)),this.headers||(this.headers=new mf),this.context||(this.context=new J4),this.params){const u=this.params.toString();if(0===u.length)this.urlWithParams=e;else{const h=e.indexOf("?");this.urlWithParams=e+(-1===h?"?":h<e.length-1?"&":"")+u}}else this.params=new gf,this.urlWithParams=e}serializeBody(){return null===this.body?null:lU(this.body)||cU(this.body)||uU(this.body)||function eY(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof gf?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||uU(this.body)?null:cU(this.body)?this.body.type||null:lU(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof gf?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){const e=t.method||this.method,i=t.url||this.url,r=t.responseType||this.responseType,o=void 0!==t.body?t.body:this.body,u=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,h=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let _=t.headers||this.headers,b=t.params||this.params;const D=t.context??this.context;return void 0!==t.setHeaders&&(_=Object.keys(t.setHeaders).reduce((M,O)=>M.set(O,t.setHeaders[O]),_)),t.setParams&&(b=Object.keys(t.setParams).reduce((M,O)=>M.set(O,t.setParams[O]),b)),new v0(e,i,o,{params:b,headers:_,context:D,reportProgress:h,responseType:r,withCredentials:u})}}var es=(()=>((es=es||{})[es.Sent=0]="Sent",es[es.UploadProgress=1]="UploadProgress",es[es.ResponseHeader=2]="ResponseHeader",es[es.DownloadProgress=3]="DownloadProgress",es[es.Response=4]="Response",es[es.User=5]="User",es))();class j1 extends class tY{constructor(t,e=200,i="OK"){this.headers=t.headers||new mf,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}{constructor(t={}){super(t),this.type=es.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new j1({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}function G1(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let hU=(()=>{class n{constructor(e){this.handler=e}request(e,i,r={}){let o;if(e instanceof v0)o=e;else{let _,b;_=r.headers instanceof mf?r.headers:new mf(r.headers),r.params&&(b=r.params instanceof gf?r.params:new gf({fromObject:r.params})),o=new v0(e,i,void 0!==r.body?r.body:null,{headers:_,context:r.context,params:b,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const u=qe(o).pipe(Ee(_=>this.handler.handle(_)));if(e instanceof v0||"events"===r.observe)return u;const h=u.pipe(S(_=>_ instanceof j1));switch(r.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return h.pipe((0,Ge.U)(_=>{if(null!==_.body&&!(_.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return _.body}));case"blob":return h.pipe((0,Ge.U)(_=>{if(null!==_.body&&!(_.body instanceof Blob))throw new Error("Response is not a Blob.");return _.body}));case"text":return h.pipe((0,Ge.U)(_=>{if(null!==_.body&&"string"!=typeof _.body)throw new Error("Response is not a string.");return _.body}));default:return h.pipe((0,Ge.U)(_=>_.body))}case"response":return h;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:(new gf).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,r={}){return this.request("PATCH",e,G1(r,i))}post(e,i,r={}){return this.request("POST",e,G1(r,i))}put(e,i,r={}){return this.request("PUT",e,G1(r,i))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Z4))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const iY=["*"];let SI;function b0(n){return function rY(){if(void 0===SI&&(SI=null,typeof window<"u")){const n=window;void 0!==n.trustedTypes&&(SI=n.trustedTypes.createPolicy("angular#components",{createHTML:t=>t}))}return SI}()?.createHTML(n)||n}function fU(n){return Error(`Unable to find icon with the name "${n}"`)}function pU(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function mU(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class Om{constructor(t,e,i){this.url=t,this.svgText=e,this.options=i}}let II=(()=>{class n{constructor(e,i,r,o){this._httpClient=e,this._sanitizer=i,this._errorHandler=o,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass="material-icons",this._document=r}addSvgIcon(e,i,r){return this.addSvgIconInNamespace("",e,i,r)}addSvgIconLiteral(e,i,r){return this.addSvgIconLiteralInNamespace("",e,i,r)}addSvgIconInNamespace(e,i,r,o){return this._addSvgIconConfig(e,i,new Om(r,null,o))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,i,r,o){const u=this._sanitizer.sanitize(s.q3G.HTML,r);if(!u)throw mU(r);const h=b0(u);return this._addSvgIconConfig(e,i,new Om("",h,o))}addSvgIconSet(e,i){return this.addSvgIconSetInNamespace("",e,i)}addSvgIconSetLiteral(e,i){return this.addSvgIconSetLiteralInNamespace("",e,i)}addSvgIconSetInNamespace(e,i,r){return this._addSvgIconSetConfig(e,new Om(i,null,r))}addSvgIconSetLiteralInNamespace(e,i,r){const o=this._sanitizer.sanitize(s.q3G.HTML,i);if(!o)throw mU(i);const u=b0(o);return this._addSvgIconSetConfig(e,new Om("",u,r))}registerFontClassAlias(e,i=e){return this._fontCssClassesByAlias.set(e,i),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){const i=this._sanitizer.sanitize(s.q3G.RESOURCE_URL,e);if(!i)throw pU(e);const r=this._cachedIconsByUrl.get(i);return r?qe(MI(r)):this._loadSvgIconFromConfig(new Om(e,null)).pipe((0,Le.b)(o=>this._cachedIconsByUrl.set(i,o)),(0,Ge.U)(o=>MI(o)))}getNamedSvgIcon(e,i=""){const r=gU(i,e);let o=this._svgIconConfigs.get(r);if(o)return this._getSvgFromConfig(o);if(o=this._getIconConfigFromResolvers(i,e),o)return this._svgIconConfigs.set(r,o),this._getSvgFromConfig(o);const u=this._iconSetConfigs.get(i);return u?this._getSvgFromIconSetConfigs(e,u):Wi(fU(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?qe(MI(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe((0,Ge.U)(i=>MI(i)))}_getSvgFromIconSetConfigs(e,i){const r=this._extractIconWithNameFromAnySet(e,i);return r?qe(r):kD(i.filter(u=>!u.svgText).map(u=>this._loadSvgIconSetFromConfig(u).pipe(Xe(h=>{const b=`Loading icon set URL: ${this._sanitizer.sanitize(s.q3G.RESOURCE_URL,u.url)} failed: ${h.message}`;return this._errorHandler.handleError(new Error(b)),qe(null)})))).pipe((0,Ge.U)(()=>{const u=this._extractIconWithNameFromAnySet(e,i);if(!u)throw fU(e);return u}))}_extractIconWithNameFromAnySet(e,i){for(let r=i.length-1;r>=0;r--){const o=i[r];if(o.svgText&&o.svgText.toString().indexOf(e)>-1){const u=this._svgElementFromConfig(o),h=this._extractSvgIconFromSet(u,e,o.options);if(h)return h}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe((0,Le.b)(i=>e.svgText=i),(0,Ge.U)(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?qe(null):this._fetchIcon(e).pipe((0,Le.b)(i=>e.svgText=i))}_extractSvgIconFromSet(e,i,r){const o=e.querySelector(`[id="${i}"]`);if(!o)return null;const u=o.cloneNode(!0);if(u.removeAttribute("id"),"svg"===u.nodeName.toLowerCase())return this._setSvgAttributes(u,r);if("symbol"===u.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(u),r);const h=this._svgElementFromString(b0("<svg></svg>"));return h.appendChild(u),this._setSvgAttributes(h,r)}_svgElementFromString(e){const i=this._document.createElement("DIV");i.innerHTML=e;const r=i.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(e){const i=this._svgElementFromString(b0("<svg></svg>")),r=e.attributes;for(let o=0;o<r.length;o++){const{name:u,value:h}=r[o];"id"!==u&&i.setAttribute(u,h)}for(let o=0;o<e.childNodes.length;o++)e.childNodes[o].nodeType===this._document.ELEMENT_NODE&&i.appendChild(e.childNodes[o].cloneNode(!0));return i}_setSvgAttributes(e,i){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),i&&i.viewBox&&e.setAttribute("viewBox",i.viewBox),e}_fetchIcon(e){const{url:i,options:r}=e,o=r?.withCredentials??!1;if(!this._httpClient)throw function sY(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==i)throw Error(`Cannot fetch icon from URL "${i}".`);const u=this._sanitizer.sanitize(s.q3G.RESOURCE_URL,i);if(!u)throw pU(i);const h=this._inProgressUrlFetches.get(u);if(h)return h;const _=this._httpClient.get(u,{responseType:"text",withCredentials:o}).pipe((0,Ge.U)(b=>b0(b)),Ro(()=>this._inProgressUrlFetches.delete(u)),(0,S2.B)());return this._inProgressUrlFetches.set(u,_),_}_addSvgIconConfig(e,i,r){return this._svgIconConfigs.set(gU(e,i),r),this}_addSvgIconSetConfig(e,i){const r=this._iconSetConfigs.get(e);return r?r.push(i):this._iconSetConfigs.set(e,[i]),this}_svgElementFromConfig(e){if(!e.svgElement){const i=this._svgElementFromString(e.svgText);this._setSvgAttributes(i,e.options),e.svgElement=i}return e.svgElement}_getIconConfigFromResolvers(e,i){for(let r=0;r<this._resolvers.length;r++){const o=this._resolvers[r](i,e);if(o)return aY(o)?new Om(o.url,null,o.options):new Om(o,null)}}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(hU,8),s.LFG(da),s.LFG(te,8),s.LFG(s.qLn))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function MI(n){return n.cloneNode(!0)}function gU(n,t){return n+":"+t}function aY(n){return!(!n.url||!n.options)}const lY=Jg(class{constructor(n){this._elementRef=n}}),cY=new s.OlP("mat-icon-location",{providedIn:"root",factory:function uY(){const n=(0,s.f3M)(te),t=n?n.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}}),_U=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],dY=_U.map(n=>`[${n}]`).join(", "),hY=/^url\(['"]?#(.*?)['"]?\)$/;let w0=(()=>{class n extends lY{constructor(e,i,r,o,u){super(e),this._iconRegistry=i,this._location=o,this._errorHandler=u,this._inline=!1,this._currentIconFetch=on.w0.EMPTY,r||e.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(e){this._inline=Mt(e)}get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}get fontSet(){return this._fontSet}set fontSet(e){const i=this._cleanupFontValue(e);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(e){const i=this._cleanupFontValue(e);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}_splitIconName(e){if(!e)return["",""];const i=e.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const e=this._elementsWithExternalReferences;if(e&&e.size){const i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();const i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){const e=this._elementRef.nativeElement;let i=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){const r=e.childNodes[i];(1!==r.nodeType||"svg"===r.nodeName.toLowerCase())&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const e=this._elementRef.nativeElement,i=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();i!=this._previousFontSetClass&&(this._previousFontSetClass&&e.classList.remove(this._previousFontSetClass),i&&e.classList.add(i),this._previousFontSetClass=i),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return"string"==typeof e?e.trim().split(" ")[0]:e}_prependPathToReferences(e){const i=this._elementsWithExternalReferences;i&&i.forEach((r,o)=>{r.forEach(u=>{o.setAttribute(u.name,`url('${e}#${u.value}')`)})})}_cacheChildrenWithExternalReferences(e){const i=e.querySelectorAll(dY),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let o=0;o<i.length;o++)_U.forEach(u=>{const h=i[o],_=h.getAttribute(u),b=_?_.match(hY):null;if(b){let D=r.get(h);D||(D=[],r.set(h,D)),D.push({name:u,value:b[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){const[i,r]=this._splitIconName(e);i&&(this._svgNamespace=i),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,i).pipe(Et(1)).subscribe(o=>this._setSvgElement(o),o=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${i}:${r}! ${o.message}`))})}}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(II),s.$8M("aria-hidden"),s.Y36(cY),s.Y36(s.qLn))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(e,i){2&e&&(s.uIk("data-mat-icon-type",i._usingFontIcon()?"font":"svg")("data-mat-icon-name",i._svgName||i.fontIcon)("data-mat-icon-namespace",i._svgNamespace||i.fontSet),s.ekj("mat-icon-inline",i.inline)("mat-icon-no-color","primary"!==i.color&&"accent"!==i.color&&"warn"!==i.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[s.qOj],ngContentSelectors:iY,decls:1,vars:0,template:function(e,i){1&e&&(s.F$t(),s.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),n})(),yU=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[Wt],Wt]}),n})();function vU(n,t){return t?e=>ls(t.pipe(Et(1),function fY(){return(0,ii.e)((n,t)=>{n.subscribe((0,Nn.x)(t,fv.Z))})}()),e.pipe(vU(n))):(0,I.z)((e,i)=>n(e,i).pipe(Et(1),Is(e)))}function bU(n,t=zu.z){const e=zM(n,t);return vU(()=>e)}const pY=["mat-menu-item",""];function mY(n,t){1&n&&(s.O4$(),s.TgZ(0,"svg",2),s._UZ(1,"polygon",3),s.qZA())}const wU=["*"];function gY(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",0),s.NdJ("keydown",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o._handleKeydown(r))})("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.closed.emit("click"))})("@transformMenu.start",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o._onAnimationStart(r))})("@transformMenu.done",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o._onAnimationDone(r))}),s.TgZ(1,"div",1),s.Hsn(2),s.qZA()()}if(2&n){const e=s.oxw();s.Q6J("id",e.panelId)("ngClass",e._classList)("@transformMenu",e._panelAnimationState),s.uIk("aria-label",e.ariaLabel||null)("aria-labelledby",e.ariaLabelledby||null)("aria-describedby",e.ariaDescribedby||null)}}const TI={transformMenu:pr("transformMenu",[Pn("void",Ct({opacity:0,transform:"scale(0.8)"})),kn("void => enter",Vn("120ms cubic-bezier(0, 0, 0.2, 1)",Ct({opacity:1,transform:"scale(1)"}))),kn("* => void",Vn("100ms 25ms linear",Ct({opacity:0})))]),fadeInItems:pr("fadeInItems",[Pn("showing",Ct({opacity:1})),kn("void => *",[Ct({opacity:0}),Vn("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])},_Y=new s.OlP("MatMenuContent"),z1=new s.OlP("MAT_MENU_PANEL"),yY=Cl(Fc(class{}));let Pm=(()=>{class n extends yY{constructor(e,i,r,o,u){super(),this._elementRef=e,this._document=i,this._focusMonitor=r,this._parentMenu=o,this._changeDetectorRef=u,this.role="menuitem",this._hovered=new Ze.x,this._focused=new Ze.x,this._highlighted=!1,this._triggersSubmenu=!1,o?.addItem?.(this)}focus(e,i){this._focusMonitor&&e?this._focusMonitor.focusVia(this._getHostElement(),e,i):this._getHostElement().focus(i),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(e){this.disabled&&(e.preventDefault(),e.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){const e=this._elementRef.nativeElement.cloneNode(!0),i=e.querySelectorAll("mat-icon, .material-icons");for(let r=0;r<i.length;r++)i[r].remove();return e.textContent?.trim()||""}_setHighlighted(e){this._highlighted=e,this._changeDetectorRef?.markForCheck()}_hasFocus(){return this._document&&this._document.activeElement===this._getHostElement()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(te),s.Y36(wl),s.Y36(z1,8),s.Y36(s.sBO))},n.\u0275cmp=s.Xpm({type:n,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-focus-indicator"],hostVars:10,hostBindings:function(e,i){1&e&&s.NdJ("click",function(o){return i._checkDisabled(o)})("mouseenter",function(){return i._handleMouseEnter()}),2&e&&(s.uIk("role",i.role)("tabindex",i._getTabIndex())("aria-disabled",i.disabled.toString())("disabled",i.disabled||null),s.ekj("mat-menu-item",!0)("mat-menu-item-highlighted",i._highlighted)("mat-menu-item-submenu-trigger",i._triggersSubmenu))},inputs:{disabled:"disabled",disableRipple:"disableRipple",role:"role"},exportAs:["matMenuItem"],features:[s.qOj],attrs:pY,ngContentSelectors:wU,decls:3,vars:3,consts:[["matRipple","",1,"mat-menu-ripple",3,"matRippleDisabled","matRippleTrigger"],["class","mat-menu-submenu-icon","viewBox","0 0 5 10","focusable","false",4,"ngIf"],["viewBox","0 0 5 10","focusable","false",1,"mat-menu-submenu-icon"],["points","0,0 5,5 0,10"]],template:function(e,i){1&e&&(s.F$t(),s.Hsn(0),s._UZ(1,"div",0),s.YNc(2,mY,2,0,"svg",1)),2&e&&(s.xp6(1),s.Q6J("matRippleDisabled",i.disableRipple||i.disabled)("matRippleTrigger",i._getHostElement()),s.xp6(1),s.Q6J("ngIf",i._triggersSubmenu))},dependencies:[Nc,sn],encapsulation:2,changeDetection:0}),n})();const CU=new s.OlP("mat-menu-default-options",{providedIn:"root",factory:function vY(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}});let bY=0,C0=(()=>{class n{constructor(e,i,r,o){this._elementRef=e,this._ngZone=i,this._defaultOptions=r,this._changeDetectorRef=o,this._xPosition=this._defaultOptions.xPosition,this._yPosition=this._defaultOptions.yPosition,this._directDescendantItems=new s.n_E,this._tabSubscription=on.w0.EMPTY,this._classList={},this._panelAnimationState="void",this._animationDone=new Ze.x,this.overlayPanelClass=this._defaultOptions.overlayPanelClass||"",this.backdropClass=this._defaultOptions.backdropClass,this._overlapTrigger=this._defaultOptions.overlapTrigger,this._hasBackdrop=this._defaultOptions.hasBackdrop,this.closed=new s.vpe,this.close=this.closed,this.panelId="mat-menu-panel-"+bY++}get xPosition(){return this._xPosition}set xPosition(e){this._xPosition=e,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(e){this._yPosition=e,this.setPositionClasses()}get overlapTrigger(){return this._overlapTrigger}set overlapTrigger(e){this._overlapTrigger=Mt(e)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(e){this._hasBackdrop=Mt(e)}set panelClass(e){const i=this._previousPanelClass;i&&i.length&&i.split(" ").forEach(r=>{this._classList[r]=!1}),this._previousPanelClass=e,e&&e.length&&(e.split(" ").forEach(r=>{this._classList[r]=!0}),this._elementRef.nativeElement.className="")}get classList(){return this.panelClass}set classList(e){this.panelClass=e}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new eD(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._tabSubscription=this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe(Yn(this._directDescendantItems),Ln(e=>(0,dr.T)(...e.map(i=>i._focused)))).subscribe(e=>this._keyManager.updateActiveItem(e)),this._directDescendantItems.changes.subscribe(e=>{const i=this._keyManager;if("enter"===this._panelAnimationState&&i.activeItem?._hasFocus()){const r=e.toArray(),o=Math.max(0,Math.min(r.length-1,i.activeItemIndex||0));r[o]&&!r[o].disabled?i.setActiveItem(o):i.setNextItemActive()}})}ngOnDestroy(){this._directDescendantItems.destroy(),this._tabSubscription.unsubscribe(),this.closed.complete()}_hovered(){return this._directDescendantItems.changes.pipe(Yn(this._directDescendantItems),Ln(i=>(0,dr.T)(...i.map(r=>r._hovered))))}addItem(e){}removeItem(e){}_handleKeydown(e){const i=e.keyCode,r=this._keyManager;switch(i){case 27:hr(e)||(e.preventDefault(),this.closed.emit("keydown"));break;case 37:this.parentMenu&&"ltr"===this.direction&&this.closed.emit("keydown");break;case 39:this.parentMenu&&"rtl"===this.direction&&this.closed.emit("keydown");break;default:return(38===i||40===i)&&r.setFocusOrigin("keyboard"),void r.onKeydown(e)}e.stopPropagation()}focusFirstItem(e="program"){this._ngZone.onStable.pipe(Et(1)).subscribe(()=>{let i=null;if(this._directDescendantItems.length&&(i=this._directDescendantItems.first._getHostElement().closest('[role="menu"]')),!i||!i.contains(document.activeElement)){const r=this._keyManager;r.setFocusOrigin(e).setFirstItemActive(),!r.activeItem&&i&&i.focus()}})}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(e){const i=Math.min(this._baseElevation+e,24),r=`${this._elevationPrefix}${i}`,o=Object.keys(this._classList).find(u=>u.startsWith(this._elevationPrefix));(!o||o===this._previousElevation)&&(this._previousElevation&&(this._classList[this._previousElevation]=!1),this._classList[r]=!0,this._previousElevation=r)}setPositionClasses(e=this.xPosition,i=this.yPosition){const r=this._classList;r["mat-menu-before"]="before"===e,r["mat-menu-after"]="after"===e,r["mat-menu-above"]="above"===i,r["mat-menu-below"]="below"===i,this._changeDetectorRef?.markForCheck()}_startAnimation(){this._panelAnimationState="enter"}_resetAnimation(){this._panelAnimationState="void"}_onAnimationDone(e){this._animationDone.next(e),this._isAnimating=!1}_onAnimationStart(e){this._isAnimating=!0,"enter"===e.toState&&0===this._keyManager.activeItemIndex&&(e.element.scrollTop=0)}_updateDirectDescendants(){this._allItems.changes.pipe(Yn(this._allItems)).subscribe(e=>{this._directDescendantItems.reset(e.filter(i=>i._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.R0b),s.Y36(CU),s.Y36(s.sBO))},n.\u0275dir=s.lG2({type:n,contentQueries:function(e,i,r){if(1&e&&(s.Suo(r,_Y,5),s.Suo(r,Pm,5),s.Suo(r,Pm,4)),2&e){let o;s.iGM(o=s.CRH())&&(i.lazyContent=o.first),s.iGM(o=s.CRH())&&(i._allItems=o),s.iGM(o=s.CRH())&&(i.items=o)}},viewQuery:function(e,i){if(1&e&&s.Gf(s.Rgc,5),2&e){let r;s.iGM(r=s.CRH())&&(i.templateRef=r.first)}},inputs:{backdropClass:"backdropClass",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:"overlapTrigger",hasBackdrop:"hasBackdrop",panelClass:["class","panelClass"],classList:"classList"},outputs:{closed:"closed",close:"close"}}),n})(),AI=(()=>{class n extends C0{constructor(e,i,r,o){super(e,i,r,o),this._elevationPrefix="mat-elevation-z",this._baseElevation=4}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.R0b),s.Y36(CU),s.Y36(s.sBO))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-menu"]],hostVars:3,hostBindings:function(e,i){2&e&&s.uIk("aria-label",null)("aria-labelledby",null)("aria-describedby",null)},exportAs:["matMenu"],features:[s._Bn([{provide:z1,useExisting:n}]),s.qOj],ngContentSelectors:wU,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-menu-panel",3,"id","ngClass","keydown","click"],[1,"mat-menu-content"]],template:function(e,i){1&e&&(s.F$t(),s.YNc(0,gY,3,6,"ng-template"))},dependencies:[rn],styles:['mat-menu{display:none}.mat-menu-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;max-height:calc(100vh - 48px);border-radius:4px;outline:0;min-height:64px}.mat-menu-panel.ng-animating{pointer-events:none}.cdk-high-contrast-active .mat-menu-panel{outline:solid 1px}.mat-menu-content:not(:empty){padding-top:8px;padding-bottom:8px}.mat-menu-item{-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative}.mat-menu-item::-moz-focus-inner{border:0}.mat-menu-item[disabled]{cursor:default}[dir=rtl] .mat-menu-item{text-align:right}.mat-menu-item .mat-icon{margin-right:16px;vertical-align:middle}.mat-menu-item .mat-icon svg{vertical-align:top}[dir=rtl] .mat-menu-item .mat-icon{margin-left:16px;margin-right:0}.mat-menu-item[disabled]::before{display:block;position:absolute;content:"";top:0;left:0;bottom:0;right:0}.cdk-high-contrast-active .mat-menu-item{margin-top:1px}.cdk-high-contrast-active .mat-menu-item.cdk-program-focused,.cdk-high-contrast-active .mat-menu-item.cdk-keyboard-focused,.cdk-high-contrast-active .mat-menu-item-highlighted{outline:dotted 1px}.mat-menu-item-submenu-trigger{padding-right:32px}[dir=rtl] .mat-menu-item-submenu-trigger{padding-right:16px;padding-left:32px}.mat-menu-submenu-icon{position:absolute;top:50%;right:16px;transform:translateY(-50%);width:5px;height:10px;fill:currentColor}[dir=rtl] .mat-menu-submenu-icon{right:auto;left:16px;transform:translateY(-50%) scaleX(-1)}.cdk-high-contrast-active .mat-menu-submenu-icon{fill:CanvasText}button.mat-menu-item{width:100%}.mat-menu-item .mat-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}\n'],encapsulation:2,data:{animation:[TI.transformMenu,TI.fadeInItems]},changeDetection:0}),n})();const DU=new s.OlP("mat-menu-scroll-strategy"),CY={provide:DU,deps:[As],useFactory:function wY(n){return()=>n.scrollStrategies.reposition()}},SU=Mc({passive:!0});let DY=(()=>{class n{constructor(e,i,r,o,u,h,_,b,D){this._overlay=e,this._element=i,this._viewContainerRef=r,this._menuItemInstance=h,this._dir=_,this._focusMonitor=b,this._ngZone=D,this._overlayRef=null,this._menuOpen=!1,this._closingActionsSubscription=on.w0.EMPTY,this._hoverSubscription=on.w0.EMPTY,this._menuCloseSubscription=on.w0.EMPTY,this._handleTouchStart=M=>{Kg(M)||(this._openedBy="touch")},this._openedBy=void 0,this.restoreFocus=!0,this.menuOpened=new s.vpe,this.onMenuOpen=this.menuOpened,this.menuClosed=new s.vpe,this.onMenuClose=this.menuClosed,this._scrollStrategy=o,this._parentMaterialMenu=u instanceof C0?u:void 0,i.nativeElement.addEventListener("touchstart",this._handleTouchStart,SU),h&&(h._triggersSubmenu=this.triggersSubmenu())}get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(e){this.menu=e}get menu(){return this._menu}set menu(e){e!==this._menu&&(this._menu=e,this._menuCloseSubscription.unsubscribe(),e&&(this._menuCloseSubscription=e.close.subscribe(i=>{this._destroyMenu(i),("click"===i||"tab"===i)&&this._parentMaterialMenu&&this._parentMaterialMenu.closed.emit(i)})))}ngAfterContentInit(){this._checkMenu(),this._handleHover()}ngOnDestroy(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,SU),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}triggersSubmenu(){return!(!this._menuItemInstance||!this._parentMaterialMenu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){if(this._menuOpen)return;this._checkMenu();const e=this._createOverlay(),i=e.getConfig(),r=i.positionStrategy;this._setPosition(r),i.hasBackdrop=this.menu.hasBackdrop??!this.triggersSubmenu(),e.attach(this._getPortal()),this.menu.lazyContent&&this.menu.lazyContent.attach(this.menuData),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),this._initMenu(),this.menu instanceof C0&&(this.menu._startAnimation(),this.menu._directDescendantItems.changes.pipe(Vt(this.menu.close)).subscribe(()=>{r.withLockedPosition(!1).reapplyLastPosition(),r.withLockedPosition(!0)}))}closeMenu(){this.menu.close.emit()}focus(e,i){this._focusMonitor&&e?this._focusMonitor.focusVia(this._element,e,i):this._element.nativeElement.focus(i)}updatePosition(){this._overlayRef?.updatePosition()}_destroyMenu(e){if(!this._overlayRef||!this.menuOpen)return;const i=this.menu;this._closingActionsSubscription.unsubscribe(),this._overlayRef.detach(),this.restoreFocus&&("keydown"===e||!this._openedBy||!this.triggersSubmenu())&&this.focus(this._openedBy),this._openedBy=void 0,i instanceof C0?(i._resetAnimation(),i.lazyContent?i._animationDone.pipe(S(r=>"void"===r.toState),Et(1),Vt(i.lazyContent._attached)).subscribe({next:()=>i.lazyContent.detach(),complete:()=>this._setIsMenuOpen(!1)}):this._setIsMenuOpen(!1)):(this._setIsMenuOpen(!1),i.lazyContent&&i.lazyContent.detach())}_initMenu(){this.menu.parentMenu=this.triggersSubmenu()?this._parentMaterialMenu:void 0,this.menu.direction=this.dir,this._setMenuElevation(),this.menu.focusFirstItem(this._openedBy||"program"),this._setIsMenuOpen(!0)}_setMenuElevation(){if(this.menu.setElevation){let e=0,i=this.menu.parentMenu;for(;i;)e++,i=i.parentMenu;this.menu.setElevation(e)}}_setIsMenuOpen(e){this._menuOpen=e,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&this._menuItemInstance._setHighlighted(e)}_checkMenu(){}_createOverlay(){if(!this._overlayRef){const e=this._getOverlayConfig();this._subscribeToPositions(e.positionStrategy),this._overlayRef=this._overlay.create(e),this._overlayRef.keydownEvents().subscribe()}return this._overlayRef}_getOverlayConfig(){return new Ku({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withGrowAfterOpen().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:this.menu.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:this.menu.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir})}_subscribeToPositions(e){this.menu.setPositionClasses&&e.positionChanges.subscribe(i=>{const r="start"===i.connectionPair.overlayX?"after":"before",o="top"===i.connectionPair.overlayY?"below":"above";this._ngZone?this._ngZone.run(()=>this.menu.setPositionClasses(r,o)):this.menu.setPositionClasses(r,o)})}_setPosition(e){let[i,r]="before"===this.menu.xPosition?["end","start"]:["start","end"],[o,u]="above"===this.menu.yPosition?["bottom","top"]:["top","bottom"],[h,_]=[o,u],[b,D]=[i,r],M=0;this.triggersSubmenu()?(D=i="before"===this.menu.xPosition?"start":"end",r=b="end"===i?"start":"end",M="bottom"===o?8:-8):this.menu.overlapTrigger||(h="top"===o?"bottom":"top",_="top"===u?"bottom":"top"),e.withPositions([{originX:i,originY:h,overlayX:b,overlayY:o,offsetY:M},{originX:r,originY:h,overlayX:D,overlayY:o,offsetY:M},{originX:i,originY:_,overlayX:b,overlayY:u,offsetY:-M},{originX:r,originY:_,overlayX:D,overlayY:u,offsetY:-M}])}_menuClosingActions(){const e=this._overlayRef.backdropClick(),i=this._overlayRef.detachments(),r=this._parentMaterialMenu?this._parentMaterialMenu.closed:qe(),o=this._parentMaterialMenu?this._parentMaterialMenu._hovered().pipe(S(u=>u!==this._menuItemInstance),S(()=>this._menuOpen)):qe();return(0,dr.T)(e,r,o,i)}_handleMousedown(e){Wg(e)||(this._openedBy=0===e.button?"mouse":void 0,this.triggersSubmenu()&&e.preventDefault())}_handleKeydown(e){const i=e.keyCode;(13===i||32===i)&&(this._openedBy="keyboard"),this.triggersSubmenu()&&(39===i&&"ltr"===this.dir||37===i&&"rtl"===this.dir)&&(this._openedBy="keyboard",this.openMenu())}_handleClick(e){this.triggersSubmenu()?(e.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){!this.triggersSubmenu()||!this._parentMaterialMenu||(this._hoverSubscription=this._parentMaterialMenu._hovered().pipe(S(e=>e===this._menuItemInstance&&!e.disabled),bU(0,Rg)).subscribe(()=>{this._openedBy="mouse",this.menu instanceof C0&&this.menu._isAnimating?this.menu._animationDone.pipe(Et(1),bU(0,Rg),Vt(this._parentMaterialMenu._hovered())).subscribe(()=>this.openMenu()):this.openMenu()}))}_getPortal(){return(!this._portal||this._portal.templateRef!==this.menu.templateRef)&&(this._portal=new _h(this.menu.templateRef,this._viewContainerRef)),this._portal}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(As),s.Y36(s.SBq),s.Y36(s.s_b),s.Y36(DU),s.Y36(z1,8),s.Y36(Pm,10),s.Y36(qr,8),s.Y36(wl),s.Y36(s.R0b))},n.\u0275dir=s.lG2({type:n,hostAttrs:["aria-haspopup","true"],hostVars:2,hostBindings:function(e,i){1&e&&s.NdJ("click",function(o){return i._handleClick(o)})("mousedown",function(o){return i._handleMousedown(o)})("keydown",function(o){return i._handleKeydown(o)}),2&e&&s.uIk("aria-expanded",i.menuOpen||null)("aria-controls",i.menuOpen?i.menu.panelId:null)},inputs:{_deprecatedMatMenuTriggerFor:["mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:["matMenuTriggerFor","menu"],menuData:["matMenuTriggerData","menuData"],restoreFocus:["matMenuTriggerRestoreFocus","restoreFocus"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"}}),n})(),xI=(()=>{class n extends DY{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:[1,"mat-menu-trigger"],exportAs:["matMenuTrigger"],features:[s.qOj]}),n})(),IU=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[CY],imports:[[Li,Wt,Tp,Ch],xc,Wt]}),n})();function EY(n,t){1&n&&(s.TgZ(0,"th",18),s._uU(1," Name "),s.qZA())}function SY(n,t){if(1&n&&(s.TgZ(0,"td",19),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.hij(" ",e.patient_name," ")}}function IY(n,t){1&n&&(s.TgZ(0,"th",18),s._uU(1," Mobile "),s.qZA())}function MY(n,t){if(1&n&&(s.TgZ(0,"td",19),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.hij(" ",e.mobile,"% ")}}function TY(n,t){1&n&&(s.TgZ(0,"th",18),s._uU(1," Doctor "),s.qZA())}function AY(n,t){if(1&n&&(s.TgZ(0,"td",19),s._uU(1),s.qZA()),2&n){const e=t.$implicit,i=s.oxw();s.xp6(1),s.hij(" ",i.getDoctorName(e.doctor_id)," ")}}function xY(n,t){1&n&&(s.TgZ(0,"th",18),s._uU(1," Gender "),s.qZA())}function kY(n,t){if(1&n&&(s.TgZ(0,"td",19),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.hij(" ",e.gender," ")}}function RY(n,t){1&n&&(s.TgZ(0,"th",18),s._uU(1," Actions "),s.qZA())}function OY(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"td",19)(1,"button",20)(2,"mat-icon"),s._uU(3,"more_vert"),s.qZA()(),s.TgZ(4,"mat-menu",null,21)(6,"button",22),s.NdJ("click",function(){const o=s.CHM(e).$implicit,u=s.oxw();return s.KtG(u.viewPatient(o))}),s.TgZ(7,"mat-icon"),s._uU(8,"open_in_new"),s.qZA(),s.TgZ(9,"span"),s._uU(10,"View"),s.qZA()(),s.TgZ(11,"button",22),s.NdJ("click",function(){const o=s.CHM(e).$implicit,u=s.oxw();return s.KtG(u.editPatient(o))}),s.TgZ(12,"mat-icon"),s._uU(13,"edit"),s.qZA(),s.TgZ(14,"span"),s._uU(15,"Edit"),s.qZA()(),s.TgZ(16,"button",22),s.NdJ("click",function(){const o=s.CHM(e).$implicit,u=s.oxw();return s.KtG(u.deletePatient(o))}),s.TgZ(17,"mat-icon"),s._uU(18,"delete"),s.qZA(),s.TgZ(19,"span"),s._uU(20,"Delete"),s.qZA()()()()}if(2&n){const e=s.MAs(5);s.xp6(1),s.Q6J("matMenuTriggerFor",e)}}function PY(n,t){1&n&&s._UZ(0,"tr",23)}function FY(n,t){1&n&&s._UZ(0,"tr",24)}function NY(n,t){if(1&n&&(s.TgZ(0,"tr",25)(1,"td",26),s._uU(2),s.qZA()()),2&n){s.oxw();const e=s.MAs(12);s.xp6(2),s.hij('No data matching the filter "',e.value,'"')}}const LY=function(){return[5,10,25,100]};let VY=(()=>{class n{constructor(e,i,r){this.dialog=e,this.dataApi=i,this._snackBar=r,this.allPatients=[],this.allDoctors=[],this.displayedColumns=["name","mobile","doctor","gender","actions"]}ngOnInit(){this.getAllPatients(),this.getAllDoctors()}addPatient(){const e=new fs;e.disableClose=!0,e.autoFocus=!0,e.data={title:"Register Patient",buttonName:"Register"},this.dialog.open(M1,e).afterClosed().subscribe(r=>{r&&(this.dataApi.addPatient(r),this.openSnackBar("Registration of Patient is sucessfull ","OK"))})}getAllPatients(){this.dataApi.getAllPatients().subscribe(e=>{this.allPatients=e.map(i=>{const r=i.payload.doc.data();return r.patient_id=i.payload.doc.id,r}),this.dataSource=new bI(this.allPatients),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort})}getAllDoctors(){this.dataApi.getAllDoctors().subscribe(e=>{this.allDoctors=e.map(i=>{const r=i.payload.doc.data();return r.id=i.payload.doc.id,r})})}getDoctorName(e){let i="";return this.allDoctors.forEach(r=>{r.id==e&&(i=r.name)}),i}viewPatient(e){window.open("/dashboard/patient/"+e.patient_id,"_blank")}editPatient(e){if(null==e.patient_id||null==e.patient_name)return;const i=new fs;i.disableClose=!0,i.autoFocus=!0,i.data=e,i.data.title="Edit Patient",i.data.buttonName="Update",i.data.admission_date=e.admission_date.toDate(),this.dialog.open(M1,i).afterClosed().subscribe(o=>{o&&(this.dataApi.updatePatient(o),this.openSnackBar("Patient is updated sucessfull ","OK"))})}deletePatient(e){const i=new fs;i.disableClose=!1,i.autoFocus=!0,i.data={title:"Delete patient",patientName:e.patient_name},this.dialog.open(iU,i).afterClosed().subscribe(o=>{o&&(console.log(e),this.dataApi.deletePatient(e.patient_id),this.openSnackBar("Patient deleted successfully.","OK"))})}openSnackBar(e,i){this._snackBar.open(e,i)}applyFilter(e){this.dataSource.filter=e.target.value.trim().toLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(id),s.Y36(Am),s.Y36(CI))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-patient"]],viewQuery:function(e,i){if(1&e&&(s.Gf(bd,5),s.Gf(u0,5)),2&e){let r;s.iGM(r=s.CRH())&&(i.paginator=r.first),s.iGM(r=s.CRH())&&(i.sort=r.first)}},decls:34,vars:5,consts:[[1,"container"],[1,"col-sn-6","col-md-4","mat-3"],[1,"add-doc","text-center",3,"click"],["matInput","","placeholder","Vison",3,"keyup"],["input",""],[1,"mat-elevation-z8"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","mobile"],["matColumnDef","doctor"],["matColumnDef","gender"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Select page of users",3,"pageSizeOptions"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-icon-button","","aria-label","Example icon-button with a menu",3,"matMenuTriggerFor"],["menu","matMenu"],["mat-menu-item","",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0)(1,"div",1)(2,"mat-card",2),s.NdJ("click",function(){return i.addPatient()}),s.TgZ(3,"mat-card-content"),s._uU(4," Add Patient "),s._UZ(5,"br"),s.TgZ(6,"mat-icon"),s._uU(7,"group_add"),s.qZA()()()(),s.TgZ(8,"mat-form-field")(9,"mat-label"),s._uU(10,"Filter"),s.qZA(),s.TgZ(11,"input",3,4),s.NdJ("keyup",function(o){return i.applyFilter(o)}),s.qZA()(),s.TgZ(13,"div",5)(14,"table",6),s.ynx(15,7),s.YNc(16,EY,2,0,"th",8),s.YNc(17,SY,2,1,"td",9),s.BQk(),s.ynx(18,10),s.YNc(19,IY,2,0,"th",8),s.YNc(20,MY,2,1,"td",9),s.BQk(),s.ynx(21,11),s.YNc(22,TY,2,0,"th",8),s.YNc(23,AY,2,1,"td",9),s.BQk(),s.ynx(24,12),s.YNc(25,xY,2,0,"th",8),s.YNc(26,kY,2,1,"td",9),s.BQk(),s.ynx(27,13),s.YNc(28,RY,2,0,"th",8),s.YNc(29,OY,21,1,"td",9),s.BQk(),s.YNc(30,PY,1,0,"tr",14),s.YNc(31,FY,1,0,"tr",15),s.YNc(32,NY,3,1,"tr",16),s.qZA(),s._UZ(33,"mat-paginator",17),s.qZA()()),2&e&&(s.xp6(14),s.Q6J("dataSource",i.dataSource),s.xp6(16),s.Q6J("matHeaderRowDef",i.displayedColumns),s.xp6(1),s.Q6J("matRowDefColumns",i.displayedColumns),s.xp6(2),s.Q6J("pageSizeOptions",s.DdM(4,LY)))},dependencies:[Rm,Ty,Ls,w0,vd,Zc,hf,f0,Ey,p0,Sy,Dy,m0,Iy,My,g0,_0,y0,bd,AI,Pm,xI],styles:[".add-doc[_ngcontent-%COMP%]{color:#3f51b5}.mat-card[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:hover{transform:scale(1.05)}table[_ngcontent-%COMP%]{width:100%}.mat-mdc-form-field[_ngcontent-%COMP%]{font-size:14px;width:100%}"]}),n})();function BY(n,t){1&n&&(s.TgZ(0,"mat-error"),s._uU(1,"Enter full Name"),s.qZA())}function UY(n,t){1&n&&(s.TgZ(0,"mat-error"),s._uU(1,"Enter Mobile"),s.qZA())}function HY(n,t){1&n&&(s.TgZ(0,"mat-error"),s._uU(1,"Enter Email Address"),s.qZA())}function jY(n,t){1&n&&(s.TgZ(0,"mat-error"),s._uU(1,"Enter Qualification} "),s.qZA())}function GY(n,t){if(1&n&&(s.TgZ(0,"mat-option",21),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.Q6J("value",e),s.xp6(1),s.hij(" ",e," ")}}function zY(n,t){1&n&&(s.TgZ(0,"mat-error"),s._uU(1,"Select birthdate"),s.qZA())}let $1=(()=>{class n{constructor(e,i,r){this.fb=e,this.dialogRef=r,this.departments=["Otorhinolaryngology","General Surgery","Medicine","Gastroenterology","Paediatrics","Radiology","Orthopaedics"],this.title=i.title,this.id=i.id,this.name=i.name,this.mobile=i.mobile,this.email=i.email,this.gender=i.gender,this.department=i.department,this.birthdate=i.birthdate,this.qualification=i.qualification,this.buttonName=i.buttonName}ngOnInit(){this.form=this.fb.group({id:[this.id,[]],name:[this.name,[Mn.required,Mn.maxLength(10),Mn.minLength(10)]],mobile:[this.mobile,[Mn.required]],email:[this.email,[Mn.required]],gender:[this.gender,[Mn.required]],department:[this.department,[Mn.required]],birthdate:[this.birthdate,[Mn.required]],qualification:[this.qualification,[Mn.required]]})}cancelRegisteration(){this.dialogRef.close()}registerDoctor(){this.dialogRef.close(this.form.value)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Ub),s.Y36(xp),s.Y36(nd))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-add-doctor"]],decls:59,vars:11,consts:[["mat-dialog-title",""],[3,"formGroup"],["cols","2"],[1,"example-container"],["matInput","","placeholder","Ali","formControlName","name","required",""],[4,"ngIf"],["matInput","","placeholder","+923878757887","formControlName","mobile","required",""],["matInput","","placeholder","pat@example.com","formControlName","email","required",""],["matInput","","placeholder","ex MBBS","formControlName","qualification","required",""],["aria-label","Select an gender","color","primary","formControlName","gender"],["value","male"],["value","female"],["value","other"],["formControlName","department","name","department"],[3,"value",4,"ngFor","ngForOf"],["matInput","","formControlName","birthdate",3,"matDatepicker"],["matIconSuffix","",3,"for"],["picker",""],["mat-dialog-actions",""],["mat-raised-button","","mat-dialog-close","",3,"click"],["mat-raised-button","","color","primary","mat-dialog-close","",3,"click"],[3,"value"]],template:function(e,i){if(1&e&&(s.TgZ(0,"h2",0),s._uU(1),s.qZA(),s._UZ(2,"mat-divider"),s.TgZ(3,"mat-dialog-content",1)(4,"mat-grid-list",2)(5,"mat-grid-tile")(6,"div",3)(7,"mat-form-field")(8,"mat-label"),s._uU(9,"Enter full Name"),s.qZA(),s._UZ(10,"input",4),s.YNc(11,BY,2,0,"mat-error",5),s.qZA(),s.TgZ(12,"mat-form-field")(13,"mat-label"),s._uU(14,"Mobile Number"),s.qZA(),s._UZ(15,"input",6),s.YNc(16,UY,2,0,"mat-error",5),s.qZA(),s.TgZ(17,"mat-form-field")(18,"mat-label"),s._uU(19,"Email"),s.qZA(),s._UZ(20,"input",7),s.YNc(21,HY,2,0,"mat-error",5),s.qZA(),s.TgZ(22,"mat-form-field")(23,"mat-label"),s._uU(24,"Qualification"),s.qZA(),s._UZ(25,"input",8),s.YNc(26,jY,2,0,"mat-error",5),s.qZA()()(),s.TgZ(27,"mat-grid-tile")(28,"div")(29,"mat-label"),s._uU(30,"Gender"),s.qZA(),s.TgZ(31,"mat-radio-group",9),s._UZ(32,"br"),s.TgZ(33,"mat-radio-button",10),s._uU(34,"Male"),s.qZA(),s.TgZ(35,"mat-radio-button",11),s._uU(36,"Female"),s.qZA(),s.TgZ(37,"mat-radio-button",12),s._uU(38,"Other"),s.qZA()(),s.TgZ(39,"mat-form-field")(40,"mat-label"),s._uU(41,"Department"),s.qZA(),s.TgZ(42,"mat-select",13),s.YNc(43,GY,2,2,"mat-option",14),s.qZA()(),s.TgZ(44,"mat-form-field")(45,"mat-label"),s._uU(46,"Birthdate"),s.qZA(),s._UZ(47,"input",15),s.TgZ(48,"mat-hint"),s._uU(49,"MM/DD/YYYY"),s.qZA(),s._UZ(50,"mat-datepicker-toggle",16)(51,"mat-datepicker",null,17),s.YNc(53,zY,2,0,"mat-error",5),s.qZA()()()()(),s.TgZ(54,"div",18)(55,"button",19),s.NdJ("click",function(){return i.cancelRegisteration()}),s._uU(56,"Cancel"),s.qZA(),s.TgZ(57,"button",20),s.NdJ("click",function(){return i.registerDoctor()}),s._uU(58),s.qZA()()),2&e){const r=s.MAs(52);let o,u,h,_,b;s.xp6(1),s.Oqu(i.title),s.xp6(2),s.Q6J("formGroup",i.form),s.xp6(8),s.Q6J("ngIf",(null==(o=i.form.get("name"))?null:o.invalid)||(null==(o=i.form.get("name"))?null:o.dirty)||(null==(o=i.form.get("name"))?null:o.touched)),s.xp6(5),s.Q6J("ngIf",(null==(u=i.form.get("mobile"))?null:u.invalid)||(null==(u=i.form.get("mobile"))?null:u.dirty)||(null==(u=i.form.get("mobile"))?null:u.touched)),s.xp6(5),s.Q6J("ngIf",(null==(h=i.form.get("email"))?null:h.invalid)||(null==(h=i.form.get("email"))?null:h.dirty)||(null==(h=i.form.get("email"))?null:h.touched)),s.xp6(5),s.Q6J("ngIf",(null==(_=i.form.get("qualification"))?null:_.invalid)||(null==(_=i.form.get("qualification"))?null:_.dirty)||(null==(_=i.form.get("qualification"))?null:_.touched)),s.xp6(17),s.Q6J("ngForOf",i.departments),s.xp6(4),s.Q6J("matDatepicker",r),s.xp6(3),s.Q6J("for",r),s.xp6(3),s.Q6J("ngIf",(null==(b=i.form.get("birthdate"))?null:b.invalid)||(null==(b=i.form.get("birthdate"))?null:b.dirty)||(null==(b=i.form.get("birthdate"))?null:b.touched)),s.xp6(5),s.Oqu(i.buttonName)}},dependencies:[Vr,sn,Ls,xm,ab,s_,kp,Rp,h1,eI,tI,vd,f1,Zc,hf,rI,sI,g1,t_,S1,c0,I1,Dl,Fp,Sl,ka,xa,od],styles:["mat-dialog-content[_ngcontent-%COMP%]{width:600px}.mat-grid-list[_ngcontent-%COMP%]{overflow:hidden}.mat-radio-button[_ngcontent-%COMP%]{margin:right 15px}"]}),n})();function $Y(n,t){1&n&&(s.TgZ(0,"th",20),s._uU(1," Name "),s.qZA())}function qY(n,t){if(1&n&&(s.TgZ(0,"td",21),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.hij(" ",e.name," ")}}function ZY(n,t){1&n&&(s.TgZ(0,"th",20),s._uU(1," Mobile "),s.qZA())}function YY(n,t){if(1&n&&(s.TgZ(0,"td",21),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.hij(" ",e.mobile,"% ")}}function WY(n,t){1&n&&(s.TgZ(0,"th",20),s._uU(1," Email "),s.qZA())}function KY(n,t){if(1&n&&(s.TgZ(0,"td",21),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.hij(" ",e.email," ")}}function QY(n,t){1&n&&(s.TgZ(0,"th",20),s._uU(1," Department "),s.qZA())}function JY(n,t){if(1&n&&(s.TgZ(0,"td",21),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.hij(" ",e.department," ")}}function XY(n,t){1&n&&(s.TgZ(0,"th",20),s._uU(1," Gender "),s.qZA())}function e5(n,t){if(1&n&&(s.TgZ(0,"td",21),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.hij(" ",e.gender," ")}}function t5(n,t){1&n&&(s.TgZ(0,"th",20),s._uU(1," Actions "),s.qZA())}function n5(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"td",21)(1,"button",22)(2,"mat-icon"),s._uU(3,"more_vert"),s.qZA()(),s.TgZ(4,"mat-menu",null,23)(6,"button",24),s.NdJ("click",function(){const o=s.CHM(e).$implicit,u=s.oxw();return s.KtG(u.viewDoctor(o))}),s.TgZ(7,"mat-icon"),s._uU(8,"open_in_new"),s.qZA(),s.TgZ(9,"span"),s._uU(10,"View"),s.qZA()(),s.TgZ(11,"button",24),s.NdJ("click",function(){const o=s.CHM(e).$implicit,u=s.oxw();return s.KtG(u.editDoctor(o))}),s.TgZ(12,"mat-icon"),s._uU(13,"edit"),s.qZA(),s.TgZ(14,"span"),s._uU(15,"Edit"),s.qZA()(),s.TgZ(16,"button",24),s.NdJ("click",function(){const o=s.CHM(e).$implicit,u=s.oxw();return s.KtG(u.deleteDoctor(o))}),s.TgZ(17,"mat-icon"),s._uU(18,"delete"),s.qZA(),s.TgZ(19,"span"),s._uU(20,"Delete"),s.qZA()()()()}if(2&n){const e=s.MAs(5);s.xp6(1),s.Q6J("matMenuTriggerFor",e)}}function i5(n,t){1&n&&s._UZ(0,"tr",25)}function r5(n,t){1&n&&s._UZ(0,"tr",26)}function s5(n,t){if(1&n&&(s.TgZ(0,"tr",27)(1,"td",28),s._uU(2),s.qZA()()),2&n){s.oxw();const e=s.MAs(13);s.xp6(2),s.hij('No data matching the filter "',e.value,'"')}}const o5=function(){return[5,10,25,100]};let a5=(()=>{class n{constructor(e,i,r,o){this.dialog=e,this.dataApi=i,this._snackBar=r,this.router=o,this.doctorsArr=[],this.displayedColumns=["name","mobile","email","department","gender","actions"]}ngOnInit(){this.getAllDoctors()}addDoctor(){const e=new fs;e.disableClose=!0,e.autoFocus=!0,e.data={title:"Register doctor",buttonName:"Register"},this.dialog.open($1,e).afterClosed().subscribe(r=>{r&&(this.dataApi.addDoctor(r),this.openSnackBar("Registration of Doctor is sucessfull ","OK"))})}viewDoctor(e){this.router.navigate(["dashboard/doctor",e.id]),console.log(e)}deleteDoctor(e){const i=new fs;i.disableClose=!1,i.autoFocus=!0,i.data={title:"Delete doctor",doctorName:e.name},this.dialog.open(iU,i).afterClosed().subscribe(o=>{o&&(this.dataApi.deleteDoctors(e.id),this.openSnackBar("Doctor deleted sucessfully ","OK"))})}editDoctor(e){if(null==e.id||null==e.name)return;const i=new fs;i.disableClose=!0,i.autoFocus=!0,i.data=e,i.data.title="Edit Doctor",i.data.buttonName="Update",i.data.birthdate=e.birthdate.toDate(),this.dialog.open($1,i).afterClosed().subscribe(o=>{o&&(this.dataApi.updateDoctors(o),this.openSnackBar("Doctor is updated sucessfull ","OK"))})}getAllDoctors(){this.dataApi.getAllDoctors().subscribe(e=>{this.doctorsArr=e.map(i=>{const r=i.payload.doc.data();return r.id=i.payload.doc.id,r}),this.dataSource=new bI(this.doctorsArr),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort})}applyFilter(e){this.dataSource.filter=e.target.value.trim().toLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()}openSnackBar(e,i){this._snackBar.open(e,i)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(id),s.Y36(Am),s.Y36(CI),s.Y36(gi))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-doctor"]],viewQuery:function(e,i){if(1&e&&(s.Gf(bd,5),s.Gf(u0,5)),2&e){let r;s.iGM(r=s.CRH())&&(i.paginator=r.first),s.iGM(r=s.CRH())&&(i.sort=r.first)}},decls:38,vars:5,consts:[[1,"container"],[1,"row"],[1,"col-sn-6","col-md-4","mat-3"],[1,"add-doc","text-center",3,"click"],["matInput","","placeholder","Vison",3,"keyup"],["input",""],[1,"mat-elevation-z8"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","mobile"],["matColumnDef","email"],["matColumnDef","department"],["matColumnDef","gender"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Select page of users",3,"pageSizeOptions"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-icon-button","","aria-label","Example icon-button with a menu",3,"matMenuTriggerFor"],["menu","matMenu"],["mat-menu-item","",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"mat-card",3),s.NdJ("click",function(){return i.addDoctor()}),s.TgZ(4,"mat-card-content"),s._uU(5," Add Doctor "),s._UZ(6,"br"),s.TgZ(7,"mat-icon"),s._uU(8,"group_add"),s.qZA()()()()(),s.TgZ(9,"mat-form-field")(10,"mat-label"),s._uU(11,"Filter"),s.qZA(),s.TgZ(12,"input",4,5),s.NdJ("keyup",function(o){return i.applyFilter(o)}),s.qZA()(),s.TgZ(14,"div",6)(15,"table",7),s.ynx(16,8),s.YNc(17,$Y,2,0,"th",9),s.YNc(18,qY,2,1,"td",10),s.BQk(),s.ynx(19,11),s.YNc(20,ZY,2,0,"th",9),s.YNc(21,YY,2,1,"td",10),s.BQk(),s.ynx(22,12),s.YNc(23,WY,2,0,"th",9),s.YNc(24,KY,2,1,"td",10),s.BQk(),s.ynx(25,13),s.YNc(26,QY,2,0,"th",9),s.YNc(27,JY,2,1,"td",10),s.BQk(),s.ynx(28,14),s.YNc(29,XY,2,0,"th",9),s.YNc(30,e5,2,1,"td",10),s.BQk(),s.ynx(31,15),s.YNc(32,t5,2,0,"th",9),s.YNc(33,n5,21,1,"td",10),s.BQk(),s.YNc(34,i5,1,0,"tr",16),s.YNc(35,r5,1,0,"tr",17),s.YNc(36,s5,3,1,"tr",18),s.qZA(),s._UZ(37,"mat-paginator",19),s.qZA()()),2&e&&(s.xp6(15),s.Q6J("dataSource",i.dataSource),s.xp6(19),s.Q6J("matHeaderRowDef",i.displayedColumns),s.xp6(1),s.Q6J("matRowDefColumns",i.displayedColumns),s.xp6(2),s.Q6J("pageSizeOptions",s.DdM(4,o5)))},dependencies:[Rm,Ty,Ls,w0,vd,Zc,hf,f0,Ey,p0,Sy,Dy,m0,Iy,My,g0,_0,y0,bd,AI,Pm,xI],styles:[".add-doc[_ngcontent-%COMP%]{color:#3f51b5}.mat-card[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:hover{transform:scale(1.05)}table[_ngcontent-%COMP%]{width:100%}.mat-mdc-form-field[_ngcontent-%COMP%]{font-size:14px;width:100%}"]}),n})();function l5(n,t){1&n&&(s.TgZ(0,"th",21),s._uU(1," Name "),s.qZA())}function c5(n,t){if(1&n&&(s.TgZ(0,"td",22),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.hij(" ",null==e?null:e.patient_name," ")}}function u5(n,t){1&n&&(s.TgZ(0,"th",21),s._uU(1," Mobile "),s.qZA())}function d5(n,t){if(1&n&&(s.TgZ(0,"td",22),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.hij(" ",null==e?null:e.mobile," ")}}function h5(n,t){1&n&&(s.TgZ(0,"th",21),s._uU(1," Gender "),s.qZA())}function f5(n,t){if(1&n&&(s.TgZ(0,"td",22),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.hij(" ",null==e?null:e.gender," ")}}function p5(n,t){1&n&&(s.TgZ(0,"th",21),s._uU(1," Gender "),s.qZA())}function m5(n,t){if(1&n&&(s.TgZ(0,"td",22),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.hij(" ",null==e?null:e.prescription," ")}}function g5(n,t){1&n&&(s.TgZ(0,"th",21),s._uU(1," Action "),s.qZA())}function _5(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"td",22)(1,"button",23)(2,"mat-icon"),s._uU(3,"more_vert"),s.qZA()(),s.TgZ(4,"mat-menu",null,24)(6,"button",25),s.NdJ("click",function(){const o=s.CHM(e).$implicit,u=s.oxw();return s.KtG(u.viewPatient(o))}),s.TgZ(7,"mat-icon"),s._uU(8,"open_in_new"),s.qZA(),s.TgZ(9,"span"),s._uU(10,"View"),s.qZA()(),s.TgZ(11,"button",25),s.NdJ("click",function(){const o=s.CHM(e).$implicit,u=s.oxw();return s.KtG(u.editPatient(o))}),s.TgZ(12,"mat-icon"),s._uU(13,"edit"),s.qZA(),s.TgZ(14,"span"),s._uU(15,"Edit"),s.qZA()()()()}if(2&n){const e=s.MAs(5);s.xp6(1),s.Q6J("matMenuTriggerFor",e)}}function y5(n,t){1&n&&s._UZ(0,"tr",26)}function v5(n,t){1&n&&s._UZ(0,"tr",27)}function b5(n,t){if(1&n&&(s.TgZ(0,"tr",28)(1,"td",29),s._uU(2),s.qZA()()),2&n){s.oxw();const e=s.MAs(35);s.xp6(2),s.hij('No data matching the filter "',e.value,'"')}}const w5=function(){return[5,10,25,100]};let C5=(()=>{class n{constructor(e,i,r,o){this.route=e,this.dataApi=i,this.dialog=r,this._snackBar=o,this.displayedColumns=["name","mobile","gender","prescription","actions"],this.allPatients=[]}ngOnInit(){this.id=this.route.snapshot.paramMap.get("id"),this.getDoctorsbyId(),this.getAllPatientsForDoctor()}getDoctorsbyId(){this.dataApi.getDoctorsbyID(this.id).subscribe(e=>{this.doctorObj=e,console.log(this.doctorObj)})}getAllPatientsForDoctor(){this.dataApi.getAllPatients().subscribe(e=>{this.allPatients=e.map(i=>{const r=i.payload.doc.data();if(r.doctor_id==this.id)return r.patient_id=i.payload.doc.id,r}),this.allPatients=this.allPatients.filter(i=>null!=i),this.dataSource=new bI(this.allPatients),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort})}applyFilter(e){this.dataSource.filter=e.target.value.trim().toLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()}viewPatient(e){}editPatient(e){if(null==e.patient_id||null==e.patient_name)return;const i=new fs;i.disableClose=!0,i.autoFocus=!0,i.data=e,i.data.title="Edit patient",i.data.buttonName="Update",i.data.admission_date=e.admission_date.toDate(),console.log(i.data),this.dialog.open(M1,i).afterClosed().subscribe(o=>{o&&this.dataApi.updatePatient(o)})}openSnackBar(e,i){this._snackBar.open(e,i)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(ds),s.Y36(Am),s.Y36(id),s.Y36(CI))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-view-doctor"]],viewQuery:function(e,i){if(1&e&&(s.Gf(bd,5),s.Gf(u0,5)),2&e){let r;s.iGM(r=s.CRH())&&(i.paginator=r.first),s.iGM(r=s.CRH())&&(i.sort=r.first)}},decls:57,vars:11,consts:[["color","primary",1,"m-3",2,"font-weight","700"],[1,"m-3"],[1,"row","pt-3"],[1,"col-md-6"],["color","primary",1,"mt-4",2,"font-weight","700"],["appearance","standard"],["matInput","","placeholder","Ex. code logic",3,"keyup"],["input",""],[1,"mat-elevation-z8"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","mobile"],["matColumnDef","gender"],["matColumnDef","prescription"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Select page of users",3,"pageSizeOptions"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-icon-button","","aria-label","Example icon-button with a menu",3,"matMenuTriggerFor"],["menu","matMenu"],["mat-menu-item","",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(e,i){1&e&&(s.TgZ(0,"h2",0),s._uU(1,"Doctor Information"),s.qZA(),s.TgZ(2,"mat-card",1)(3,"mat-card-title"),s._uU(4),s.qZA(),s.TgZ(5,"mat-card-subtitle"),s._uU(6),s.qZA(),s._UZ(7,"mat-divider"),s.TgZ(8,"div",2)(9,"div",3)(10,"mat-card-content")(11,"span"),s._uU(12," Email : "),s.qZA(),s._uU(13),s._UZ(14,"br"),s.TgZ(15,"span"),s._uU(16," Mobile : "),s.qZA(),s._uU(17),s._UZ(18,"br"),s.qZA()(),s.TgZ(19,"div",3)(20,"mat-card-content")(21,"span"),s._uU(22," Gender : "),s.qZA(),s._uU(23),s._UZ(24,"br"),s.TgZ(25,"span"),s._uU(26," Department : "),s.qZA(),s._uU(27),s.qZA()()()(),s.TgZ(28,"div",1)(29,"h2",4),s._uU(30,"Patient Information"),s.qZA(),s.TgZ(31,"mat-form-field",5)(32,"mat-label"),s._uU(33,"Filter"),s.qZA(),s.TgZ(34,"input",6,7),s.NdJ("keyup",function(o){return i.applyFilter(o)}),s.qZA()(),s.TgZ(36,"div",8)(37,"table",9),s.ynx(38,10),s.YNc(39,l5,2,0,"th",11),s.YNc(40,c5,2,1,"td",12),s.BQk(),s.ynx(41,13),s.YNc(42,u5,2,0,"th",11),s.YNc(43,d5,2,1,"td",12),s.BQk(),s.ynx(44,14),s.YNc(45,h5,2,0,"th",11),s.YNc(46,f5,2,1,"td",12),s.BQk(),s.ynx(47,15),s.YNc(48,p5,2,0,"th",11),s.YNc(49,m5,2,1,"td",12),s.BQk(),s.ynx(50,16),s.YNc(51,g5,2,0,"th",11),s.YNc(52,_5,16,1,"td",12),s.BQk(),s.YNc(53,y5,1,0,"tr",17),s.YNc(54,v5,1,0,"tr",18),s.YNc(55,b5,3,1,"tr",19),s.qZA(),s._UZ(56,"mat-paginator",20),s.qZA()()),2&e&&(s.xp6(4),s.hij(" ",null==i.doctorObj?null:i.doctorObj.name," "),s.xp6(2),s.hij(" ",null==i.doctorObj?null:i.doctorObj.qualification," "),s.xp6(7),s.hij(" ",null==i.doctorObj?null:i.doctorObj.email," "),s.xp6(4),s.hij(" ",null==i.doctorObj?null:i.doctorObj.mobile," "),s.xp6(6),s.hij(" ",null==i.doctorObj?null:i.doctorObj.gender," "),s.xp6(4),s.hij(" ",null==i.doctorObj?null:i.doctorObj.department," "),s.xp6(10),s.Q6J("dataSource",i.dataSource),s.xp6(16),s.Q6J("matHeaderRowDef",i.displayedColumns),s.xp6(1),s.Q6J("matRowDefColumns",i.displayedColumns),s.xp6(2),s.Q6J("pageSizeOptions",s.DdM(10,w5)))},dependencies:[Rm,Ty,DI,q4,Ls,w0,xm,vd,Zc,hf,f0,Ey,p0,Sy,Dy,m0,Iy,My,g0,_0,y0,bd,AI,Pm,xI],styles:["span[_ngcontent-%COMP%]{font-size:larger;font-weight:300}.mat-card-title[_ngcontent-%COMP%]{font-weight:300!important;font-size:25px}table[_ngcontent-%COMP%]{width:100%}.mat-form-field[_ngcontent-%COMP%]{font-size:14px;width:100%}"]}),n})(),D5=(()=>{class n{constructor(e,i){this.route=e,this.dataApi=i,this.patient_id=e.snapshot.paramMap.get("id")}ngOnInit(){this.getPatientById()}getPatientById(){this.dataApi.getPatientById(this.patient_id).subscribe(e=>{this.patientObj=e,this.patientObj.admission_date=this.patientObj.admission_date.toDate(),console.log(e)})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(ds),s.Y36(Am))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-view-patient"]],decls:32,vars:8,consts:[["color","primary",1,"mt-3",2,"font-weight","700"],[1,"m-3"],[1,"pb-2"],[1,"row","pt-3"],[1,"col-md-6"]],template:function(e,i){1&e&&(s.TgZ(0,"h2",0),s._uU(1,"Patient Information"),s.qZA(),s.TgZ(2,"mat-card",1)(3,"mat-card-title",2),s._uU(4," Patient Name : "),s.TgZ(5,"b"),s._uU(6),s.qZA()(),s._UZ(7,"mat-divider"),s.TgZ(8,"div",3)(9,"div",4)(10,"mat-card-content")(11,"span"),s._uU(12," Doctor Name : "),s.qZA(),s._uU(13),s._UZ(14,"br"),s.TgZ(15,"span"),s._uU(16," Mobile : "),s.qZA(),s._uU(17),s._UZ(18,"br"),s.TgZ(19,"span"),s._uU(20," Prescription : "),s.qZA(),s._uU(21),s.qZA()(),s.TgZ(22,"div",4)(23,"mat-card-content")(24,"span"),s._uU(25," Gender : "),s.qZA(),s._uU(26),s._UZ(27,"br"),s.TgZ(28,"span"),s._uU(29," Adminssion Date : "),s.qZA(),s._uU(30),s.ALo(31,"date"),s.qZA()()()()),2&e&&(s.xp6(6),s.Oqu(null==i.patientObj?null:i.patientObj.patient_name),s.xp6(7),s.hij(" ",i.patientObj.doctor_name," "),s.xp6(4),s.hij(" ",i.patientObj.mobile," "),s.xp6(4),s.hij(" ",i.patientObj.prescription," "),s.xp6(5),s.hij(" ",i.patientObj.gender," "),s.xp6(4),s.hij(" ",s.lcZ(31,6,i.patientObj.admission_date)," "))},dependencies:[Rm,Ty,DI,xm,Cf],styles:["span[_ngcontent-%COMP%]{font-size:larger;font-weight:300;margin-right:15px}.mat-card-title[_ngcontent-%COMP%]{font-weight:300!important;font-size:25px}"]}),n})(),kI=(()=>{class n{constructor(e,i){this.auth=e,this.router=i}login(e,i){var r=this;this.auth.signInWithEmailAndPassword(e,i).then(o=>{this.auth.authState.subscribe(function(){var u=(0,ye.Z)(function*(h){h&&(localStorage.setItem("user",JSON.stringify(h)),yield r.router.navigate(["/dashboard"]),location.reload())});return function(h){return u.apply(this,arguments)}}())}).catch(o=>{console.log(o)})}logout(){var e=this;return(0,ye.Z)(function*(){localStorage.setItem("user","null"),yield e.router.navigate([""]),location.reload()})()}isUserLoggedIn(){return null!==JSON.parse(localStorage.getItem("user"))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(l1),s.LFG(gi))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function E5(n,t){1&n&&(s.TgZ(0,"mat-error"),s._uU(1,"Enter valid email address "),s.qZA())}function S5(n,t){1&n&&(s.TgZ(0,"mat-error"),s._uU(1,"Enter valid qualification "),s.qZA())}let I5=(()=>{class n{constructor(e,i){this.authApi=e,this.fb=i,this.email="",this.password="",this.form=this.fb.group({email:[this.email,[Mn.required,Mn.email]],password:[this.password,[Mn.required]]})}ngOnInit(){}login(){this.authApi.login(this.form.value.email,this.form.value.password)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(kI),s.Y36(Ub))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-login"]],decls:21,vars:4,consts:[[1,"row","mt-5"],[1,"col"],[3,"formGroup"],["matInput","","placeholder","pat@example.com","formControlName","email","required",""],[4,"ngIf"],["matInput","","placeholder","","formControlName","password","required","","type","password"],["mat-raised-button","","color","primary",1,"mt-3",3,"disabled","click"]],template:function(e,i){if(1&e&&(s.TgZ(0,"div",0),s._UZ(1,"div",1),s.TgZ(2,"div",1)(3,"mat-card")(4,"div",2)(5,"mat-card-title"),s._uU(6,"Login"),s.qZA(),s.TgZ(7,"mat-form-field")(8,"mat-label"),s._uU(9,"Email"),s.qZA(),s._UZ(10,"input",3),s.YNc(11,E5,2,0,"mat-error",4),s.qZA(),s.TgZ(12,"mat-form-field")(13,"mat-label"),s._uU(14,"Password"),s.qZA(),s._UZ(15,"input",5),s.YNc(16,S5,2,0,"mat-error",4),s.qZA()(),s.TgZ(17,"div")(18,"button",6),s.NdJ("click",function(){return i.login()}),s._uU(19," Login "),s.qZA()()()(),s._UZ(20,"div",1),s.qZA()),2&e){let r,o;s.xp6(4),s.Q6J("formGroup",i.form),s.xp6(7),s.Q6J("ngIf",(null==(r=i.form.get("email"))?null:r.invalid)||(null==(r=i.form.get("email"))?null:r.dirty)||(null==(r=i.form.get("email"))?null:r.touched)),s.xp6(5),s.Q6J("ngIf",(null==(o=i.form.get("password"))?null:o.invalid)||(null==(o=i.form.get("password"))?null:o.dirty)||(null==(o=i.form.get("password"))?null:o.touched)),s.xp6(2),s.Q6J("disabled",i.form.invalid)}},dependencies:[sn,Rm,DI,Ls,tI,vd,Zc,hf,Dl,Fp,Sl,ka,xa,od],styles:[".mat-card[_ngcontent-%COMP%]{padding:10px}.mat-form-field[_ngcontent-%COMP%]{width:100%;margin-top:10px}"]}),n})(),M5=(()=>{class n{constructor(e){this.authApi=e}canActivate(e,i){return this.authApi.isUserLoggedIn()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(kI))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function T5(n,t){1&n&&(s.TgZ(0,"mat-error"),s._uU(1,"Enter full Name"),s.qZA())}function A5(n,t){1&n&&(s.TgZ(0,"mat-error"),s._uU(1,"Enter father Name"),s.qZA())}function x5(n,t){1&n&&(s.TgZ(0,"mat-error"),s._uU(1,"Select birthdate"),s.qZA())}let k5=(()=>{class n{constructor(e,i,r){this.fb=e,this.dialogRef=r,this.title=i.title,this.id=i.id,this.name=i.name,this.fathername=i.mobile,this.gender=i.gender,this.birthdate=i.birthdate,this.buttonName=i.buttonName}ngOnInit(){this.form=this.fb.group({id:[this.id,[]],name:[this.name,[Mn.required,Mn.maxLength(10),Mn.minLength(10)]],fathername:[this.fathername,[Mn.required]],gender:[this.gender,[Mn.required]],birthdate:[this.birthdate,[Mn.required]]})}cancelRegisteration(){this.dialogRef.close()}registerDoctor(){this.dialogRef.close(this.form.value)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Ub),s.Y36(xp),s.Y36(nd))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-add-birth-certificate"]],decls:44,vars:8,consts:[["mat-dialog-title",""],[3,"formGroup"],["cols","2"],[1,"example-container"],["matInput","","placeholder","Ali khan","formControlName","name","required",""],[4,"ngIf"],["matInput","","formControlName","fathername","required",""],["aria-label","Select an gender","color","primary","formControlName","gender"],["value","male"],["value","female"],["value","other"],["matInput","","formControlName","birthdate",3,"matDatepicker"],["matIconSuffix","",3,"for"],["picker",""],["mat-dialog-actions",""],["mat-raised-button","","mat-dialog-close","",3,"click"],["mat-raised-button","","color","primary","mat-dialog-close","",3,"click"]],template:function(e,i){if(1&e&&(s.TgZ(0,"h2",0),s._uU(1),s.qZA(),s._UZ(2,"mat-divider"),s.TgZ(3,"mat-dialog-content",1)(4,"mat-grid-list",2)(5,"mat-grid-tile")(6,"div",3)(7,"mat-form-field")(8,"mat-label"),s._uU(9,"Enter full Name"),s.qZA(),s._UZ(10,"input",4),s.YNc(11,T5,2,0,"mat-error",5),s.qZA(),s.TgZ(12,"mat-form-field")(13,"mat-label"),s._uU(14,"Father Name"),s.qZA(),s._UZ(15,"input",6),s.YNc(16,A5,2,0,"mat-error",5),s.qZA()()(),s.TgZ(17,"mat-grid-tile")(18,"div")(19,"mat-label"),s._uU(20,"Gender"),s.qZA(),s.TgZ(21,"mat-radio-group",7),s._UZ(22,"br"),s.TgZ(23,"mat-radio-button",8),s._uU(24,"Male"),s.qZA(),s.TgZ(25,"mat-radio-button",9),s._uU(26,"Female"),s.qZA(),s.TgZ(27,"mat-radio-button",10),s._uU(28,"Other"),s.qZA()(),s.TgZ(29,"mat-form-field")(30,"mat-label"),s._uU(31,"Birthdate"),s.qZA(),s._UZ(32,"input",11),s.TgZ(33,"mat-hint"),s._uU(34,"MM/DD/YYYY"),s.qZA(),s._UZ(35,"mat-datepicker-toggle",12)(36,"mat-datepicker",null,13),s.YNc(38,x5,2,0,"mat-error",5),s.qZA()()()()(),s.TgZ(39,"div",14)(40,"button",15),s.NdJ("click",function(){return i.cancelRegisteration()}),s._uU(41,"Cancel"),s.qZA(),s.TgZ(42,"button",16),s.NdJ("click",function(){return i.registerDoctor()}),s._uU(43),s.qZA()()),2&e){const r=s.MAs(37);let o,u,h;s.xp6(1),s.Oqu(i.title),s.xp6(2),s.Q6J("formGroup",i.form),s.xp6(8),s.Q6J("ngIf",(null==(o=i.form.get("name"))?null:o.invalid)||(null==(o=i.form.get("name"))?null:o.dirty)||(null==(o=i.form.get("name"))?null:o.touched)),s.xp6(5),s.Q6J("ngIf",(null==(u=i.form.get("fathername"))?null:u.invalid)||(null==(u=i.form.get("fathername"))?null:u.dirty)||(null==(u=i.form.get("fathername"))?null:u.touched)),s.xp6(16),s.Q6J("matDatepicker",r),s.xp6(3),s.Q6J("for",r),s.xp6(3),s.Q6J("ngIf",(null==(h=i.form.get("birthdate"))?null:h.invalid)||(null==(h=i.form.get("birthdate"))?null:h.dirty)||(null==(h=i.form.get("birthdate"))?null:h.touched)),s.xp6(5),s.Oqu(i.buttonName)}},dependencies:[sn,Ls,xm,ab,s_,kp,Rp,h1,eI,tI,vd,f1,Zc,hf,rI,sI,S1,c0,I1,Dl,Fp,Sl,ka,xa,od],styles:["mat-dialog-content[_ngcontent-%COMP%]{width:600px}.mat-grid-list[_ngcontent-%COMP%]{overflow:hidden}.mat-radio-button[_ngcontent-%COMP%]{margin:right 15px}"]}),n})(),R5=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-delete-birth-certificate"]],decls:2,vars:0,template:function(e,i){1&e&&(s.TgZ(0,"p"),s._uU(1,"delete-birth-certificate works!"),s.qZA())}}),n})();function O5(n,t){1&n&&(s.TgZ(0,"th",18),s._uU(1," Child Name "),s.qZA())}function P5(n,t){if(1&n&&(s.TgZ(0,"td",19),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.hij(" ",e.name," ")}}function F5(n,t){1&n&&(s.TgZ(0,"th",18),s._uU(1," Father name "),s.qZA())}function N5(n,t){if(1&n&&(s.TgZ(0,"td",19),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.hij(" ",e.fathername,"% ")}}function L5(n,t){1&n&&(s.TgZ(0,"th",18),s._uU(1," Gender "),s.qZA())}function V5(n,t){if(1&n&&(s.TgZ(0,"td",19),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.hij(" ",e.gender," ")}}function B5(n,t){1&n&&(s.TgZ(0,"th",18),s._uU(1," Actions "),s.qZA())}function U5(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"td",19)(1,"button",20)(2,"mat-icon"),s._uU(3,"more_vert"),s.qZA()(),s.TgZ(4,"mat-menu",null,21)(6,"button",22),s.NdJ("click",function(){const o=s.CHM(e).$implicit,u=s.oxw();return s.KtG(u.viewDoctor(o))}),s.TgZ(7,"mat-icon"),s._uU(8,"open_in_new"),s.qZA(),s.TgZ(9,"span"),s._uU(10,"View"),s.qZA()(),s.TgZ(11,"button",22),s.NdJ("click",function(){const o=s.CHM(e).$implicit,u=s.oxw();return s.KtG(u.editDoctor(o))}),s.TgZ(12,"mat-icon"),s._uU(13,"edit"),s.qZA(),s.TgZ(14,"span"),s._uU(15,"Edit"),s.qZA()(),s.TgZ(16,"button",22),s.NdJ("click",function(){const o=s.CHM(e).$implicit,u=s.oxw();return s.KtG(u.deleteDoctor(o))}),s.TgZ(17,"mat-icon"),s._uU(18,"delete"),s.qZA(),s.TgZ(19,"span"),s._uU(20,"Delete"),s.qZA()()()()}if(2&n){const e=s.MAs(5);s.xp6(1),s.Q6J("matMenuTriggerFor",e)}}function H5(n,t){1&n&&s._UZ(0,"tr",23)}function j5(n,t){1&n&&s._UZ(0,"tr",24)}function G5(n,t){if(1&n&&(s.TgZ(0,"tr",25)(1,"td",26),s._uU(2),s.qZA()()),2&n){s.oxw();const e=s.MAs(13);s.xp6(2),s.hij('No data matching the filter "',e.value,'"')}}const z5=function(){return[5,10,25,100]},$5=[{path:"dashboard",children:[{path:"",redirectTo:"patient",pathMatch:"full"},{path:"patient",component:VY},{path:"doctor",component:a5},{path:"birth-certificate",component:(()=>{class n{constructor(e,i,r,o){this.dialog=e,this.dataApi=i,this._snackBar=r,this.router=o,this.certifiacteArr=[],this.displayedColumns=["name","fathername","gender","actions"]}ngOnInit(){this.getAllBirthCertificate()}addBCertificate(){const e=new fs;e.disableClose=!0,e.autoFocus=!0,e.data={title:"Register birth Certificate",buttonName:"Register"},this.dialog.open(k5,e).afterClosed().subscribe(r=>{r&&(this.dataApi.addBirthCer(r),this.openSnackBar("Register birth Certificate sucessfully ","OK"))})}viewDoctor(e){window.open("/dashboard/birthcertificate/"+e.id,"_blank"),console.log(e)}deleteDoctor(e){const i=new fs;i.disableClose=!1,i.autoFocus=!0,i.data={title:"Delete Birth Certificate",doctorName:e.name},this.dialog.open(R5,i).afterClosed().subscribe(o=>{o&&(this.dataApi.deleteDoctors(e.id),this.openSnackBar("Birth Certificate deleted sucessfully ","OK"))})}editDoctor(e){if(null==e.id||null==e.name)return;const i=new fs;i.disableClose=!0,i.autoFocus=!0,i.data=e,i.data.title="Edit Doctor",i.data.buttonName="Update",i.data.birthdate=e.birthdate.toDate(),this.dialog.open($1,i).afterClosed().subscribe(o=>{o&&(this.dataApi.updateDoctors(o),this.openSnackBar("Doctor is updated sucessfull ","OK"))})}getAllBirthCertificate(){this.dataApi.getAllBirthCertificate().subscribe(e=>{this.certifiacteArr=e.map(i=>{const r=i.payload.doc.data();return r.id=i.payload.doc.id,r}),this.dataSource=new bI(this.certifiacteArr),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort})}applyFilter(e){this.dataSource.filter=e.target.value.trim().toLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()}openSnackBar(e,i){this._snackBar.open(e,i)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(id),s.Y36(Am),s.Y36(CI),s.Y36(gi))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-birth-certificate"]],viewQuery:function(e,i){if(1&e&&(s.Gf(bd,5),s.Gf(u0,5)),2&e){let r;s.iGM(r=s.CRH())&&(i.paginator=r.first),s.iGM(r=s.CRH())&&(i.sort=r.first)}},decls:32,vars:5,consts:[[1,"container"],[1,"row"],[1,"col-sn-6","col-md-4","mat-3"],[1,"add-doc","text-center",3,"click"],["matInput","","placeholder","Vison",3,"keyup"],["input",""],[1,"mat-elevation-z8"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","fathername"],["matColumnDef","gender"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Select page of users",3,"pageSizeOptions"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-icon-button","","aria-label","Example icon-button with a menu",3,"matMenuTriggerFor"],["menu","matMenu"],["mat-menu-item","",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"mat-card",3),s.NdJ("click",function(){return i.addBCertificate()}),s.TgZ(4,"mat-card-content"),s._uU(5," Add Birth Certificate "),s._UZ(6,"br"),s.TgZ(7,"mat-icon"),s._uU(8,"group_add"),s.qZA()()()()(),s.TgZ(9,"mat-form-field")(10,"mat-label"),s._uU(11,"Filter"),s.qZA(),s.TgZ(12,"input",4,5),s.NdJ("keyup",function(o){return i.applyFilter(o)}),s.qZA()(),s.TgZ(14,"div",6)(15,"table",7),s.ynx(16,8),s.YNc(17,O5,2,0,"th",9),s.YNc(18,P5,2,1,"td",10),s.BQk(),s.ynx(19,11),s.YNc(20,F5,2,0,"th",9),s.YNc(21,N5,2,1,"td",10),s.BQk(),s.ynx(22,12),s.YNc(23,L5,2,0,"th",9),s.YNc(24,V5,2,1,"td",10),s.BQk(),s.ynx(25,13),s.YNc(26,B5,2,0,"th",9),s.YNc(27,U5,21,1,"td",10),s.BQk(),s.YNc(28,H5,1,0,"tr",14),s.YNc(29,j5,1,0,"tr",15),s.YNc(30,G5,3,1,"tr",16),s.qZA(),s._UZ(31,"mat-paginator",17),s.qZA()()),2&e&&(s.xp6(15),s.Q6J("dataSource",i.dataSource),s.xp6(13),s.Q6J("matHeaderRowDef",i.displayedColumns),s.xp6(1),s.Q6J("matRowDefColumns",i.displayedColumns),s.xp6(2),s.Q6J("pageSizeOptions",s.DdM(4,z5)))},dependencies:[Rm,Ty,Ls,w0,vd,Zc,hf,f0,Ey,p0,Sy,Dy,m0,Iy,My,g0,_0,y0,bd,AI,Pm,xI],styles:[".add-doc[_ngcontent-%COMP%]{color:#3f51b5}.mat-card[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:hover{transform:scale(1.05)}table[_ngcontent-%COMP%]{width:100%}.mat-mdc-form-field[_ngcontent-%COMP%]{font-size:14px;width:100%}"]}),n})()},{path:"deathcertificate",component:(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-deathcertificate"]],decls:2,vars:0,template:function(e,i){1&e&&(s.TgZ(0,"p"),s._uU(1,"deathcertificate works!"),s.qZA())}}),n})()},{path:"doctor/:id",component:C5},{path:"birthcertificate/:id",component:(()=>{class n{constructor(e,i){this.route=e,this.dataApi=i,this.id=e.snapshot.paramMap.get("id")}ngOnInit(){this.getbirthcertificatebyId()}getbirthcertificatebyId(){this.dataApi.getbirthcertificatebyId(this.id).subscribe(e=>{this.birthcertificateObj=e,this.birthcertificateObj.birthdate=this.birthcertificateObj.birthdate.toDate(),console.log(e)})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(ds),s.Y36(Am))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-view-birth-certificate"]],viewQuery:function(e,i){if(1&e&&(s.Gf(bd,5),s.Gf(u0,5)),2&e){let r;s.iGM(r=s.CRH())&&(i.paginator=r.first),s.iGM(r=s.CRH())&&(i.sort=r.first)}},decls:22,vars:4,consts:[["color","primary",1,"m-3",2,"font-weight","700"],[1,"m-3"],[1,"row","pt-3"],[1,"col-md-6"]],template:function(e,i){1&e&&(s.TgZ(0,"h2",0),s._uU(1,"Birth Certificate Details"),s.qZA(),s.TgZ(2,"mat-card",1)(3,"mat-card-title"),s._uU(4),s.qZA(),s._UZ(5,"mat-divider"),s.TgZ(6,"div",2)(7,"div",3)(8,"mat-card-content")(9,"span"),s._uU(10," Father Name : "),s.qZA(),s._uU(11),s._UZ(12,"br"),s.TgZ(13,"span"),s._uU(14," Gender : "),s.qZA(),s._uU(15),s._UZ(16,"br"),s.qZA()(),s.TgZ(17,"div",3)(18,"mat-card-content")(19,"span"),s._uU(20," Date of birth : "),s.qZA(),s._uU(21),s.qZA()()()()),2&e&&(s.xp6(4),s.hij(" ",null==i.birthcertificateObj?null:i.birthcertificateObj.name," "),s.xp6(7),s.hij(" ",null==i.birthcertificateObj?null:i.birthcertificateObj.fathername," "),s.xp6(4),s.hij(" ",null==i.birthcertificateObj?null:i.birthcertificateObj.gender," "),s.xp6(6),s.hij(" ",null==i.birthcertificateObj?null:i.birthcertificateObj.birthdate," "))},dependencies:[Rm,Ty,DI,xm]}),n})()},{path:"patient/:id",component:D5}],canActivate:[M5]},{path:"login",component:I5},{path:"",redirectTo:"login",pathMatch:"full"}];let q5=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[cv.forRoot($5),cv]}),n})();const Z5=["*",[["mat-toolbar-row"]]],Y5=["*","mat-toolbar-row"],W5=Jg(class{constructor(n){this._elementRef=n}});let K5=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),n})(),Q5=(()=>{class n extends W5{constructor(e,i,r){super(e),this._platform=i,this._document=r}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(En),s.Y36(te))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-toolbar"]],contentQueries:function(e,i,r){if(1&e&&s.Suo(r,K5,5),2&e){let o;s.iGM(o=s.CRH())&&(i._toolbarRows=o)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(e,i){2&e&&s.ekj("mat-toolbar-multiple-rows",i._toolbarRows.length>0)("mat-toolbar-single-row",0===i._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[s.qOj],ngContentSelectors:Y5,decls:2,vars:0,template:function(e,i){1&e&&(s.F$t(Z5),s.Hsn(0),s.Hsn(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}\n"],encapsulation:2,changeDetection:0}),n})(),MU=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[Wt],Wt]}),n})();const RI=["*"],J5=["content"];function X5(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",2),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r._onBackdropClicked())}),s.qZA()}if(2&n){const e=s.oxw();s.ekj("mat-drawer-shown",e._isShowingBackdrop())}}function e8(n,t){1&n&&(s.TgZ(0,"mat-drawer-content"),s.Hsn(1,2),s.qZA())}const t8=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],n8=["mat-drawer","mat-drawer-content","*"];function r8(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",2),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r._onBackdropClicked())}),s.qZA()}if(2&n){const e=s.oxw();s.ekj("mat-drawer-shown",e._isShowingBackdrop())}}function s8(n,t){1&n&&(s.TgZ(0,"mat-sidenav-content"),s.Hsn(1,2),s.qZA())}const o8=[[["mat-sidenav"]],[["mat-sidenav-content"]],"*"],a8=["mat-sidenav","mat-sidenav-content","*"],TU={transformDrawer:pr("transform",[Pn("open, open-instant",Ct({transform:"none",visibility:"visible"})),Pn("void",Ct({"box-shadow":"none",visibility:"hidden"})),kn("void => open-instant",Vn("0ms")),kn("void <=> open, open-instant => void",Vn("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])},c8=new s.OlP("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:function u8(){return!1}}),q1=new s.OlP("MAT_DRAWER_CONTAINER");let OI=(()=>{class n extends Ng{constructor(e,i,r,o,u){super(r,o,u),this._changeDetectorRef=e,this._container=i}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.sBO),s.Y36((0,s.Gpc)(()=>xU)),s.Y36(s.SBq),s.Y36(Fg),s.Y36(s.R0b))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-drawer-content"]],hostAttrs:[1,"mat-drawer-content"],hostVars:4,hostBindings:function(e,i){2&e&&s.Udp("margin-left",i._container._contentMargins.left,"px")("margin-right",i._container._contentMargins.right,"px")},features:[s._Bn([{provide:Ng,useExisting:n}]),s.qOj],ngContentSelectors:RI,decls:1,vars:0,template:function(e,i){1&e&&(s.F$t(),s.Hsn(0))},encapsulation:2,changeDetection:0}),n})(),AU=(()=>{class n{constructor(e,i,r,o,u,h,_,b){this._elementRef=e,this._focusTrapFactory=i,this._focusMonitor=r,this._platform=o,this._ngZone=u,this._interactivityChecker=h,this._doc=_,this._container=b,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._opened=!1,this._animationStarted=new Ze.x,this._animationEnd=new Ze.x,this._animationState="void",this.openedChange=new s.vpe(!0),this._openedStream=this.openedChange.pipe(S(D=>D),(0,Ge.U)(()=>{})),this.openedStart=this._animationStarted.pipe(S(D=>D.fromState!==D.toState&&0===D.toState.indexOf("open")),Is(void 0)),this._closedStream=this.openedChange.pipe(S(D=>!D),(0,Ge.U)(()=>{})),this.closedStart=this._animationStarted.pipe(S(D=>D.fromState!==D.toState&&"void"===D.toState),Is(void 0)),this._destroyed=new Ze.x,this.onPositionChanged=new s.vpe,this._modeChanged=new Ze.x,this.openedChange.subscribe(D=>{D?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus(this._openedVia||"program")}),this._ngZone.runOutsideAngular(()=>{Ic(this._elementRef.nativeElement,"keydown").pipe(S(D=>27===D.keyCode&&!this.disableClose&&!hr(D)),Vt(this._destroyed)).subscribe(D=>this._ngZone.run(()=>{this.close(),D.stopPropagation(),D.preventDefault()}))}),this._animationEnd.pipe(Dp((D,M)=>D.fromState===M.fromState&&D.toState===M.toState)).subscribe(D=>{const{fromState:M,toState:O}=D;(0===O.indexOf("open")&&"void"===M||"void"===O&&0===M.indexOf("open"))&&this.openedChange.emit(this._opened)})}get position(){return this._position}set position(e){(e="end"===e?"end":"start")!==this._position&&(this._isAttached&&this._updatePositionInParent(e),this._position=e,this.onPositionChanged.emit())}get mode(){return this._mode}set mode(e){this._mode=e,this._updateFocusTrapState(),this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose(e){this._disableClose=Mt(e)}get autoFocus(){return this._autoFocus??("side"===this.mode?"dialog":"first-tabbable")}set autoFocus(e){("true"===e||"false"===e||null==e)&&(e=Mt(e)),this._autoFocus=e}get opened(){return this._opened}set opened(e){this.toggle(Mt(e))}_forceFocus(e,i){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const r=()=>{e.removeEventListener("blur",r),e.removeEventListener("mousedown",r),e.removeAttribute("tabindex")};e.addEventListener("blur",r),e.addEventListener("mousedown",r)})),e.focus(i)}_focusByCssSelector(e,i){let r=this._elementRef.nativeElement.querySelector(e);r&&this._forceFocus(r,i)}_takeFocus(){if(!this._focusTrap)return;const e=this._elementRef.nativeElement;switch(this.autoFocus){case!1:case"dialog":return;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(i=>{!i&&"function"==typeof this._elementRef.nativeElement.focus&&e.focus()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this.autoFocus)}}_restoreFocus(e){"dialog"!==this.autoFocus&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,e):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null)}_isFocusWithinDrawer(){const e=this._doc.activeElement;return!!e&&this._elementRef.nativeElement.contains(e)}ngAfterViewInit(){this._isAttached=!0,this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState(),"end"===this._position&&this._updatePositionInParent("end")}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){this._focusTrap&&this._focusTrap.destroy(),this._anchor?.remove(),this._anchor=null,this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(e){return this.toggle(!0,e)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0,"mouse")}toggle(e=!this.opened,i){e&&i&&(this._openedVia=i);const r=this._setOpen(e,!e&&this._isFocusWithinDrawer(),this._openedVia||"program");return e||(this._openedVia=null),r}_setOpen(e,i,r){return this._opened=e,e?this._animationState=this._enableAnimations?"open":"open-instant":(this._animationState="void",i&&this._restoreFocus(r)),this._updateFocusTrapState(),new Promise(o=>{this.openedChange.pipe(Et(1)).subscribe(u=>o(u?"open":"close"))})}_getWidth(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=this.opened&&"side"!==this.mode)}_updatePositionInParent(e){const i=this._elementRef.nativeElement,r=i.parentNode;"end"===e?(this._anchor||(this._anchor=this._doc.createComment("mat-drawer-anchor"),r.insertBefore(this._anchor,i)),r.appendChild(i)):this._anchor&&this._anchor.parentNode.insertBefore(i,this._anchor)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(Eh),s.Y36(wl),s.Y36(En),s.Y36(s.R0b),s.Y36(Hv),s.Y36(te,8),s.Y36(q1,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-drawer"]],viewQuery:function(e,i){if(1&e&&s.Gf(J5,5),2&e){let r;s.iGM(r=s.CRH())&&(i._content=r.first)}},hostAttrs:["tabIndex","-1",1,"mat-drawer"],hostVars:12,hostBindings:function(e,i){1&e&&s.WFA("@transform.start",function(o){return i._animationStarted.next(o)})("@transform.done",function(o){return i._animationEnd.next(o)}),2&e&&(s.uIk("align",null),s.d8E("@transform",i._animationState),s.ekj("mat-drawer-end","end"===i.position)("mat-drawer-over","over"===i.mode)("mat-drawer-push","push"===i.mode)("mat-drawer-side","side"===i.mode)("mat-drawer-opened",i.opened))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],ngContentSelectors:RI,decls:3,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"],["content",""]],template:function(e,i){1&e&&(s.F$t(),s.TgZ(0,"div",0,1),s.Hsn(2),s.qZA())},dependencies:[Ng],encapsulation:2,data:{animation:[TU.transformDrawer]},changeDetection:0}),n})(),xU=(()=>{class n{constructor(e,i,r,o,u,h=!1,_){this._dir=e,this._element=i,this._ngZone=r,this._changeDetectorRef=o,this._animationMode=_,this._drawers=new s.n_E,this.backdropClick=new s.vpe,this._destroyed=new Ze.x,this._doCheckSubject=new Ze.x,this._contentMargins={left:null,right:null},this._contentMarginChanges=new Ze.x,e&&e.change.pipe(Vt(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),u.change().pipe(Vt(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._autosize=h}get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(e){this._autosize=Mt(e)}get hasBackdrop(){return this._backdropOverride??(!this._start||"side"!==this._start.mode||!this._end||"side"!==this._end.mode)}set hasBackdrop(e){this._backdropOverride=null==e?null:Mt(e)}get scrollable(){return this._userContent||this._content}ngAfterContentInit(){this._allDrawers.changes.pipe(Yn(this._allDrawers),Vt(this._destroyed)).subscribe(e=>{this._drawers.reset(e.filter(i=>!i._container||i._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe(Yn(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(e=>{this._watchDrawerToggle(e),this._watchDrawerPosition(e),this._watchDrawerMode(e)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe(Cp(10),Vt(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(e=>e.open())}close(){this._drawers.forEach(e=>e.close())}updateContentMargins(){let e=0,i=0;if(this._left&&this._left.opened)if("side"==this._left.mode)e+=this._left._getWidth();else if("push"==this._left.mode){const r=this._left._getWidth();e+=r,i-=r}if(this._right&&this._right.opened)if("side"==this._right.mode)i+=this._right._getWidth();else if("push"==this._right.mode){const r=this._right._getWidth();i+=r,e-=r}e=e||null,i=i||null,(e!==this._contentMargins.left||i!==this._contentMargins.right)&&(this._contentMargins={left:e,right:i},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(e){e._animationStarted.pipe(S(i=>i.fromState!==i.toState),Vt(this._drawers.changes)).subscribe(i=>{"open-instant"!==i.toState&&"NoopAnimations"!==this._animationMode&&this._element.nativeElement.classList.add("mat-drawer-transition"),this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),"side"!==e.mode&&e.openedChange.pipe(Vt(this._drawers.changes)).subscribe(()=>this._setContainerClass(e.opened))}_watchDrawerPosition(e){!e||e.onPositionChanged.pipe(Vt(this._drawers.changes)).subscribe(()=>{this._ngZone.onMicrotaskEmpty.pipe(Et(1)).subscribe(()=>{this._validateDrawers()})})}_watchDrawerMode(e){e&&e._modeChanged.pipe(Vt((0,dr.T)(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(e){const i=this._element.nativeElement.classList,r="mat-drawer-container-has-open";e?i.add(r):i.remove(r)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(e=>{"end"==e.position?this._end=e:this._start=e}),this._right=this._left=null,this._dir&&"rtl"===this._dir.value?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&"over"!=this._start.mode||this._isDrawerOpen(this._end)&&"over"!=this._end.mode}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(e=>e&&!e.disableClose&&this._canHaveBackdrop(e)).forEach(e=>e._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._canHaveBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._canHaveBackdrop(this._end)}_canHaveBackdrop(e){return"side"!==e.mode||!!this._backdropOverride}_isDrawerOpen(e){return null!=e&&e.opened}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(qr,8),s.Y36(s.SBq),s.Y36(s.R0b),s.Y36(s.sBO),s.Y36(Lg),s.Y36(c8),s.Y36(s.QbO,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-drawer-container"]],contentQueries:function(e,i,r){if(1&e&&(s.Suo(r,OI,5),s.Suo(r,AU,5)),2&e){let o;s.iGM(o=s.CRH())&&(i._content=o.first),s.iGM(o=s.CRH())&&(i._allDrawers=o)}},viewQuery:function(e,i){if(1&e&&s.Gf(OI,5),2&e){let r;s.iGM(r=s.CRH())&&(i._userContent=r.first)}},hostAttrs:[1,"mat-drawer-container"],hostVars:2,hostBindings:function(e,i){2&e&&s.ekj("mat-drawer-container-explicit-backdrop",i._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],features:[s._Bn([{provide:q1,useExisting:n}])],ngContentSelectors:n8,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(e,i){1&e&&(s.F$t(t8),s.YNc(0,X5,1,2,"div",0),s.Hsn(1),s.Hsn(2,1),s.YNc(3,e8,2,0,"mat-drawer-content",1)),2&e&&(s.Q6J("ngIf",i.hasBackdrop),s.xp6(3),s.Q6J("ngIf",!i._content))},dependencies:[OI,sn],styles:['.mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}\n'],encapsulation:2,changeDetection:0}),n})(),Z1=(()=>{class n extends OI{constructor(e,i,r,o,u){super(e,i,r,o,u)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.sBO),s.Y36((0,s.Gpc)(()=>RU)),s.Y36(s.SBq),s.Y36(Fg),s.Y36(s.R0b))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-sidenav-content"]],hostAttrs:[1,"mat-drawer-content","mat-sidenav-content"],hostVars:4,hostBindings:function(e,i){2&e&&s.Udp("margin-left",i._container._contentMargins.left,"px")("margin-right",i._container._contentMargins.right,"px")},features:[s._Bn([{provide:Ng,useExisting:n}]),s.qOj],ngContentSelectors:RI,decls:1,vars:0,template:function(e,i){1&e&&(s.F$t(),s.Hsn(0))},encapsulation:2,changeDetection:0}),n})(),kU=(()=>{class n extends AU{constructor(){super(...arguments),this._fixedInViewport=!1,this._fixedTopGap=0,this._fixedBottomGap=0}get fixedInViewport(){return this._fixedInViewport}set fixedInViewport(e){this._fixedInViewport=Mt(e)}get fixedTopGap(){return this._fixedTopGap}set fixedTopGap(e){this._fixedTopGap=xr(e)}get fixedBottomGap(){return this._fixedBottomGap}set fixedBottomGap(e){this._fixedBottomGap=xr(e)}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-sidenav"]],hostAttrs:["tabIndex","-1",1,"mat-drawer","mat-sidenav"],hostVars:17,hostBindings:function(e,i){2&e&&(s.uIk("align",null),s.Udp("top",i.fixedInViewport?i.fixedTopGap:null,"px")("bottom",i.fixedInViewport?i.fixedBottomGap:null,"px"),s.ekj("mat-drawer-end","end"===i.position)("mat-drawer-over","over"===i.mode)("mat-drawer-push","push"===i.mode)("mat-drawer-side","side"===i.mode)("mat-drawer-opened",i.opened)("mat-sidenav-fixed",i.fixedInViewport))},inputs:{fixedInViewport:"fixedInViewport",fixedTopGap:"fixedTopGap",fixedBottomGap:"fixedBottomGap"},exportAs:["matSidenav"],features:[s.qOj],ngContentSelectors:RI,decls:3,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"],["content",""]],template:function(e,i){1&e&&(s.F$t(),s.TgZ(0,"div",0,1),s.Hsn(2),s.qZA())},dependencies:[Ng],encapsulation:2,data:{animation:[TU.transformDrawer]},changeDetection:0}),n})(),RU=(()=>{class n extends xU{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-sidenav-container"]],contentQueries:function(e,i,r){if(1&e&&(s.Suo(r,Z1,5),s.Suo(r,kU,5)),2&e){let o;s.iGM(o=s.CRH())&&(i._content=o.first),s.iGM(o=s.CRH())&&(i._allDrawers=o)}},hostAttrs:[1,"mat-drawer-container","mat-sidenav-container"],hostVars:2,hostBindings:function(e,i){2&e&&s.ekj("mat-drawer-container-explicit-backdrop",i._backdropOverride)},exportAs:["matSidenavContainer"],features:[s._Bn([{provide:q1,useExisting:n}]),s.qOj],ngContentSelectors:a8,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(e,i){1&e&&(s.F$t(o8),s.YNc(0,r8,1,2,"div",0),s.Hsn(1),s.Hsn(2,1),s.YNc(3,s8,2,0,"mat-sidenav-content",1)),2&e&&(s.Q6J("ngIf",i.hasBackdrop),s.xp6(3),s.Q6J("ngIf",!i._content))},dependencies:[Z1,sn],styles:['.mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}\n'],encapsulation:2,changeDetection:0}),n})(),OU=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[Li,Wt,xc],xc,Wt]}),n})();const PU=["*"],h8=[[["","mat-list-avatar",""],["","mat-list-icon",""],["","matListAvatar",""],["","matListIcon",""]],[["","mat-line",""],["","matLine",""]],"*"],f8=["[mat-list-avatar], [mat-list-icon], [matListAvatar], [matListIcon]","[mat-line], [matLine]","*"],y8=Fc(Cl(class{})),v8=Cl(class{}),b8=new s.OlP("MatList"),FU=new s.OlP("MatNavList");let w8=(()=>{class n extends y8{constructor(){super(...arguments),this._stateChanges=new Ze.x}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-nav-list"]],hostAttrs:["role","navigation",1,"mat-nav-list","mat-list-base"],inputs:{disableRipple:"disableRipple",disabled:"disabled"},exportAs:["matNavList"],features:[s._Bn([{provide:FU,useExisting:n}]),s.qOj,s.TTD],ngContentSelectors:PU,decls:1,vars:0,template:function(e,i){1&e&&(s.F$t(),s.Hsn(0))},styles:['.mat-subheader{display:flex;box-sizing:border-box;padding:16px;align-items:center}.mat-list-base .mat-subheader{margin:0}button.mat-list-item,button.mat-list-option{padding:0;width:100%;background:none;color:inherit;border:none;outline:inherit;-webkit-tap-highlight-color:transparent;text-align:left}[dir=rtl] button.mat-list-item,[dir=rtl] button.mat-list-option{text-align:right}button.mat-list-item::-moz-focus-inner,button.mat-list-option::-moz-focus-inner{border:0}.mat-list-base{padding-top:8px;display:block;-webkit-tap-highlight-color:transparent}.mat-list-base .mat-subheader{height:48px;line-height:16px}.mat-list-base .mat-subheader:first-child{margin-top:-8px}.mat-list-base .mat-list-item,.mat-list-base .mat-list-option{display:block;height:48px;-webkit-tap-highlight-color:transparent;width:100%;padding:0}.mat-list-base .mat-list-item .mat-list-item-content,.mat-list-base .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base .mat-list-item .mat-list-item-content-reverse,.mat-list-base .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base .mat-list-item .mat-list-item-ripple,.mat-list-base .mat-list-option .mat-list-item-ripple{display:block;top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar,.mat-list-base .mat-list-option.mat-list-item-with-avatar{height:56px}.mat-list-base .mat-list-item.mat-2-line,.mat-list-base .mat-list-option.mat-2-line{height:72px}.mat-list-base .mat-list-item.mat-3-line,.mat-list-base .mat-list-option.mat-3-line{height:88px}.mat-list-base .mat-list-item.mat-multi-line,.mat-list-base .mat-list-option.mat-multi-line{height:auto}.mat-list-base .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base .mat-list-item .mat-list-text,.mat-list-base .mat-list-option .mat-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base .mat-list-item .mat-list-text>*,.mat-list-base .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base .mat-list-item .mat-list-text:empty,.mat-list-base .mat-list-option .mat-list-text:empty{display:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base .mat-list-item .mat-list-avatar,.mat-list-base .mat-list-option .mat-list-avatar{flex-shrink:0;width:40px;height:40px;border-radius:50%;object-fit:cover}.mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:72px;width:calc(100% - 72px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:72px}.mat-list-base .mat-list-item .mat-list-icon,.mat-list-base .mat-list-option .mat-list-icon{flex-shrink:0;width:24px;height:24px;font-size:24px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:64px;width:calc(100% - 64px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:64px}.mat-list-base .mat-list-item .mat-divider,.mat-list-base .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base .mat-list-item .mat-divider,[dir=rtl] .mat-list-base .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-list-base[dense]{padding-top:4px;display:block}.mat-list-base[dense] .mat-subheader{height:40px;line-height:8px}.mat-list-base[dense] .mat-subheader:first-child{margin-top:-4px}.mat-list-base[dense] .mat-list-item,.mat-list-base[dense] .mat-list-option{display:block;height:40px;-webkit-tap-highlight-color:transparent;width:100%;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-item-content,.mat-list-base[dense] .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base[dense] .mat-list-item .mat-list-item-content-reverse,.mat-list-base[dense] .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base[dense] .mat-list-item .mat-list-item-ripple,.mat-list-base[dense] .mat-list-option .mat-list-item-ripple{display:block;top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar{height:48px}.mat-list-base[dense] .mat-list-item.mat-2-line,.mat-list-base[dense] .mat-list-option.mat-2-line{height:60px}.mat-list-base[dense] .mat-list-item.mat-3-line,.mat-list-base[dense] .mat-list-option.mat-3-line{height:76px}.mat-list-base[dense] .mat-list-item.mat-multi-line,.mat-list-base[dense] .mat-list-option.mat-multi-line{height:auto}.mat-list-base[dense] .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base[dense] .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base[dense] .mat-list-item .mat-list-text,.mat-list-base[dense] .mat-list-option .mat-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-text>*,.mat-list-base[dense] .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base[dense] .mat-list-item .mat-list-text:empty,.mat-list-base[dense] .mat-list-option .mat-list-text:empty{display:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base[dense] .mat-list-item .mat-list-avatar,.mat-list-base[dense] .mat-list-option .mat-list-avatar{flex-shrink:0;width:36px;height:36px;border-radius:50%;object-fit:cover}.mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:68px;width:calc(100% - 68px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:68px}.mat-list-base[dense] .mat-list-item .mat-list-icon,.mat-list-base[dense] .mat-list-option .mat-list-icon{flex-shrink:0;width:20px;height:20px;font-size:20px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:60px;width:calc(100% - 60px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:60px}.mat-list-base[dense] .mat-list-item .mat-divider,.mat-list-base[dense] .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-divider,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base[dense] .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-nav-list a{text-decoration:none;color:inherit}.mat-nav-list .mat-list-item{cursor:pointer;outline:none}mat-action-list .mat-list-item{cursor:pointer;outline:inherit}.mat-list-option:not(.mat-list-item-disabled){cursor:pointer;outline:none}.mat-list-item-disabled{pointer-events:none}.cdk-high-contrast-active .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active :host .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active .mat-selection-list:focus{outline-style:dotted}.cdk-high-contrast-active .mat-list-option:hover,.cdk-high-contrast-active .mat-list-option:focus,.cdk-high-contrast-active .mat-nav-list .mat-list-item:hover,.cdk-high-contrast-active .mat-nav-list .mat-list-item:focus,.cdk-high-contrast-active mat-action-list .mat-list-item:hover,.cdk-high-contrast-active mat-action-list .mat-list-item:focus{outline:dotted 1px;z-index:1}.cdk-high-contrast-active .mat-list-single-selected-option::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}.cdk-high-contrast-active [dir=rtl] .mat-list-single-selected-option::after{right:auto;left:16px}@media(hover: none){.mat-list-option:not(.mat-list-single-selected-option):not(.mat-list-item-disabled):hover,.mat-nav-list .mat-list-item:not(.mat-list-item-disabled):hover,.mat-action-list .mat-list-item:not(.mat-list-item-disabled):hover{background:none}}\n'],encapsulation:2,changeDetection:0}),n})(),NU=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["","mat-list-avatar",""],["","matListAvatar",""]],hostAttrs:[1,"mat-list-avatar"]}),n})(),LU=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["","mat-list-icon",""],["","matListIcon",""]],hostAttrs:[1,"mat-list-icon"]}),n})(),C8=(()=>{class n extends v8{constructor(e,i,r,o){super(),this._element=e,this._isInteractiveList=!1,this._destroyed=new Ze.x,this._disabled=!1,this._isInteractiveList=!!(r||o&&"action-list"===o._getListType()),this._list=r||o;const u=this._getHostElement();"button"===u.nodeName.toLowerCase()&&!u.hasAttribute("type")&&u.setAttribute("type","button"),this._list&&this._list._stateChanges.pipe(Vt(this._destroyed)).subscribe(()=>{i.markForCheck()})}get disabled(){return this._disabled||!(!this._list||!this._list.disabled)}set disabled(e){this._disabled=Mt(e)}ngAfterContentInit(){!function nb(n,t,e="mat"){n.changes.pipe(Yn(n)).subscribe(({length:i})=>{Mh(t,`${e}-2-line`,!1),Mh(t,`${e}-3-line`,!1),Mh(t,`${e}-multi-line`,!1),2===i||3===i?Mh(t,`${e}-${i}-line`,!0):i>3&&Mh(t,`${e}-multi-line`,!0)})}(this._lines,this._element)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_isRippleDisabled(){return!this._isInteractiveList||this.disableRipple||!(!this._list||!this._list.disableRipple)}_getHostElement(){return this._element.nativeElement}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.sBO),s.Y36(FU,8),s.Y36(b8,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-list-item"],["a","mat-list-item",""],["button","mat-list-item",""]],contentQueries:function(e,i,r){if(1&e&&(s.Suo(r,NU,5),s.Suo(r,LU,5),s.Suo(r,tb,5)),2&e){let o;s.iGM(o=s.CRH())&&(i._avatar=o.first),s.iGM(o=s.CRH())&&(i._icon=o.first),s.iGM(o=s.CRH())&&(i._lines=o)}},hostAttrs:[1,"mat-list-item","mat-focus-indicator"],hostVars:6,hostBindings:function(e,i){2&e&&s.ekj("mat-list-item-disabled",i.disabled)("mat-list-item-avatar",i._avatar||i._icon)("mat-list-item-with-avatar",i._avatar||i._icon)},inputs:{disableRipple:"disableRipple",disabled:"disabled"},exportAs:["matListItem"],features:[s.qOj],ngContentSelectors:f8,decls:6,vars:2,consts:[[1,"mat-list-item-content"],["mat-ripple","",1,"mat-list-item-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-list-text"]],template:function(e,i){1&e&&(s.F$t(h8),s.TgZ(0,"span",0),s._UZ(1,"span",1),s.Hsn(2),s.TgZ(3,"span",2),s.Hsn(4,1),s.qZA(),s.Hsn(5,2),s.qZA()),2&e&&(s.xp6(1),s.Q6J("matRippleTrigger",i._getHostElement())("matRippleDisabled",i._isRippleDisabled()))},dependencies:[Nc],encapsulation:2,changeDetection:0}),n})(),BU=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[Mp,Tp,Wt,ed,Li],Mp,Wt,ed,x$]}),n})();function T8(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",10),s.NdJ("click",function(){s.CHM(e),s.oxw();const r=s.MAs(2);return s.KtG(r.toggle())}),s.TgZ(1,"mat-icon",11),s._uU(2,"menu"),s.qZA()()}}let A8=(()=>{class n{constructor(e,i){this.breakpointObserver=e,this.authApi=i,this.isHandset$=this.breakpointObserver.observe(T1_Handset).pipe((0,Ge.U)(r=>r.matches),BR())}logout(){this.authApi.logout()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(cI),s.Y36(kI))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-sidebar"]],decls:37,vars:12,consts:[[1,"sidenav-container"],["fixedInViewport","",1,"sidenav",3,"mode","opened"],["drawer",""],["mat-list-item","","routerLinkActive","active","routerLink","dashboard/doctor"],["mat-list-item","","routerLinkActive","active","routerLink","dashboard/patient"],["mat-list-item","","routerLinkActive","active","routerLink","dashboard/birth-certificate"],["mat-list-item","","routerLinkActive","active","routerLink","dashboard/deathcertificate"],["mat-list-item","","routerLinkActive","active",3,"click"],["color","primary"],["type","button","aria-label","Toggle sidenav","mat-icon-button","",3,"click",4,"ngIf"],["type","button","aria-label","Toggle sidenav","mat-icon-button","",3,"click"],["aria-label","Side nav toggle icon"]],template:function(e,i){1&e&&(s.TgZ(0,"mat-sidenav-container",0)(1,"mat-sidenav",1,2),s.ALo(3,"async"),s.ALo(4,"async"),s.ALo(5,"async"),s.TgZ(6,"mat-toolbar"),s._uU(7,"Menu"),s.qZA(),s._UZ(8,"mat-divider"),s.TgZ(9,"mat-nav-list")(10,"a",3)(11,"mat-icon"),s._uU(12,"diversity_1"),s.qZA(),s._uU(13,"Doctor"),s.qZA(),s.TgZ(14,"a",4)(15,"mat-icon"),s._uU(16,"personal_injury"),s.qZA(),s._uU(17," Patient"),s.qZA(),s.TgZ(18,"a",5)(19,"mat-icon"),s._uU(20,"personal_injury"),s.qZA(),s._uU(21," Birth Certificate"),s.qZA(),s.TgZ(22,"a",6)(23,"mat-icon"),s._uU(24,"personal_injury"),s.qZA(),s._uU(25," Death Certificate"),s.qZA(),s.TgZ(26,"a",7),s.NdJ("click",function(){return i.logout()}),s.TgZ(27,"mat-icon"),s._uU(28,"logout"),s.qZA(),s._uU(29," Sign out"),s.qZA()()(),s.TgZ(30,"mat-sidenav-content")(31,"mat-toolbar",8),s.YNc(32,T8,3,0,"button",9),s.ALo(33,"async"),s.TgZ(34,"span"),s._uU(35,"HospitalManagement"),s.qZA()(),s._UZ(36,"router-outlet"),s.qZA()()),2&e&&(s.xp6(1),s.Q6J("mode",s.lcZ(4,6,i.isHandset$)?"over":"side")("opened",!1===s.lcZ(5,8,i.isHandset$)),s.uIk("role",s.lcZ(3,4,i.isHandset$)?"dialog":"navigation"),s.xp6(31),s.Q6J("ngIf",s.lcZ(33,10,i.isHandset$)))},dependencies:[sn,oh,Sg,J0,Q5,Ls,kU,RU,Z1,w0,w8,C8,xm,Pl],styles:[".sidenav-container[_ngcontent-%COMP%]{height:100%}.sidenav[_ngcontent-%COMP%]{width:200px}.sidenav[_ngcontent-%COMP%]   .mat-toolbar[_ngcontent-%COMP%]{background:inherit}.mat-toolbar.mat-primary[_ngcontent-%COMP%]{position:sticky;top:0;z-index:1}.mat-icon[_ngcontent-%COMP%]{margin-right:15px}.mat-list-item[_ngcontent-%COMP%]{color:#3f51b5}.active[_ngcontent-%COMP%]{background-color:#3f51b5!important;color:#f0f8ff!important;border-radius:8px}"]}),n})();function x8(n,t){1&n&&s._UZ(0,"app-sidebar")}let k8=(()=>{class n{constructor(e){this.authApi=e,this.title="hospital-management",this.userLoggedIn=!1}ngOnInit(){this.userLoggedIn=this.authApi.isUserLoggedIn()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(kI))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-root"]],decls:2,vars:1,consts:[[4,"ngIf"]],template:function(e,i){1&e&&(s.YNc(0,x8,1,0,"app-sidebar",0),s._UZ(1,"router-outlet")),2&e&&s.Q6J("ngIf",i.userLoggedIn)},dependencies:[sn,oh,A8]}),n})();function UU(n){return new s.vHH(3e3,!1)}function hW(){return typeof window<"u"&&typeof window.document<"u"}function Y1(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function _f(n){switch(n.length){case 0:return new xh;case 1:return n[0];default:return new ED(n)}}function HU(n,t,e,i,r=new Map,o=new Map){const u=[],h=[];let _=-1,b=null;if(i.forEach(D=>{const M=D.get("offset"),O=M==_,B=O&&b||new Map;D.forEach(($,ne)=>{let ce=ne,We=$;if("offset"!==ne)switch(ce=t.normalizePropertyName(ce,u),We){case"!":We=r.get(ne);break;case ao:We=o.get(ne);break;default:We=t.normalizeStyleValue(ne,ce,We,u)}B.set(ce,We)}),O||h.push(B),b=B,_=M}),u.length)throw function eW(n){return new s.vHH(3502,!1)}();return h}function W1(n,t,e,i){switch(t){case"start":n.onStart(()=>i(e&&K1(e,"start",n)));break;case"done":n.onDone(()=>i(e&&K1(e,"done",n)));break;case"destroy":n.onDestroy(()=>i(e&&K1(e,"destroy",n)))}}function K1(n,t,e){const o=Q1(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,e.totalTime??n.totalTime,!!e.disabled),u=n._data;return null!=u&&(o._data=u),o}function Q1(n,t,e,i,r="",o=0,u){return{element:n,triggerName:t,fromState:e,toState:i,phaseName:r,totalTime:o,disabled:!!u}}function Wo(n,t,e){let i=n.get(t);return i||n.set(t,i=e),i}function jU(n){const t=n.indexOf(":");return[n.substring(1,t),n.slice(t+1)]}let J1=(n,t)=>!1,GU=(n,t,e)=>[],zU=null;function X1(n){const t=n.parentNode||n.host;return t===zU?null:t}(Y1()||typeof Element<"u")&&(hW()?(zU=(()=>document.documentElement)(),J1=(n,t)=>{for(;t;){if(t===n)return!0;t=X1(t)}return!1}):J1=(n,t)=>n.contains(t),GU=(n,t,e)=>{if(e)return Array.from(n.querySelectorAll(t));const i=n.querySelector(t);return i?[i]:[]});let Fm=null,$U=!1;const qU=J1,ZU=GU;let YU=(()=>{class n{validateStyleProperty(e){return function pW(n){Fm||(Fm=function mW(){return typeof document<"u"?document.body:null}()||{},$U=!!Fm.style&&"WebkitAppearance"in Fm.style);let t=!0;return Fm.style&&!function fW(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in Fm.style,!t&&$U&&(t="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in Fm.style)),t}(e)}matchesElement(e,i){return!1}containsElement(e,i){return qU(e,i)}getParentElement(e){return X1(e)}query(e,i,r){return ZU(e,i,r)}computeStyle(e,i,r){return r||""}animate(e,i,r,o,u,h=[],_){return new xh(r,o)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),eO=(()=>{class n{}return n.NOOP=new YU,n})();const tO="ng-enter",PI="ng-leave",FI="ng-trigger",NI=".ng-trigger",KU="ng-animating",nO=".ng-animating";function Dd(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:iO(parseFloat(t[1]),t[2])}function iO(n,t){return"s"===t?1e3*n:n}function LI(n,t,e){return n.hasOwnProperty("duration")?n:function yW(n,t,e){let r,o=0,u="";if("string"==typeof n){const h=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===h)return t.push(UU()),{duration:0,delay:0,easing:""};r=iO(parseFloat(h[1]),h[2]);const _=h[3];null!=_&&(o=iO(parseFloat(_),h[4]));const b=h[5];b&&(u=b)}else r=n;if(!e){let h=!1,_=t.length;r<0&&(t.push(function R8(){return new s.vHH(3100,!1)}()),h=!0),o<0&&(t.push(function O8(){return new s.vHH(3101,!1)}()),h=!0),h&&t.splice(_,0,UU())}return{duration:r,delay:o,easing:u}}(n,t,e)}function D0(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function QU(n){const t=new Map;return Object.keys(n).forEach(e=>{t.set(e,n[e])}),t}function yf(n,t=new Map,e){if(e)for(let[i,r]of e)t.set(i,r);for(let[i,r]of n)t.set(i,r);return t}function XU(n,t,e){return e?t+":"+e+";":""}function eH(n){let t="";for(let e=0;e<n.style.length;e++){const i=n.style.item(e);t+=XU(0,i,n.style.getPropertyValue(i))}for(const e in n.style)n.style.hasOwnProperty(e)&&!e.startsWith("_")&&(t+=XU(0,CW(e),n.style[e]));n.setAttribute("style",t)}function Yc(n,t,e){n.style&&(t.forEach((i,r)=>{const o=sO(r);e&&!e.has(r)&&e.set(r,n.style[o]),n.style[o]=i}),Y1()&&eH(n))}function Nm(n,t){n.style&&(t.forEach((e,i)=>{const r=sO(i);n.style[r]=""}),Y1()&&eH(n))}function E0(n){return Array.isArray(n)?1==n.length?n[0]:Ah(n):n}const rO=new RegExp("{{\\s*(.+?)\\s*}}","g");function tH(n){let t=[];if("string"==typeof n){let e;for(;e=rO.exec(n);)t.push(e[1]);rO.lastIndex=0}return t}function S0(n,t,e){const i=n.toString(),r=i.replace(rO,(o,u)=>{let h=t[u];return null==h&&(e.push(function F8(n){return new s.vHH(3003,!1)}()),h=""),h.toString()});return r==i?n:r}function VI(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const wW=/-+([a-z0-9])/g;function sO(n){return n.replace(wW,(...t)=>t[1].toUpperCase())}function CW(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Ko(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw function N8(n){return new s.vHH(3004,!1)}()}}function nH(n,t){return window.getComputedStyle(n)[t]}function TW(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function AW(n,t,e){if(":"==n[0]){const _=function xW(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return t.push(function K8(n){return new s.vHH(3016,!1)}()),"* => *"}}(n,e);if("function"==typeof _)return void t.push(_);n=_}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return e.push(function W8(n){return new s.vHH(3015,!1)}()),t;const r=i[1],o=i[2],u=i[3];t.push(iH(r,u));"<"==o[0]&&!("*"==r&&"*"==u)&&t.push(iH(u,r))}(i,e,t)):e.push(n),e}const jI=new Set(["true","1"]),GI=new Set(["false","0"]);function iH(n,t){const e=jI.has(n)||GI.has(n),i=jI.has(t)||GI.has(t);return(r,o)=>{let u="*"==n||n==r,h="*"==t||t==o;return!u&&e&&"boolean"==typeof r&&(u=r?jI.has(n):GI.has(n)),!h&&i&&"boolean"==typeof o&&(h=o?jI.has(t):GI.has(t)),u&&h}}const kW=new RegExp("s*:selfs*,?","g");function oO(n,t,e,i){return new RW(n).build(t,e,i)}class RW{constructor(t){this._driver=t}build(t,e,i){const r=new FW(e);return this._resetContextStyleTimingState(r),Ko(this,E0(t),r)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles=new Map,t.collectedStyles.set("",new Map),t.currentTime=0}visitTrigger(t,e){let i=e.queryCount=0,r=e.depCount=0;const o=[],u=[];return"@"==t.name.charAt(0)&&e.errors.push(function V8(){return new s.vHH(3006,!1)}()),t.definitions.forEach(h=>{if(this._resetContextStyleTimingState(e),0==h.type){const _=h,b=_.name;b.toString().split(/\s*,\s*/).forEach(D=>{_.name=D,o.push(this.visitState(_,e))}),_.name=b}else if(1==h.type){const _=this.visitTransition(h,e);i+=_.queryCount,r+=_.depCount,u.push(_)}else e.errors.push(function B8(){return new s.vHH(3007,!1)}())}),{type:7,name:t.name,states:o,transitions:u,queryCount:i,depCount:r,options:null}}visitState(t,e){const i=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(i.containsDynamicStyles){const o=new Set,u=r||{};i.styles.forEach(h=>{h instanceof Map&&h.forEach(_=>{tH(_).forEach(b=>{u.hasOwnProperty(b)||o.add(b)})})}),o.size&&(VI(o.values()),e.errors.push(function U8(n,t){return new s.vHH(3008,!1)}()))}return{type:0,name:t.name,style:i,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const i=Ko(this,E0(t.animation),e);return{type:1,matchers:TW(t.expr,e.errors),animation:i,queryCount:e.queryCount,depCount:e.depCount,options:Lm(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(i=>Ko(this,i,e)),options:Lm(t.options)}}visitGroup(t,e){const i=e.currentTime;let r=0;const o=t.steps.map(u=>{e.currentTime=i;const h=Ko(this,u,e);return r=Math.max(r,e.currentTime),h});return e.currentTime=r,{type:3,steps:o,options:Lm(t.options)}}visitAnimate(t,e){const i=function LW(n,t){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return aO(LI(n,t).duration,0,"");const e=n;if(e.split(/\s+/).some(o=>"{"==o.charAt(0)&&"{"==o.charAt(1))){const o=aO(0,0,"");return o.dynamic=!0,o.strValue=e,o}const r=LI(e,t);return aO(r.duration,r.delay,r.easing)}(t.timings,e.errors);e.currentAnimateTimings=i;let r,o=t.styles?t.styles:Ct({});if(5==o.type)r=this.visitKeyframes(o,e);else{let u=t.styles,h=!1;if(!u){h=!0;const b={};i.easing&&(b.easing=i.easing),u=Ct(b)}e.currentTime+=i.duration+i.delay;const _=this.visitStyle(u,e);_.isEmptyStep=h,r=_}return e.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(t,e){const i=this._makeStyleAst(t,e);return this._validateStyleAst(i,e),i}_makeStyleAst(t,e){const i=[],r=Array.isArray(t.styles)?t.styles:[t.styles];for(let h of r)"string"==typeof h?h===ao?i.push(h):e.errors.push(new s.vHH(3002,!1)):i.push(QU(h));let o=!1,u=null;return i.forEach(h=>{if(h instanceof Map&&(h.has("easing")&&(u=h.get("easing"),h.delete("easing")),!o))for(let _ of h.values())if(_.toString().indexOf("{{")>=0){o=!0;break}}),{type:6,styles:i,easing:u,offset:t.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(t,e){const i=e.currentAnimateTimings;let r=e.currentTime,o=e.currentTime;i&&o>0&&(o-=i.duration+i.delay),t.styles.forEach(u=>{"string"!=typeof u&&u.forEach((h,_)=>{const b=e.collectedStyles.get(e.currentQuerySelector),D=b.get(_);let M=!0;D&&(o!=r&&o>=D.startTime&&r<=D.endTime&&(e.errors.push(function j8(n,t,e,i,r){return new s.vHH(3010,!1)}()),M=!1),o=D.startTime),M&&b.set(_,{startTime:o,endTime:r}),e.options&&function bW(n,t,e){const i=t.params||{},r=tH(n);r.length&&r.forEach(o=>{i.hasOwnProperty(o)||e.push(function P8(n){return new s.vHH(3001,!1)}())})}(h,e.options,e.errors)})})}visitKeyframes(t,e){const i={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function G8(){return new s.vHH(3011,!1)}()),i;let o=0;const u=[];let h=!1,_=!1,b=0;const D=t.steps.map(We=>{const ft=this._makeStyleAst(We,e);let gt=null!=ft.offset?ft.offset:function NW(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(e instanceof Map&&e.has("offset")){const i=e;t=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const e=n;t=parseFloat(e.get("offset")),e.delete("offset")}return t}(ft.styles),dt=0;return null!=gt&&(o++,dt=ft.offset=gt),_=_||dt<0||dt>1,h=h||dt<b,b=dt,u.push(dt),ft});_&&e.errors.push(function z8(){return new s.vHH(3012,!1)}()),h&&e.errors.push(function $8(){return new s.vHH(3200,!1)}());const M=t.steps.length;let O=0;o>0&&o<M?e.errors.push(function q8(){return new s.vHH(3202,!1)}()):0==o&&(O=1/(M-1));const B=M-1,$=e.currentTime,ne=e.currentAnimateTimings,ce=ne.duration;return D.forEach((We,ft)=>{const gt=O>0?ft==B?1:O*ft:u[ft],dt=gt*ce;e.currentTime=$+ne.delay+dt,ne.duration=dt,this._validateStyleAst(We,e),We.offset=gt,i.styles.push(We)}),i}visitReference(t,e){return{type:8,animation:Ko(this,E0(t.animation),e),options:Lm(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:Lm(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:Lm(t.options)}}visitQuery(t,e){const i=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[o,u]=function OW(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(kW,"")),n=n.replace(/@\*/g,NI).replace(/@\w+/g,e=>NI+"-"+e.slice(1)).replace(/:animating/g,nO),[n,t]}(t.selector);e.currentQuerySelector=i.length?i+" "+o:o,Wo(e.collectedStyles,e.currentQuerySelector,new Map);const h=Ko(this,E0(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:11,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:u,animation:h,originalSelector:t.selector,options:Lm(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(function Z8(){return new s.vHH(3013,!1)}());const i="full"===t.timings?{duration:0,delay:0,easing:"full"}:LI(t.timings,e.errors,!0);return{type:12,animation:Ko(this,E0(t.animation),e),timings:i,options:null}}}class FW{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Lm(n){return n?(n=D0(n)).params&&(n.params=function PW(n){return n?D0(n):null}(n.params)):n={},n}function aO(n,t,e){return{duration:n,delay:t,easing:e}}function lO(n,t,e,i,r,o,u=null,h=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:i,duration:r,delay:o,totalTime:r+o,easing:u,subTimeline:h}}class zI{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const UW=new RegExp(":enter","g"),jW=new RegExp(":leave","g");function cO(n,t,e,i,r,o=new Map,u=new Map,h,_,b=[]){return(new GW).buildKeyframes(n,t,e,i,r,o,u,h,_,b)}class GW{buildKeyframes(t,e,i,r,o,u,h,_,b,D=[]){b=b||new zI;const M=new uO(t,e,b,r,o,D,[]);M.options=_;const O=_.delay?Dd(_.delay):0;M.currentTimeline.delayNextStep(O),M.currentTimeline.setStyles([u],null,M.errors,_),Ko(this,i,M);const B=M.timelines.filter($=>$.containsAnimation());if(B.length&&h.size){let $;for(let ne=B.length-1;ne>=0;ne--){const ce=B[ne];if(ce.element===e){$=ce;break}}$&&!$.allowOnlyTimelineStyles()&&$.setStyles([h],null,M.errors,_)}return B.length?B.map($=>$.buildKeyframes()):[lO(e,[],[],[],0,O,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const i=e.subInstructions.get(e.element);if(i){const r=e.createSubContext(t.options),o=e.currentTimeline.currentTime,u=this._visitSubInstructions(i,r,r.options);o!=u&&e.transformIntoNewTimeline(u)}e.previousNode=t}visitAnimateRef(t,e){const i=e.createSubContext(t.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([t.options,t.animation.options],e,i),this.visitReference(t.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=t}_applyAnimationRefDelays(t,e,i){for(const r of t){const o=r?.delay;if(o){const u="number"==typeof o?o:Dd(S0(o,r?.params??{},e.errors));i.delayNextStep(u)}}}_visitSubInstructions(t,e,i){let o=e.currentTimeline.currentTime;const u=null!=i.duration?Dd(i.duration):null,h=null!=i.delay?Dd(i.delay):null;return 0!==u&&t.forEach(_=>{const b=e.appendInstructionToTimeline(_,u,h);o=Math.max(o,b.duration+b.delay)}),o}visitReference(t,e){e.updateOptions(t.options,!0),Ko(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const i=e.subContextCount;let r=e;const o=t.options;if(o&&(o.params||o.delay)&&(r=e.createSubContext(o),r.transformIntoNewTimeline(),null!=o.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=$I);const u=Dd(o.delay);r.delayNextStep(u)}t.steps.length&&(t.steps.forEach(u=>Ko(this,u,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const i=[];let r=e.currentTimeline.currentTime;const o=t.options&&t.options.delay?Dd(t.options.delay):0;t.steps.forEach(u=>{const h=e.createSubContext(t.options);o&&h.delayNextStep(o),Ko(this,u,h),r=Math.max(r,h.currentTimeline.currentTime),i.push(h.currentTimeline)}),i.forEach(u=>e.currentTimeline.mergeTimelineCollectedStyles(u)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const i=t.strValue;return LI(e.params?S0(i,e.params,e.errors):i,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const i=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),r.snapshotCurrentStyles());const o=t.style;5==o.type?this.visitKeyframes(o,e):(e.incrementTime(i.duration),this.visitStyle(o,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const i=e.currentTimeline,r=e.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const o=r&&r.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(o):i.setStyles(t.styles,o,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const i=e.currentAnimateTimings,r=e.currentTimeline.duration,o=i.duration,h=e.createSubContext().currentTimeline;h.easing=i.easing,t.styles.forEach(_=>{h.forwardTime((_.offset||0)*o),h.setStyles(_.styles,_.easing,e.errors,e.options),h.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(h),e.transformIntoNewTimeline(r+o),e.previousNode=t}visitQuery(t,e){const i=e.currentTimeline.currentTime,r=t.options||{},o=r.delay?Dd(r.delay):0;o&&(6===e.previousNode.type||0==i&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=$I);let u=i;const h=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=h.length;let _=null;h.forEach((b,D)=>{e.currentQueryIndex=D;const M=e.createSubContext(t.options,b);o&&M.delayNextStep(o),b===e.element&&(_=M.currentTimeline),Ko(this,t.animation,M),M.currentTimeline.applyStylesToKeyframe(),u=Math.max(u,M.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(u),_&&(e.currentTimeline.mergeTimelineCollectedStyles(_),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const i=e.parentContext,r=e.currentTimeline,o=t.timings,u=Math.abs(o.duration),h=u*(e.currentQueryTotal-1);let _=u*e.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":_=h-_;break;case"full":_=i.currentStaggerTime}const D=e.currentTimeline;_&&D.delayNextStep(_);const M=D.currentTime;Ko(this,t.animation,e),e.previousNode=t,i.currentStaggerTime=r.currentTime-M+(r.startTime-i.currentTimeline.startTime)}}const $I={};class uO{constructor(t,e,i,r,o,u,h,_){this._driver=t,this.element=e,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=o,this.errors=u,this.timelines=h,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=$I,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=_||new qI(this._driver,e,0),h.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const i=t;let r=this.options;null!=i.duration&&(r.duration=Dd(i.duration)),null!=i.delay&&(r.delay=Dd(i.delay));const o=i.params;if(o){let u=r.params;u||(u=this.options.params={}),Object.keys(o).forEach(h=>{(!e||!u.hasOwnProperty(h))&&(u[h]=S0(o[h],u,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const i=t.params={};Object.keys(e).forEach(r=>{i[r]=e[r]})}}return t}createSubContext(t=null,e,i){const r=e||this.element,o=new uO(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(t),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(t){return this.previousNode=$I,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,i){const r={duration:e??t.duration,delay:this.currentTimeline.currentTime+(i??0)+t.delay,easing:""},o=new zW(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(o),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,i,r,o,u){let h=[];if(r&&h.push(this.element),t.length>0){t=(t=t.replace(UW,"."+this._enterClassName)).replace(jW,"."+this._leaveClassName);let b=this._driver.query(this.element,t,1!=i);0!==i&&(b=i<0?b.slice(b.length+i,b.length):b.slice(0,i)),h.push(...b)}return!o&&0==h.length&&u.push(function Y8(n){return new s.vHH(3014,!1)}()),h}}class qI{constructor(t,e,i,r){this._driver=t,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1===this._keyframes.size&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new qI(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles.set(t,e),this._globalTimelineStyles.set(t,e),this._styleSummary.set(t,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[e,i]of this._globalTimelineStyles)this._backFill.set(e,i||ao),this._currentKeyframe.set(e,ao);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,i,r){e&&this._previousKeyframe.set("easing",e);const o=r&&r.params||{},u=function $W(n,t){const e=new Map;let i;return n.forEach(r=>{if("*"===r){i=i||t.keys();for(let o of i)e.set(o,ao)}else yf(r,e)}),e}(t,this._globalTimelineStyles);for(let[h,_]of u){const b=S0(_,o,i);this._pendingStyles.set(h,b),this._localTimelineStyles.has(h)||this._backFill.set(h,this._globalTimelineStyles.get(h)??ao),this._updateStyle(h,b)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((t,e)=>{this._currentKeyframe.set(e,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,t)}))}snapshotCurrentStyles(){for(let[t,e]of this._localTimelineStyles)this._pendingStyles.set(t,e),this._updateStyle(t,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((e,i)=>{const r=this._styleSummary.get(i);(!r||e.time>r.time)&&this._updateStyle(i,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((h,_)=>{const b=yf(h,new Map,this._backFill);b.forEach((D,M)=>{"!"===D?t.add(M):D===ao&&e.add(M)}),i||b.set("offset",_/this.duration),r.push(b)});const o=t.size?VI(t.values()):[],u=e.size?VI(e.values()):[];if(i){const h=r[0],_=new Map(h);h.set("offset",0),_.set("offset",1),r=[h,_]}return lO(this.element,r,o,u,this.duration,this.startTime,this.easing,!1)}}class zW extends qI{constructor(t,e,i,r,o,u,h=!1){super(t,e,u.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=o,this._stretchStartingKeyframe=h,this.timings={duration:u.duration,delay:u.delay,easing:u.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const o=[],u=i+e,h=e/u,_=yf(t[0]);_.set("offset",0),o.push(_);const b=yf(t[0]);b.set("offset",oH(h)),o.push(b);const D=t.length-1;for(let M=1;M<=D;M++){let O=yf(t[M]);const B=O.get("offset");O.set("offset",oH((e+B*i)/u)),o.push(O)}i=u,e=0,r="",t=o}return lO(this.element,t,this.preStyleProps,this.postStyleProps,i,e,r,!0)}}function oH(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class dO{}const qW=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class ZW extends dO{normalizePropertyName(t,e){return sO(t)}normalizeStyleValue(t,e,i,r){let o="";const u=i.toString().trim();if(qW.has(e)&&0!==i&&"0"!==i)if("number"==typeof i)o="px";else{const h=i.match(/^[+-]?[\d\.]+([a-z]*)$/);h&&0==h[1].length&&r.push(function L8(n,t){return new s.vHH(3005,!1)}())}return u+o}}function aH(n,t,e,i,r,o,u,h,_,b,D,M,O){return{type:0,element:n,triggerName:t,isRemovalTransition:r,fromState:e,fromStyles:o,toState:i,toStyles:u,timelines:h,queriedElements:_,preStyleProps:b,postStyleProps:D,totalTime:M,errors:O}}const hO={};class lH{constructor(t,e,i){this._triggerName=t,this.ast=e,this._stateStyles=i}match(t,e,i,r){return function YW(n,t,e,i,r){return n.some(o=>o(t,e,i,r))}(this.ast.matchers,t,e,i,r)}buildStyles(t,e,i){let r=this._stateStyles.get("*");return void 0!==t&&(r=this._stateStyles.get(t?.toString())||r),r?r.buildStyles(e,i):new Map}build(t,e,i,r,o,u,h,_,b,D){const M=[],O=this.ast.options&&this.ast.options.params||hO,$=this.buildStyles(i,h&&h.params||hO,M),ne=_&&_.params||hO,ce=this.buildStyles(r,ne,M),We=new Set,ft=new Map,gt=new Map,dt="void"===r,At={params:WW(ne,O),delay:this.ast.options?.delay},Nt=D?[]:cO(t,e,this.ast.animation,o,u,$,ce,At,b,M);let mn=0;if(Nt.forEach(Ed=>{mn=Math.max(Ed.duration+Ed.delay,mn)}),M.length)return aH(e,this._triggerName,i,r,dt,$,ce,[],[],ft,gt,mn,M);Nt.forEach(Ed=>{const Sd=Ed.element,EH=Wo(ft,Sd,new Set);Ed.preStyleProps.forEach(Vm=>EH.add(Vm));const M0=Wo(gt,Sd,new Set);Ed.postStyleProps.forEach(Vm=>M0.add(Vm)),Sd!==e&&We.add(Sd)});const Vs=VI(We.values());return aH(e,this._triggerName,i,r,dt,$,ce,Nt,Vs,ft,gt,mn)}}function WW(n,t){const e=D0(t);for(const i in n)n.hasOwnProperty(i)&&null!=n[i]&&(e[i]=n[i]);return e}class KW{constructor(t,e,i){this.styles=t,this.defaultParams=e,this.normalizer=i}buildStyles(t,e){const i=new Map,r=D0(this.defaultParams);return Object.keys(t).forEach(o=>{const u=t[o];null!==u&&(r[o]=u)}),this.styles.styles.forEach(o=>{"string"!=typeof o&&o.forEach((u,h)=>{u&&(u=S0(u,r,e));const _=this.normalizer.normalizePropertyName(h,e);u=this.normalizer.normalizeStyleValue(h,_,u,e),i.set(_,u)})}),i}}class JW{constructor(t,e,i){this.name=t,this.ast=e,this._normalizer=i,this.transitionFactories=[],this.states=new Map,e.states.forEach(r=>{this.states.set(r.name,new KW(r.style,r.options&&r.options.params||{},i))}),cH(this.states,"true","1"),cH(this.states,"false","0"),e.transitions.forEach(r=>{this.transitionFactories.push(new lH(t,r,this.states))}),this.fallbackTransition=function XW(n,t,e){return new lH(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(u,h)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,i,r){return this.transitionFactories.find(u=>u.match(t,e,i,r))||null}matchStyles(t,e,i){return this.fallbackTransition.buildStyles(t,e,i)}}function cH(n,t,e){n.has(t)?n.has(e)||n.set(e,n.get(t)):n.has(e)&&n.set(t,n.get(e))}const eK=new zI;class tK{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(t,e){const i=[],o=oO(this._driver,e,i,[]);if(i.length)throw function tW(n){return new s.vHH(3503,!1)}();this._animations.set(t,o)}_buildPlayer(t,e,i){const r=t.element,o=HU(0,this._normalizer,0,t.keyframes,e,i);return this._driver.animate(r,o,t.duration,t.delay,t.easing,[],!0)}create(t,e,i={}){const r=[],o=this._animations.get(t);let u;const h=new Map;if(o?(u=cO(this._driver,e,o,tO,PI,new Map,new Map,i,eK,r),u.forEach(D=>{const M=Wo(h,D.element,new Map);D.postStyleProps.forEach(O=>M.set(O,null))})):(r.push(function nW(){return new s.vHH(3300,!1)}()),u=[]),r.length)throw function iW(n){return new s.vHH(3504,!1)}();h.forEach((D,M)=>{D.forEach((O,B)=>{D.set(B,this._driver.computeStyle(M,B,ao))})});const b=_f(u.map(D=>{const M=h.get(D.element);return this._buildPlayer(D,new Map,M)}));return this._playersById.set(t,b),b.onDestroy(()=>this.destroy(t)),this.players.push(b),b}destroy(t){const e=this._getPlayer(t);e.destroy(),this._playersById.delete(t);const i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(t){const e=this._playersById.get(t);if(!e)throw function rW(n){return new s.vHH(3301,!1)}();return e}listen(t,e,i,r){const o=Q1(e,"","","");return W1(this._getPlayer(t),i,o,r),()=>{}}command(t,e,i,r){if("register"==i)return void this.register(t,r[0]);if("create"==i)return void this.create(t,e,r[0]||{});const o=this._getPlayer(t);switch(i){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const uH="ng-animate-queued",fO="ng-animate-disabled",oK=[],dH={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},aK={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Pa="__ng_removed";class pO{constructor(t,e=""){this.namespaceId=e;const i=t&&t.hasOwnProperty("value");if(this.value=function dK(n){return n??null}(i?t.value:t),i){const o=D0(t);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const i=this.options.params;Object.keys(e).forEach(r=>{null==i[r]&&(i[r]=e[r])})}}}const I0="void",mO=new pO(I0);class lK{constructor(t,e,i){this.id=t,this.hostElement=e,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,Fa(e,this._hostClassName)}listen(t,e,i,r){if(!this._triggers.has(e))throw function sW(n,t){return new s.vHH(3302,!1)}();if(null==i||0==i.length)throw function oW(n){return new s.vHH(3303,!1)}();if(!function hK(n){return"start"==n||"done"==n}(i))throw function aW(n,t){return new s.vHH(3400,!1)}();const o=Wo(this._elementListeners,t,[]),u={name:e,phase:i,callback:r};o.push(u);const h=Wo(this._engine.statesByElement,t,new Map);return h.has(e)||(Fa(t,FI),Fa(t,FI+"-"+e),h.set(e,mO)),()=>{this._engine.afterFlush(()=>{const _=o.indexOf(u);_>=0&&o.splice(_,1),this._triggers.has(e)||h.delete(e)})}}register(t,e){return!this._triggers.has(t)&&(this._triggers.set(t,e),!0)}_getTrigger(t){const e=this._triggers.get(t);if(!e)throw function lW(n){return new s.vHH(3401,!1)}();return e}trigger(t,e,i,r=!0){const o=this._getTrigger(e),u=new gO(this.id,e,t);let h=this._engine.statesByElement.get(t);h||(Fa(t,FI),Fa(t,FI+"-"+e),this._engine.statesByElement.set(t,h=new Map));let _=h.get(e);const b=new pO(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&_&&b.absorbOptions(_.options),h.set(e,b),_||(_=mO),b.value!==I0&&_.value===b.value){if(!function mK(n,t){const e=Object.keys(n),i=Object.keys(t);if(e.length!=i.length)return!1;for(let r=0;r<e.length;r++){const o=e[r];if(!t.hasOwnProperty(o)||n[o]!==t[o])return!1}return!0}(_.params,b.params)){const ne=[],ce=o.matchStyles(_.value,_.params,ne),We=o.matchStyles(b.value,b.params,ne);ne.length?this._engine.reportError(ne):this._engine.afterFlush(()=>{Nm(t,ce),Yc(t,We)})}return}const O=Wo(this._engine.playersByElement,t,[]);O.forEach(ne=>{ne.namespaceId==this.id&&ne.triggerName==e&&ne.queued&&ne.destroy()});let B=o.matchTransition(_.value,b.value,t,b.params),$=!1;if(!B){if(!r)return;B=o.fallbackTransition,$=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:B,fromState:_,toState:b,player:u,isFallbackTransition:$}),$||(Fa(t,uH),u.onStart(()=>{Ay(t,uH)})),u.onDone(()=>{let ne=this.players.indexOf(u);ne>=0&&this.players.splice(ne,1);const ce=this._engine.playersByElement.get(t);if(ce){let We=ce.indexOf(u);We>=0&&ce.splice(We,1)}}),this.players.push(u),O.push(u),u}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(e=>e.delete(t)),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(r=>r.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const i=this._engine.driver.query(t,NI,!0);i.forEach(r=>{if(r[Pa])return;const o=this._engine.fetchNamespacesByElement(r);o.size?o.forEach(u=>u.triggerLeaveAnimation(r,e,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(t,e,i,r){const o=this._engine.statesByElement.get(t),u=new Map;if(o){const h=[];if(o.forEach((_,b)=>{if(u.set(b,_.value),this._triggers.has(b)){const D=this.trigger(t,b,I0,r);D&&h.push(D)}}),h.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,u),i&&_f(h).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(e&&i){const r=new Set;e.forEach(o=>{const u=o.name;if(r.has(u))return;r.add(u);const _=this._triggers.get(u).fallbackTransition,b=i.get(u)||mO,D=new pO(I0),M=new gO(this.id,u,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:u,transition:_,fromState:b,toState:D,player:M,isFallbackTransition:!0})})}}removeNode(t,e){const i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(i.totalAnimations){const o=i.players.length?i.playersByQueriedElement.get(t):[];if(o&&o.length)r=!0;else{let u=t;for(;u=u.parentNode;)if(i.statesByElement.get(u)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)i.markElementAsRemoved(this.id,t,!1,e);else{const o=t[Pa];(!o||o===dH)&&(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}insertNode(t,e){Fa(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const o=i.element,u=this._elementListeners.get(o);u&&u.forEach(h=>{if(h.name==i.triggerName){const _=Q1(o,i.triggerName,i.fromState.value,i.toState.value);_._data=t,W1(i.player,h.phase,_,h.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(i)}),this._queue=[],e.sort((i,r)=>{const o=i.transition.ast.depCount,u=r.transition.ast.depCount;return 0==o||0==u?o-u:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(i=>i.element===t)||e,e}}class cK{constructor(t,e,i){this.bodyNode=t,this.driver=e,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,o)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&t.push(i)})}),t}createNamespace(t,e){const i=new lK(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,e){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let u=!1,h=this.driver.getParentElement(e);for(;h;){const _=r.get(h);if(_){const b=i.indexOf(_);i.splice(b+1,0,t),u=!0;break}h=this.driver.getParentElement(h)}u||i.unshift(t)}else i.push(t);return r.set(e,t),t}register(t,e){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,e)),i}registerTrigger(t,e,i){let r=this._namespaceLookup[t];r&&r.register(e,i)&&this.totalAnimations++}destroy(t,e){if(!t)return;const i=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[t];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,i=this.statesByElement.get(t);if(i)for(let r of i.values())if(r.namespaceId){const o=this._fetchNamespace(r.namespaceId);o&&e.add(o)}return e}trigger(t,e,i,r){if(ZI(e)){const o=this._fetchNamespace(t);if(o)return o.trigger(e,i,r),!0}return!1}insertNode(t,e,i,r){if(!ZI(e))return;const o=e[Pa];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;const u=this.collectedLeaveElements.indexOf(e);u>=0&&this.collectedLeaveElements.splice(u,1)}if(t){const u=this._fetchNamespace(t);u&&u.insertNode(e,i)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Fa(t,fO)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),Ay(t,fO))}removeNode(t,e,i,r){if(ZI(e)){const o=t?this._fetchNamespace(t):null;if(o?o.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),i){const u=this.namespacesByHostElement.get(e);u&&u.id!==t&&u.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,i,r,o){this.collectedLeaveElements.push(e),e[Pa]={namespaceId:t,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:o}}listen(t,e,i,r,o){return ZI(e)?this._fetchNamespace(t).listen(e,i,r,o):()=>{}}_buildInstruction(t,e,i,r,o){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,r,t.fromState.options,t.toState.options,e,o)}destroyInnerAnimations(t){let e=this.driver.query(t,NI,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,nO,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return _f(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t[Pa];if(e&&e.setForRemoval){if(t[Pa]=dH,e.namespaceId){this.destroyInnerAnimations(t);const i=this._fetchNamespace(e.namespaceId);i&&i.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}t.classList?.contains(fO)&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)Fa(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{e=this._flushAnimations(i,t)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],e.length?_f(e).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(t){throw function cW(n){return new s.vHH(3402,!1)}()}_flushAnimations(t,e){const i=new zI,r=[],o=new Map,u=[],h=new Map,_=new Map,b=new Map,D=new Set;this.disabledNodes.forEach(_t=>{D.add(_t);const xt=this.driver.query(_t,".ng-animate-queued",!0);for(let Bt=0;Bt<xt.length;Bt++)D.add(xt[Bt])});const M=this.bodyNode,O=Array.from(this.statesByElement.keys()),B=pH(O,this.collectedEnterElements),$=new Map;let ne=0;B.forEach((_t,xt)=>{const Bt=tO+ne++;$.set(xt,Bt),_t.forEach(Sn=>Fa(Sn,Bt))});const ce=[],We=new Set,ft=new Set;for(let _t=0;_t<this.collectedLeaveElements.length;_t++){const xt=this.collectedLeaveElements[_t],Bt=xt[Pa];Bt&&Bt.setForRemoval&&(ce.push(xt),We.add(xt),Bt.hasAnimation?this.driver.query(xt,".ng-star-inserted",!0).forEach(Sn=>We.add(Sn)):ft.add(xt))}const gt=new Map,dt=pH(O,Array.from(We));dt.forEach((_t,xt)=>{const Bt=PI+ne++;gt.set(xt,Bt),_t.forEach(Sn=>Fa(Sn,Bt))}),t.push(()=>{B.forEach((_t,xt)=>{const Bt=$.get(xt);_t.forEach(Sn=>Ay(Sn,Bt))}),dt.forEach((_t,xt)=>{const Bt=gt.get(xt);_t.forEach(Sn=>Ay(Sn,Bt))}),ce.forEach(_t=>{this.processLeaveNode(_t)})});const At=[],Nt=[];for(let _t=this._namespaceList.length-1;_t>=0;_t--)this._namespaceList[_t].drainQueuedTransitions(e).forEach(Bt=>{const Sn=Bt.player,Fr=Bt.element;if(At.push(Sn),this.collectedEnterElements.length){const ps=Fr[Pa];if(ps&&ps.setForMove){if(ps.previousTriggersValues&&ps.previousTriggersValues.has(Bt.triggerName)){const Bm=ps.previousTriggersValues.get(Bt.triggerName),Na=this.statesByElement.get(Bt.element);if(Na&&Na.has(Bt.triggerName)){const KI=Na.get(Bt.triggerName);KI.value=Bm,Na.set(Bt.triggerName,KI)}}return void Sn.destroy()}}const Wc=!M||!this.driver.containsElement(M,Fr),Qo=gt.get(Fr),vf=$.get(Fr),Si=this._buildInstruction(Bt,i,vf,Qo,Wc);if(Si.errors&&Si.errors.length)return void Nt.push(Si);if(Wc)return Sn.onStart(()=>Nm(Fr,Si.fromStyles)),Sn.onDestroy(()=>Yc(Fr,Si.toStyles)),void r.push(Sn);if(Bt.isFallbackTransition)return Sn.onStart(()=>Nm(Fr,Si.fromStyles)),Sn.onDestroy(()=>Yc(Fr,Si.toStyles)),void r.push(Sn);const MH=[];Si.timelines.forEach(ps=>{ps.stretchStartingKeyframe=!0,this.disabledNodes.has(ps.element)||MH.push(ps)}),Si.timelines=MH,i.append(Fr,Si.timelines),u.push({instruction:Si,player:Sn,element:Fr}),Si.queriedElements.forEach(ps=>Wo(h,ps,[]).push(Sn)),Si.preStyleProps.forEach((ps,Bm)=>{if(ps.size){let Na=_.get(Bm);Na||_.set(Bm,Na=new Set),ps.forEach((KI,vO)=>Na.add(vO))}}),Si.postStyleProps.forEach((ps,Bm)=>{let Na=b.get(Bm);Na||b.set(Bm,Na=new Set),ps.forEach((KI,vO)=>Na.add(vO))})});if(Nt.length){const _t=[];Nt.forEach(xt=>{_t.push(function uW(n,t){return new s.vHH(3505,!1)}())}),At.forEach(xt=>xt.destroy()),this.reportError(_t)}const mn=new Map,Vs=new Map;u.forEach(_t=>{const xt=_t.element;i.has(xt)&&(Vs.set(xt,xt),this._beforeAnimationBuild(_t.player.namespaceId,_t.instruction,mn))}),r.forEach(_t=>{const xt=_t.element;this._getPreviousPlayers(xt,!1,_t.namespaceId,_t.triggerName,null).forEach(Sn=>{Wo(mn,xt,[]).push(Sn),Sn.destroy()})});const Ed=ce.filter(_t=>gH(_t,_,b)),Sd=new Map;fH(Sd,this.driver,ft,b,ao).forEach(_t=>{gH(_t,_,b)&&Ed.push(_t)});const M0=new Map;B.forEach((_t,xt)=>{fH(M0,this.driver,new Set(_t),_,"!")}),Ed.forEach(_t=>{const xt=Sd.get(_t),Bt=M0.get(_t);Sd.set(_t,new Map([...Array.from(xt?.entries()??[]),...Array.from(Bt?.entries()??[])]))});const Vm=[],SH=[],IH={};u.forEach(_t=>{const{element:xt,player:Bt,instruction:Sn}=_t;if(i.has(xt)){if(D.has(xt))return Bt.onDestroy(()=>Yc(xt,Sn.toStyles)),Bt.disabled=!0,Bt.overrideTotalTime(Sn.totalTime),void r.push(Bt);let Fr=IH;if(Vs.size>1){let Qo=xt;const vf=[];for(;Qo=Qo.parentNode;){const Si=Vs.get(Qo);if(Si){Fr=Si;break}vf.push(Qo)}vf.forEach(Si=>Vs.set(Si,Fr))}const Wc=this._buildAnimation(Bt.namespaceId,Sn,mn,o,M0,Sd);if(Bt.setRealPlayer(Wc),Fr===IH)Vm.push(Bt);else{const Qo=this.playersByElement.get(Fr);Qo&&Qo.length&&(Bt.parentPlayer=_f(Qo)),r.push(Bt)}}else Nm(xt,Sn.fromStyles),Bt.onDestroy(()=>Yc(xt,Sn.toStyles)),SH.push(Bt),D.has(xt)&&r.push(Bt)}),SH.forEach(_t=>{const xt=o.get(_t.element);if(xt&&xt.length){const Bt=_f(xt);_t.setRealPlayer(Bt)}}),r.forEach(_t=>{_t.parentPlayer?_t.syncPlayerEvents(_t.parentPlayer):_t.destroy()});for(let _t=0;_t<ce.length;_t++){const xt=ce[_t],Bt=xt[Pa];if(Ay(xt,PI),Bt&&Bt.hasAnimation)continue;let Sn=[];if(h.size){let Wc=h.get(xt);Wc&&Wc.length&&Sn.push(...Wc);let Qo=this.driver.query(xt,nO,!0);for(let vf=0;vf<Qo.length;vf++){let Si=h.get(Qo[vf]);Si&&Si.length&&Sn.push(...Si)}}const Fr=Sn.filter(Wc=>!Wc.destroyed);Fr.length?fK(this,xt,Fr):this.processLeaveNode(xt)}return ce.length=0,Vm.forEach(_t=>{this.players.push(_t),_t.onDone(()=>{_t.destroy();const xt=this.players.indexOf(_t);this.players.splice(xt,1)}),_t.play()}),Vm}elementContainsData(t,e){let i=!1;const r=e[Pa];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(e)&&(i=!0),this.playersByQueriedElement.has(e)&&(i=!0),this.statesByElement.has(e)&&(i=!0),this._fetchNamespace(t).elementContainsData(e)||i}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,i,r,o){let u=[];if(e){const h=this.playersByQueriedElement.get(t);h&&(u=h)}else{const h=this.playersByElement.get(t);if(h){const _=!o||o==I0;h.forEach(b=>{b.queued||!_&&b.triggerName!=r||u.push(b)})}}return(i||r)&&(u=u.filter(h=>!(i&&i!=h.namespaceId||r&&r!=h.triggerName))),u}_beforeAnimationBuild(t,e,i){const o=e.element,u=e.isRemovalTransition?void 0:t,h=e.isRemovalTransition?void 0:e.triggerName;for(const _ of e.timelines){const b=_.element,D=b!==o,M=Wo(i,b,[]);this._getPreviousPlayers(b,D,u,h,e.toState).forEach(B=>{const $=B.getRealPlayer();$.beforeDestroy&&$.beforeDestroy(),B.destroy(),M.push(B)})}Nm(o,e.fromStyles)}_buildAnimation(t,e,i,r,o,u){const h=e.triggerName,_=e.element,b=[],D=new Set,M=new Set,O=e.timelines.map($=>{const ne=$.element;D.add(ne);const ce=ne[Pa];if(ce&&ce.removedBeforeQueried)return new xh($.duration,$.delay);const We=ne!==_,ft=function pK(n){const t=[];return mH(n,t),t}((i.get(ne)||oK).map(mn=>mn.getRealPlayer())).filter(mn=>!!mn.element&&mn.element===ne),gt=o.get(ne),dt=u.get(ne),At=HU(0,this._normalizer,0,$.keyframes,gt,dt),Nt=this._buildPlayer($,At,ft);if($.subTimeline&&r&&M.add(ne),We){const mn=new gO(t,h,ne);mn.setRealPlayer(Nt),b.push(mn)}return Nt});b.forEach($=>{Wo(this.playersByQueriedElement,$.element,[]).push($),$.onDone(()=>function uK(n,t,e){let i=n.get(t);if(i){if(i.length){const r=i.indexOf(e);i.splice(r,1)}0==i.length&&n.delete(t)}return i}(this.playersByQueriedElement,$.element,$))}),D.forEach($=>Fa($,KU));const B=_f(O);return B.onDestroy(()=>{D.forEach($=>Ay($,KU)),Yc(_,e.toStyles)}),M.forEach($=>{Wo(r,$,[]).push(B)}),B}_buildPlayer(t,e,i){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,i):new xh(t.duration,t.delay)}}class gO{constructor(t,e,i){this.namespaceId=t,this.triggerName=e,this.element=i,this._player=new xh,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((e,i)=>{e.forEach(r=>W1(t,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){Wo(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function ZI(n){return n&&1===n.nodeType}function hH(n,t){const e=n.style.display;return n.style.display=t??"none",e}function fH(n,t,e,i,r){const o=[];e.forEach(_=>o.push(hH(_)));const u=[];i.forEach((_,b)=>{const D=new Map;_.forEach(M=>{const O=t.computeStyle(b,M,r);D.set(M,O),(!O||0==O.length)&&(b[Pa]=aK,u.push(b))}),n.set(b,D)});let h=0;return e.forEach(_=>hH(_,o[h++])),u}function pH(n,t){const e=new Map;if(n.forEach(h=>e.set(h,[])),0==t.length)return e;const r=new Set(t),o=new Map;function u(h){if(!h)return 1;let _=o.get(h);if(_)return _;const b=h.parentNode;return _=e.has(b)?b:r.has(b)?1:u(b),o.set(h,_),_}return t.forEach(h=>{const _=u(h);1!==_&&e.get(_).push(h)}),e}function Fa(n,t){n.classList?.add(t)}function Ay(n,t){n.classList?.remove(t)}function fK(n,t,e){_f(e).onDone(()=>n.processLeaveNode(t))}function mH(n,t){for(let e=0;e<n.length;e++){const i=n[e];i instanceof ED?mH(i.players,t):t.push(i)}}function gH(n,t,e){const i=e.get(n);if(!i)return!1;let r=t.get(n);return r?i.forEach(o=>r.add(o)):t.set(n,i),e.delete(n),!0}class YI{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,o)=>{},this._transitionEngine=new cK(t,e,i),this._timelineEngine=new tK(t,e,i),this._transitionEngine.onRemovalComplete=(r,o)=>this.onRemovalComplete(r,o)}registerTrigger(t,e,i,r,o){const u=t+"-"+r;let h=this._triggerCache[u];if(!h){const _=[],D=oO(this._driver,o,_,[]);if(_.length)throw function X8(n,t){return new s.vHH(3404,!1)}();h=function QW(n,t,e){return new JW(n,t,e)}(r,D,this._normalizer),this._triggerCache[u]=h}this._transitionEngine.registerTrigger(e,r,h)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,i,r){this._transitionEngine.insertNode(t,e,i,r)}onRemove(t,e,i,r){this._transitionEngine.removeNode(t,e,r||!1,i)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,i,r){if("@"==i.charAt(0)){const[o,u]=jU(i);this._timelineEngine.command(o,e,u,r)}else this._transitionEngine.trigger(t,e,i,r)}listen(t,e,i,r,o){if("@"==i.charAt(0)){const[u,h]=jU(i);return this._timelineEngine.listen(u,e,h,o)}return this._transitionEngine.listen(t,e,i,r,o)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let _K=(()=>{class n{constructor(e,i,r){this._element=e,this._startStyles=i,this._endStyles=r,this._state=0;let o=n.initialStylesByElement.get(e);o||n.initialStylesByElement.set(e,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&Yc(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Yc(this._element,this._initialStyles),this._endStyles&&(Yc(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Nm(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Nm(this._element,this._endStyles),this._endStyles=null),Yc(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function _O(n){let t=null;return n.forEach((e,i)=>{(function yK(n){return"display"===n||"position"===n})(i)&&(t=t||new Map,t.set(i,e))}),t}class _H{constructor(t,e,i,r){this.element=t,this.keyframes=e,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(t){const e=[];return t.forEach(i=>{e.push(Object.fromEntries(i))}),e}_triggerWebAnimation(t,e,i){return t.animate(this._convertKeyframesToObject(e),i)}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&t.set(r,this._finished?i:nH(this.element,r))}),this.currentSnapshot=t}triggerCallback(t){const e="start"===t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class vK{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}matchesElement(t,e){return!1}containsElement(t,e){return qU(t,e)}getParentElement(t){return X1(t)}query(t,e,i){return ZU(t,e,i)}computeStyle(t,e,i){return window.getComputedStyle(t)[e]}animate(t,e,i,r,o,u=[]){const _={duration:i,delay:r,fill:0==r?"both":"forwards"};o&&(_.easing=o);const b=new Map,D=u.filter(B=>B instanceof _H);(function DW(n,t){return 0===n||0===t})(i,r)&&D.forEach(B=>{B.currentSnapshot.forEach(($,ne)=>b.set(ne,$))});let M=function vW(n){return n.length?n[0]instanceof Map?n:n.map(t=>QU(t)):[]}(e).map(B=>yf(B));M=function EW(n,t,e){if(e.size&&t.length){let i=t[0],r=[];if(e.forEach((o,u)=>{i.has(u)||r.push(u),i.set(u,o)}),r.length)for(let o=1;o<t.length;o++){let u=t[o];r.forEach(h=>u.set(h,nH(n,h)))}}return t}(t,M,b);const O=function gK(n,t){let e=null,i=null;return Array.isArray(t)&&t.length?(e=_O(t[0]),t.length>1&&(i=_O(t[t.length-1]))):t instanceof Map&&(e=_O(t)),e||i?new _K(n,e,i):null}(t,M);return new _H(t,M,_,O)}}let bK=(()=>{class n extends mA{constructor(e,i){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(i.body,{id:"0",encapsulation:s.ifc.None,styles:[],data:{animation:[]}})}build(e){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(e)?Ah(e):e;return yH(this._renderer,null,i,"register",[r]),new wK(i,this._renderer)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.FYo),s.LFG(te))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class wK extends class CD{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new CK(this._id,t,e||{},this._renderer)}}class CK{constructor(t,e,i,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return yH(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function yH(n,t,e,i,r){return n.setProperty(t,`@@${e}:${i}`,r)}const vH="@.disabled";let DK=(()=>{class n{constructor(e,i,r){this.delegate=e,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(o,u)=>{const h=u?.parentNode(o);h&&u.removeChild(h,o)}}createRenderer(e,i){const o=this.delegate.createRenderer(e,i);if(!(e&&i&&i.data&&i.data.animation)){let D=this._rendererCache.get(o);return D||(D=new bH("",o,this.engine,()=>this._rendererCache.delete(o)),this._rendererCache.set(o,D)),D}const u=i.id,h=i.id+"-"+this._currentId;this._currentId++,this.engine.register(h,e);const _=D=>{Array.isArray(D)?D.forEach(_):this.engine.registerTrigger(u,h,e,D.name,D)};return i.data.animation.forEach(_),new EK(this,h,o,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,i,r){e>=0&&e<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(o=>{const[u,h]=o;u(h)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.FYo),s.LFG(YI),s.LFG(s.R0b))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class bH{constructor(t,e,i,r){this.namespaceId=t,this.delegate=e,this.engine=i,this._onDestroy=r,this.destroyNode=this.delegate.destroyNode?o=>e.destroyNode(o):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,i,r=!0){this.delegate.insertBefore(t,e,i),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,i){this.engine.onRemove(this.namespaceId,e,this.delegate,i)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,r){this.delegate.setAttribute(t,e,i,r)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,r){this.delegate.setStyle(t,e,i,r)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){"@"==e.charAt(0)&&e==vH?this.disableAnimations(t,!!i):this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i){return this.delegate.listen(t,e,i)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class EK extends bH{constructor(t,e,i,r,o){super(e,i,r,o),this.factory=t,this.namespaceId=e}setProperty(t,e,i){"@"==e.charAt(0)?"."==e.charAt(1)&&e==vH?this.disableAnimations(t,i=void 0===i||!!i):this.engine.process(this.namespaceId,t,e.slice(1),i):this.delegate.setProperty(t,e,i)}listen(t,e,i){if("@"==e.charAt(0)){const r=function SK(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let o=e.slice(1),u="";return"@"!=o.charAt(0)&&([o,u]=function IK(n){const t=n.indexOf(".");return[n.substring(0,t),n.slice(t+1)]}(o)),this.engine.listen(this.namespaceId,r,o,u,h=>{this.factory.scheduleListenerCallback(h._data||-1,i,h)})}return this.delegate.listen(t,e,i)}}let MK=(()=>{class n extends YI{constructor(e,i,r,o){super(e.body,i,r)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(te),s.LFG(eO),s.LFG(dO),s.LFG(s.z2F))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const wH=[{provide:mA,useClass:bK},{provide:dO,useFactory:function TK(){return new ZW}},{provide:YI,useClass:MK},{provide:s.FYo,useFactory:function AK(n,t,e){return new DK(n,t,e)},deps:[Io,YI,s.R0b]}],yO=[{provide:eO,useFactory:()=>new vK},{provide:s.QbO,useValue:"BrowserAnimations"},...wH],CH=[{provide:eO,useClass:YU},{provide:s.QbO,useValue:"NoopAnimations"},...wH];let xK=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?CH:yO}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:yO,imports:[ac]}),n})();const DH_firebaseConfig={apiKey:"AIzaSyDwNOue1hdzFdIHapVaUPsVWw5f9GvXj9o",authDomain:"hospital-f000e.firebaseapp.com",projectId:"hospital-f000e",storageBucket:"hospital-f000e.appspot.com",messagingSenderId:"965685386973",appId:"1:965685386973:web:9cd3360076307e69b94534"};let kK=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[oU,MU,n0,OU,yU,BU,xD,mB,r0,DB,AB,_1,zB,Xv,H1,nU,KB,IU,oU,MU,n0,OU,yU,BU,xD,mB,r0,DB,AB,_1,zB,Xv,H1,nU,KB,IU]}),n})(),RK=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n,bootstrap:[k8]}),n.\u0275inj=s.cJS({imports:[ac,q5,xK,jo.hO.initializeApp(DH_firebaseConfig),E$,kK,xZ,tx,tF]}),n})();(0,s.G48)(),oc().bootstrapModule(RK).catch(n=>console.error(n))},9751:(ct,Ie,F)=>{F.d(Ie,{y:()=>fe});var s=F(930),ee=F(727),P=F(8822),oe=F(9635),ae=F(2416),he=F(576),te=F(2806);let fe=(()=>{class W{constructor(xe){xe&&(this._subscribe=xe)}lift(xe){const Ce=new W;return Ce.source=this,Ce.operator=xe,Ce}subscribe(xe,Ce,rt){const _e=function j(W){return W&&W instanceof s.Lv||function H(W){return W&&(0,he.m)(W.next)&&(0,he.m)(W.error)&&(0,he.m)(W.complete)}(W)&&(0,ee.Nn)(W)}(xe)?xe:new s.Hp(xe,Ce,rt);return(0,te.x)(()=>{const{operator:me,source:tt}=this;_e.add(me?me.call(_e,tt):tt?this._subscribe(_e):this._trySubscribe(_e))}),_e}_trySubscribe(xe){try{return this._subscribe(xe)}catch(Ce){xe.error(Ce)}}forEach(xe,Ce){return new(Ce=pe(Ce))((rt,_e)=>{const me=new s.Hp({next:tt=>{try{xe(tt)}catch(at){_e(at),me.unsubscribe()}},error:_e,complete:rt});this.subscribe(me)})}_subscribe(xe){var Ce;return null===(Ce=this.source)||void 0===Ce?void 0:Ce.subscribe(xe)}[P.L](){return this}pipe(...xe){return(0,oe.U)(xe)(this)}toPromise(xe){return new(xe=pe(xe))((Ce,rt)=>{let _e;this.subscribe(me=>_e=me,me=>rt(me),()=>Ce(_e))})}}return W.create=Ne=>new W(Ne),W})();function pe(W){var Ne;return null!==(Ne=W??ae.v.Promise)&&void 0!==Ne?Ne:Promise}},7579:(ct,Ie,F)=>{F.d(Ie,{x:()=>te});var s=F(9751),ee=F(727);const oe=(0,F(3888).d)(pe=>function(){pe(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ae=F(8737),he=F(2806);let te=(()=>{class pe extends s.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(j){const W=new fe(this,this);return W.operator=j,W}_throwIfClosed(){if(this.closed)throw new oe}next(j){(0,he.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const W of this.currentObservers)W.next(j)}})}error(j){(0,he.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=j;const{observers:W}=this;for(;W.length;)W.shift().error(j)}})}complete(){(0,he.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:j}=this;for(;j.length;)j.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var j;return(null===(j=this.observers)||void 0===j?void 0:j.length)>0}_trySubscribe(j){return this._throwIfClosed(),super._trySubscribe(j)}_subscribe(j){return this._throwIfClosed(),this._checkFinalizedStatuses(j),this._innerSubscribe(j)}_innerSubscribe(j){const{hasError:W,isStopped:Ne,observers:xe}=this;return W||Ne?ee.Lc:(this.currentObservers=null,xe.push(j),new ee.w0(()=>{this.currentObservers=null,(0,ae.P)(xe,j)}))}_checkFinalizedStatuses(j){const{hasError:W,thrownError:Ne,isStopped:xe}=this;W?j.error(Ne):xe&&j.complete()}asObservable(){const j=new s.y;return j.source=this,j}}return pe.create=(H,j)=>new fe(H,j),pe})();class fe extends te{constructor(H,j){super(),this.destination=H,this.source=j}next(H){var j,W;null===(W=null===(j=this.destination)||void 0===j?void 0:j.next)||void 0===W||W.call(j,H)}error(H){var j,W;null===(W=null===(j=this.destination)||void 0===j?void 0:j.error)||void 0===W||W.call(j,H)}complete(){var H,j;null===(j=null===(H=this.destination)||void 0===H?void 0:H.complete)||void 0===j||j.call(H)}_subscribe(H){var j,W;return null!==(W=null===(j=this.source)||void 0===j?void 0:j.subscribe(H))&&void 0!==W?W:ee.Lc}}},930:(ct,Ie,F)=>{F.d(Ie,{Hp:()=>rt,Lv:()=>W});var s=F(576),ee=F(727),P=F(2416),oe=F(7849),ae=F(5032);const he=pe("C",void 0,void 0);function pe(Te,be,De){return{kind:Te,value:be,error:De}}var H=F(3410),j=F(2806);class W extends ee.w0{constructor(be){super(),this.isStopped=!1,be?(this.destination=be,(0,ee.Nn)(be)&&be.add(this)):this.destination=at}static create(be,De,Ue){return new rt(be,De,Ue)}next(be){this.isStopped?tt(function fe(Te){return pe("N",Te,void 0)}(be),this):this._next(be)}error(be){this.isStopped?tt(function te(Te){return pe("E",void 0,Te)}(be),this):(this.isStopped=!0,this._error(be))}complete(){this.isStopped?tt(he,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(be){this.destination.next(be)}_error(be){try{this.destination.error(be)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ne=Function.prototype.bind;function xe(Te,be){return Ne.call(Te,be)}class Ce{constructor(be){this.partialObserver=be}next(be){const{partialObserver:De}=this;if(De.next)try{De.next(be)}catch(Ue){_e(Ue)}}error(be){const{partialObserver:De}=this;if(De.error)try{De.error(be)}catch(Ue){_e(Ue)}else _e(be)}complete(){const{partialObserver:be}=this;if(be.complete)try{be.complete()}catch(De){_e(De)}}}class rt extends W{constructor(be,De,Ue){let He;if(super(),(0,s.m)(be)||!be)He={next:be??void 0,error:De??void 0,complete:Ue??void 0};else{let U;this&&P.v.useDeprecatedNextContext?(U=Object.create(be),U.unsubscribe=()=>this.unsubscribe(),He={next:be.next&&xe(be.next,U),error:be.error&&xe(be.error,U),complete:be.complete&&xe(be.complete,U)}):He=be}this.destination=new Ce(He)}}function _e(Te){P.v.useDeprecatedSynchronousErrorHandling?(0,j.O)(Te):(0,oe.h)(Te)}function tt(Te,be){const{onStoppedNotification:De}=P.v;De&&H.z.setTimeout(()=>De(Te,be))}const at={closed:!0,next:ae.Z,error:function me(Te){throw Te},complete:ae.Z}},727:(ct,Ie,F)=>{F.d(Ie,{Lc:()=>he,w0:()=>ae,Nn:()=>te});var s=F(576);const P=(0,F(3888).d)(pe=>function(j){pe(this),this.message=j?`${j.length} errors occurred during unsubscription:\n${j.map((W,Ne)=>`${Ne+1}) ${W.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=j});var oe=F(8737);class ae{constructor(H){this.initialTeardown=H,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let H;if(!this.closed){this.closed=!0;const{_parentage:j}=this;if(j)if(this._parentage=null,Array.isArray(j))for(const xe of j)xe.remove(this);else j.remove(this);const{initialTeardown:W}=this;if((0,s.m)(W))try{W()}catch(xe){H=xe instanceof P?xe.errors:[xe]}const{_finalizers:Ne}=this;if(Ne){this._finalizers=null;for(const xe of Ne)try{fe(xe)}catch(Ce){H=H??[],Ce instanceof P?H=[...H,...Ce.errors]:H.push(Ce)}}if(H)throw new P(H)}}add(H){var j;if(H&&H!==this)if(this.closed)fe(H);else{if(H instanceof ae){if(H.closed||H._hasParent(this))return;H._addParent(this)}(this._finalizers=null!==(j=this._finalizers)&&void 0!==j?j:[]).push(H)}}_hasParent(H){const{_parentage:j}=this;return j===H||Array.isArray(j)&&j.includes(H)}_addParent(H){const{_parentage:j}=this;this._parentage=Array.isArray(j)?(j.push(H),j):j?[j,H]:H}_removeParent(H){const{_parentage:j}=this;j===H?this._parentage=null:Array.isArray(j)&&(0,oe.P)(j,H)}remove(H){const{_finalizers:j}=this;j&&(0,oe.P)(j,H),H instanceof ae&&H._removeParent(this)}}ae.EMPTY=(()=>{const pe=new ae;return pe.closed=!0,pe})();const he=ae.EMPTY;function te(pe){return pe instanceof ae||pe&&"closed"in pe&&(0,s.m)(pe.remove)&&(0,s.m)(pe.add)&&(0,s.m)(pe.unsubscribe)}function fe(pe){(0,s.m)(pe)?pe():pe.unsubscribe()}},2416:(ct,Ie,F)=>{F.d(Ie,{v:()=>s});const s={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(ct,Ie,F)=>{F.d(Ie,{E:()=>ee});const ee=new(F(9751).y)(ae=>ae.complete())},8996:(ct,Ie,F)=>{F.d(Ie,{D:()=>be});var s=F(8421),ee=F(5363),P=F(9468),he=F(9751),fe=F(2202),pe=F(576),H=F(9672);function W(De,Ue){if(!De)throw new Error("Iterable cannot be null");return new he.y(He=>{(0,H.f)(He,Ue,()=>{const U=De[Symbol.asyncIterator]();(0,H.f)(He,Ue,()=>{U.next().then(ge=>{ge.done?He.complete():He.next(ge.value)})},0,!0)})})}var Ne=F(3670),xe=F(8239),Ce=F(1144),rt=F(6495),_e=F(2206),me=F(4532),tt=F(3260);function be(De,Ue){return Ue?function Te(De,Ue){if(null!=De){if((0,Ne.c)(De))return function oe(De,Ue){return(0,s.Xf)(De).pipe((0,P.R)(Ue),(0,ee.Q)(Ue))}(De,Ue);if((0,Ce.z)(De))return function te(De,Ue){return new he.y(He=>{let U=0;return Ue.schedule(function(){U===De.length?He.complete():(He.next(De[U++]),He.closed||this.schedule())})})}(De,Ue);if((0,xe.t)(De))return function ae(De,Ue){return(0,s.Xf)(De).pipe((0,P.R)(Ue),(0,ee.Q)(Ue))}(De,Ue);if((0,_e.D)(De))return W(De,Ue);if((0,rt.T)(De))return function j(De,Ue){return new he.y(He=>{let U;return(0,H.f)(He,Ue,()=>{U=De[fe.h](),(0,H.f)(He,Ue,()=>{let ge,Z;try{({value:ge,done:Z}=U.next())}catch(J){return void He.error(J)}Z?He.complete():He.next(ge)},0,!0)}),()=>(0,pe.m)(U?.return)&&U.return()})}(De,Ue);if((0,tt.L)(De))return function at(De,Ue){return W((0,tt.Q)(De),Ue)}(De,Ue)}throw(0,me.z)(De)}(De,Ue):(0,s.Xf)(De)}},8421:(ct,Ie,F)=>{F.d(Ie,{Xf:()=>Ne});var s=F(655),ee=F(1144),P=F(8239),oe=F(9751),ae=F(3670),he=F(2206),te=F(4532),fe=F(6495),pe=F(3260),H=F(576),j=F(7849),W=F(8822);function Ne(Te){if(Te instanceof oe.y)return Te;if(null!=Te){if((0,ae.c)(Te))return function xe(Te){return new oe.y(be=>{const De=Te[W.L]();if((0,H.m)(De.subscribe))return De.subscribe(be);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Te);if((0,ee.z)(Te))return function Ce(Te){return new oe.y(be=>{for(let De=0;De<Te.length&&!be.closed;De++)be.next(Te[De]);be.complete()})}(Te);if((0,P.t)(Te))return function rt(Te){return new oe.y(be=>{Te.then(De=>{be.closed||(be.next(De),be.complete())},De=>be.error(De)).then(null,j.h)})}(Te);if((0,he.D)(Te))return me(Te);if((0,fe.T)(Te))return function _e(Te){return new oe.y(be=>{for(const De of Te)if(be.next(De),be.closed)return;be.complete()})}(Te);if((0,pe.L)(Te))return function tt(Te){return me((0,pe.Q)(Te))}(Te)}throw(0,te.z)(Te)}function me(Te){return new oe.y(be=>{(function at(Te,be){var De,Ue,He,U;return(0,s.mG)(this,void 0,void 0,function*(){try{for(De=(0,s.KL)(Te);!(Ue=yield De.next()).done;)if(be.next(Ue.value),be.closed)return}catch(ge){He={error:ge}}finally{try{Ue&&!Ue.done&&(U=De.return)&&(yield U.call(De))}finally{if(He)throw He.error}}be.complete()})})(Te,be).catch(De=>be.error(De))})}},6451:(ct,Ie,F)=>{F.d(Ie,{T:()=>he});var s=F(8189),ee=F(8421),P=F(515),oe=F(3269),ae=F(8996);function he(...te){const fe=(0,oe.yG)(te),pe=(0,oe._6)(te,1/0),H=te;return H.length?1===H.length?(0,ee.Xf)(H[0]):(0,s.J)(pe)((0,ae.D)(H,fe)):P.E}},5403:(ct,Ie,F)=>{F.d(Ie,{x:()=>ee});var s=F(930);function ee(oe,ae,he,te,fe){return new P(oe,ae,he,te,fe)}class P extends s.Lv{constructor(ae,he,te,fe,pe,H){super(ae),this.onFinalize=pe,this.shouldUnsubscribe=H,this._next=he?function(j){try{he(j)}catch(W){ae.error(W)}}:super._next,this._error=fe?function(j){try{fe(j)}catch(W){ae.error(W)}finally{this.unsubscribe()}}:super._error,this._complete=te?function(){try{te()}catch(j){ae.error(j)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ae;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:he}=this;super.unsubscribe(),!he&&(null===(ae=this.onFinalize)||void 0===ae||ae.call(this))}}}},4004:(ct,Ie,F)=>{F.d(Ie,{U:()=>P});var s=F(4482),ee=F(5403);function P(oe,ae){return(0,s.e)((he,te)=>{let fe=0;he.subscribe((0,ee.x)(te,pe=>{te.next(oe.call(ae,pe,fe++))}))})}},8189:(ct,Ie,F)=>{F.d(Ie,{J:()=>P});var s=F(5577),ee=F(4671);function P(oe=1/0){return(0,s.z)(ee.y,oe)}},5577:(ct,Ie,F)=>{F.d(Ie,{z:()=>fe});var s=F(4004),ee=F(8421),P=F(4482),oe=F(9672),ae=F(5403),te=F(576);function fe(pe,H,j=1/0){return(0,te.m)(H)?fe((W,Ne)=>(0,s.U)((xe,Ce)=>H(W,xe,Ne,Ce))((0,ee.Xf)(pe(W,Ne))),j):("number"==typeof H&&(j=H),(0,P.e)((W,Ne)=>function he(pe,H,j,W,Ne,xe,Ce,rt){const _e=[];let me=0,tt=0,at=!1;const Te=()=>{at&&!_e.length&&!me&&H.complete()},be=Ue=>me<W?De(Ue):_e.push(Ue),De=Ue=>{xe&&H.next(Ue),me++;let He=!1;(0,ee.Xf)(j(Ue,tt++)).subscribe((0,ae.x)(H,U=>{Ne?.(U),xe?be(U):H.next(U)},()=>{He=!0},void 0,()=>{if(He)try{for(me--;_e.length&&me<W;){const U=_e.shift();Ce?(0,oe.f)(H,Ce,()=>De(U)):De(U)}Te()}catch(U){H.error(U)}}))};return pe.subscribe((0,ae.x)(H,be,()=>{at=!0,Te()})),()=>{rt?.()}}(W,Ne,pe,j)))}},5363:(ct,Ie,F)=>{F.d(Ie,{Q:()=>oe});var s=F(9672),ee=F(4482),P=F(5403);function oe(ae,he=0){return(0,ee.e)((te,fe)=>{te.subscribe((0,P.x)(fe,pe=>(0,s.f)(fe,ae,()=>fe.next(pe),he),()=>(0,s.f)(fe,ae,()=>fe.complete(),he),pe=>(0,s.f)(fe,ae,()=>fe.error(pe),he)))})}},3099:(ct,Ie,F)=>{F.d(Ie,{B:()=>ae});var s=F(8421),ee=F(7579),P=F(930),oe=F(4482);function ae(te={}){const{connector:fe=(()=>new ee.x),resetOnError:pe=!0,resetOnComplete:H=!0,resetOnRefCountZero:j=!0}=te;return W=>{let Ne,xe,Ce,rt=0,_e=!1,me=!1;const tt=()=>{xe?.unsubscribe(),xe=void 0},at=()=>{tt(),Ne=Ce=void 0,_e=me=!1},Te=()=>{const be=Ne;at(),be?.unsubscribe()};return(0,oe.e)((be,De)=>{rt++,!me&&!_e&&tt();const Ue=Ce=Ce??fe();De.add(()=>{rt--,0===rt&&!me&&!_e&&(xe=he(Te,j))}),Ue.subscribe(De),!Ne&&rt>0&&(Ne=new P.Hp({next:He=>Ue.next(He),error:He=>{me=!0,tt(),xe=he(at,pe,He),Ue.error(He)},complete:()=>{_e=!0,tt(),xe=he(at,H),Ue.complete()}}),(0,s.Xf)(be).subscribe(Ne))})(W)}}function he(te,fe,...pe){if(!0===fe)return void te();if(!1===fe)return;const H=new P.Hp({next:()=>{H.unsubscribe(),te()}});return fe(...pe).subscribe(H)}},9468:(ct,Ie,F)=>{F.d(Ie,{R:()=>ee});var s=F(4482);function ee(P,oe=0){return(0,s.e)((ae,he)=>{he.add(P.schedule(()=>ae.subscribe(he),oe))})}},8505:(ct,Ie,F)=>{F.d(Ie,{b:()=>ae});var s=F(576),ee=F(4482),P=F(5403),oe=F(4671);function ae(he,te,fe){const pe=(0,s.m)(he)||te||fe?{next:he,error:te,complete:fe}:he;return pe?(0,ee.e)((H,j)=>{var W;null===(W=pe.subscribe)||void 0===W||W.call(pe);let Ne=!0;H.subscribe((0,P.x)(j,xe=>{var Ce;null===(Ce=pe.next)||void 0===Ce||Ce.call(pe,xe),j.next(xe)},()=>{var xe;Ne=!1,null===(xe=pe.complete)||void 0===xe||xe.call(pe),j.complete()},xe=>{var Ce;Ne=!1,null===(Ce=pe.error)||void 0===Ce||Ce.call(pe,xe),j.error(xe)},()=>{var xe,Ce;Ne&&(null===(xe=pe.unsubscribe)||void 0===xe||xe.call(pe)),null===(Ce=pe.finalize)||void 0===Ce||Ce.call(pe)}))}):oe.y}},4408:(ct,Ie,F)=>{F.d(Ie,{o:()=>ae});var s=F(727);class ee extends s.w0{constructor(te,fe){super()}schedule(te,fe=0){return this}}const P={setInterval(he,te,...fe){const{delegate:pe}=P;return pe?.setInterval?pe.setInterval(he,te,...fe):setInterval(he,te,...fe)},clearInterval(he){const{delegate:te}=P;return(te?.clearInterval||clearInterval)(he)},delegate:void 0};var oe=F(8737);class ae extends ee{constructor(te,fe){super(te,fe),this.scheduler=te,this.work=fe,this.pending=!1}schedule(te,fe=0){var pe;if(this.closed)return this;this.state=te;const H=this.id,j=this.scheduler;return null!=H&&(this.id=this.recycleAsyncId(j,H,fe)),this.pending=!0,this.delay=fe,this.id=null!==(pe=this.id)&&void 0!==pe?pe:this.requestAsyncId(j,this.id,fe),this}requestAsyncId(te,fe,pe=0){return P.setInterval(te.flush.bind(te,this),pe)}recycleAsyncId(te,fe,pe=0){if(null!=pe&&this.delay===pe&&!1===this.pending)return fe;null!=fe&&P.clearInterval(fe)}execute(te,fe){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const pe=this._execute(te,fe);if(pe)return pe;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(te,fe){let H,pe=!1;try{this.work(te)}catch(j){pe=!0,H=j||new Error("Scheduled action threw falsy error")}if(pe)return this.unsubscribe(),H}unsubscribe(){if(!this.closed){const{id:te,scheduler:fe}=this,{actions:pe}=fe;this.work=this.state=this.scheduler=null,this.pending=!1,(0,oe.P)(pe,this),null!=te&&(this.id=this.recycleAsyncId(fe,te,null)),this.delay=null,super.unsubscribe()}}}},7565:(ct,Ie,F)=>{F.d(Ie,{v:()=>P});var s=F(6063);class ee{constructor(ae,he=ee.now){this.schedulerActionCtor=ae,this.now=he}schedule(ae,he=0,te){return new this.schedulerActionCtor(this,ae).schedule(te,he)}}ee.now=s.l.now;class P extends ee{constructor(ae,he=ee.now){super(ae,he),this.actions=[],this._active=!1}flush(ae){const{actions:he}=this;if(this._active)return void he.push(ae);let te;this._active=!0;do{if(te=ae.execute(ae.state,ae.delay))break}while(ae=he.shift());if(this._active=!1,te){for(;ae=he.shift();)ae.unsubscribe();throw te}}}},4986:(ct,Ie,F)=>{F.d(Ie,{P:()=>oe,z:()=>P});var s=F(4408);const P=new(F(7565).v)(s.o),oe=P},6063:(ct,Ie,F)=>{F.d(Ie,{l:()=>s});const s={now:()=>(s.delegate||Date).now(),delegate:void 0}},3410:(ct,Ie,F)=>{F.d(Ie,{z:()=>s});const s={setTimeout(ee,P,...oe){const{delegate:ae}=s;return ae?.setTimeout?ae.setTimeout(ee,P,...oe):setTimeout(ee,P,...oe)},clearTimeout(ee){const{delegate:P}=s;return(P?.clearTimeout||clearTimeout)(ee)},delegate:void 0}},2202:(ct,Ie,F)=>{F.d(Ie,{h:()=>ee});const ee=function s(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(ct,Ie,F)=>{F.d(Ie,{L:()=>s});const s="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(ct,Ie,F)=>{F.d(Ie,{_6:()=>he,jO:()=>oe,yG:()=>ae});var s=F(576),ee=F(3532);function P(te){return te[te.length-1]}function oe(te){return(0,s.m)(P(te))?te.pop():void 0}function ae(te){return(0,ee.K)(P(te))?te.pop():void 0}function he(te,fe){return"number"==typeof P(te)?te.pop():fe}},8737:(ct,Ie,F)=>{function s(ee,P){if(ee){const oe=ee.indexOf(P);0<=oe&&ee.splice(oe,1)}}F.d(Ie,{P:()=>s})},3888:(ct,Ie,F)=>{function s(ee){const oe=ee(ae=>{Error.call(ae),ae.stack=(new Error).stack});return oe.prototype=Object.create(Error.prototype),oe.prototype.constructor=oe,oe}F.d(Ie,{d:()=>s})},2806:(ct,Ie,F)=>{F.d(Ie,{O:()=>oe,x:()=>P});var s=F(2416);let ee=null;function P(ae){if(s.v.useDeprecatedSynchronousErrorHandling){const he=!ee;if(he&&(ee={errorThrown:!1,error:null}),ae(),he){const{errorThrown:te,error:fe}=ee;if(ee=null,te)throw fe}}else ae()}function oe(ae){s.v.useDeprecatedSynchronousErrorHandling&&ee&&(ee.errorThrown=!0,ee.error=ae)}},9672:(ct,Ie,F)=>{function s(ee,P,oe,ae=0,he=!1){const te=P.schedule(function(){oe(),he?ee.add(this.schedule(null,ae)):this.unsubscribe()},ae);if(ee.add(te),!he)return te}F.d(Ie,{f:()=>s})},4671:(ct,Ie,F)=>{function s(ee){return ee}F.d(Ie,{y:()=>s})},1144:(ct,Ie,F)=>{F.d(Ie,{z:()=>s});const s=ee=>ee&&"number"==typeof ee.length&&"function"!=typeof ee},2206:(ct,Ie,F)=>{F.d(Ie,{D:()=>ee});var s=F(576);function ee(P){return Symbol.asyncIterator&&(0,s.m)(P?.[Symbol.asyncIterator])}},576:(ct,Ie,F)=>{function s(ee){return"function"==typeof ee}F.d(Ie,{m:()=>s})},3670:(ct,Ie,F)=>{F.d(Ie,{c:()=>P});var s=F(8822),ee=F(576);function P(oe){return(0,ee.m)(oe[s.L])}},6495:(ct,Ie,F)=>{F.d(Ie,{T:()=>P});var s=F(2202),ee=F(576);function P(oe){return(0,ee.m)(oe?.[s.h])}},8239:(ct,Ie,F)=>{F.d(Ie,{t:()=>ee});var s=F(576);function ee(P){return(0,s.m)(P?.then)}},3260:(ct,Ie,F)=>{F.d(Ie,{L:()=>oe,Q:()=>P});var s=F(655),ee=F(576);function P(ae){return(0,s.FC)(this,arguments,function*(){const te=ae.getReader();try{for(;;){const{value:fe,done:pe}=yield(0,s.qq)(te.read());if(pe)return yield(0,s.qq)(void 0);yield yield(0,s.qq)(fe)}}finally{te.releaseLock()}})}function oe(ae){return(0,ee.m)(ae?.getReader)}},3532:(ct,Ie,F)=>{F.d(Ie,{K:()=>ee});var s=F(576);function ee(P){return P&&(0,s.m)(P.schedule)}},4482:(ct,Ie,F)=>{F.d(Ie,{A:()=>ee,e:()=>P});var s=F(576);function ee(oe){return(0,s.m)(oe?.lift)}function P(oe){return ae=>{if(ee(ae))return ae.lift(function(he){try{return oe(he,this)}catch(te){this.error(te)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(ct,Ie,F)=>{function s(){}F.d(Ie,{Z:()=>s})},9635:(ct,Ie,F)=>{F.d(Ie,{U:()=>P,z:()=>ee});var s=F(4671);function ee(...oe){return P(oe)}function P(oe){return 0===oe.length?s.y:1===oe.length?oe[0]:function(he){return oe.reduce((te,fe)=>fe(te),he)}}},7849:(ct,Ie,F)=>{F.d(Ie,{h:()=>P});var s=F(2416),ee=F(3410);function P(oe){ee.z.setTimeout(()=>{const{onUnhandledError:ae}=s.v;if(!ae)throw oe;ae(oe)})}},4532:(ct,Ie,F)=>{function s(ee){return new TypeError(`You provided ${null!==ee&&"object"==typeof ee?"an invalid object":`'${ee}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}F.d(Ie,{z:()=>s})},655:(ct,Ie,F)=>{function oe(Z,J){var se={};for(var re in Z)Object.prototype.hasOwnProperty.call(Z,re)&&J.indexOf(re)<0&&(se[re]=Z[re]);if(null!=Z&&"function"==typeof Object.getOwnPropertySymbols){var Fe=0;for(re=Object.getOwnPropertySymbols(Z);Fe<re.length;Fe++)J.indexOf(re[Fe])<0&&Object.prototype.propertyIsEnumerable.call(Z,re[Fe])&&(se[re[Fe]]=Z[re[Fe]])}return se}function fe(Z,J,se,re){return new(se||(se=Promise))(function(Re,pt){function an(gn){try{Ke(re.next(gn))}catch(Rn){pt(Rn)}}function Yt(gn){try{Ke(re.throw(gn))}catch(Rn){pt(Rn)}}function Ke(gn){gn.done?Re(gn.value):function Fe(Re){return Re instanceof se?Re:new se(function(pt){pt(Re)})}(gn.value).then(an,Yt)}Ke((re=re.apply(Z,J||[])).next())})}function _e(Z){return this instanceof _e?(this.v=Z,this):new _e(Z)}function me(Z,J,se){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Fe,re=se.apply(Z,J||[]),Re=[];return Fe={},pt("next"),pt("throw"),pt("return"),Fe[Symbol.asyncIterator]=function(){return this},Fe;function pt(tn){re[tn]&&(Fe[tn]=function(ln){return new Promise(function($i,Ht){Re.push([tn,ln,$i,Ht])>1||an(tn,ln)})})}function an(tn,ln){try{!function Yt(tn){tn.value instanceof _e?Promise.resolve(tn.value.v).then(Ke,gn):Rn(Re[0][2],tn)}(re[tn](ln))}catch($i){Rn(Re[0][3],$i)}}function Ke(tn){an("next",tn)}function gn(tn){an("throw",tn)}function Rn(tn,ln){tn(ln),Re.shift(),Re.length&&an(Re[0][0],Re[0][1])}}function at(Z){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var se,J=Z[Symbol.asyncIterator];return J?J.call(Z):(Z=function W(Z){var J="function"==typeof Symbol&&Symbol.iterator,se=J&&Z[J],re=0;if(se)return se.call(Z);if(Z&&"number"==typeof Z.length)return{next:function(){return Z&&re>=Z.length&&(Z=void 0),{value:Z&&Z[re++],done:!Z}}};throw new TypeError(J?"Object is not iterable.":"Symbol.iterator is not defined.")}(Z),se={},re("next"),re("throw"),re("return"),se[Symbol.asyncIterator]=function(){return this},se);function re(Re){se[Re]=Z[Re]&&function(pt){return new Promise(function(an,Yt){!function Fe(Re,pt,an,Yt){Promise.resolve(Yt).then(function(Ke){Re({value:Ke,done:an})},pt)}(an,Yt,(pt=Z[Re](pt)).done,pt.value)})}}}F.d(Ie,{FC:()=>me,KL:()=>at,_T:()=>oe,mG:()=>fe,qq:()=>_e})},4650:(ct,Ie,F)=>{F.d(Ie,{$8M:()=>uc,$Z:()=>fv,AFp:()=>Fb,ALo:()=>RA,AaK:()=>fe,BQk:()=>bp,CHM:()=>$l,CRH:()=>BA,CZH:()=>ka,CqO:()=>Ku,D6c:()=>BE,DdM:()=>Pp,EJc:()=>yE,EiD:()=>N0,EpF:()=>Av,F$t:()=>Zg,F4k:()=>NC,FYo:()=>ip,FiY:()=>Le,G48:()=>Zb,Gf:()=>Sb,GfV:()=>K0,GkF:()=>wp,Gpc:()=>j,Gre:()=>oD,Hsn:()=>UC,Ikx:()=>Kv,JOm:()=>Ts,JVY:()=>Wf,KtG:()=>ql,L6k:()=>Kf,LAX:()=>Qf,LFG:()=>Et,LSH:()=>lh,Lbi:()=>ex,Lck:()=>Lc,MAs:()=>TT,MMx:()=>a_,NdJ:()=>LC,O4$:()=>mu,OlP:()=>xn,Oqu:()=>zv,PXZ:()=>DE,Q6J:()=>PC,QGY:()=>xv,QP$:()=>nn,QbO:()=>_E,Qsj:()=>yM,R0b:()=>Xi,RDi:()=>y,Rgc:()=>Bc,SBq:()=>Hu,Sil:()=>iF,Suo:()=>WD,TTD:()=>ys,TgZ:()=>hr,Udp:()=>Dh,VKq:()=>yb,WFA:()=>VC,X6Q:()=>qb,XFs:()=>Je,Xpm:()=>Se,Xts:()=>vg,Y36:()=>$u,YKP:()=>Ji,YNc:()=>MT,Yjl:()=>we,Yz7:()=>ln,Z0I:()=>ms,ZZ4:()=>Xb,_Bn:()=>El,_UZ:()=>Tv,_Vd:()=>Dc,_c5:()=>iw,_uU:()=>rD,aQg:()=>ew,c2e:()=>XP,cJS:()=>Ht,cg1:()=>Fc,d8E:()=>Qv,dDg:()=>zp,dqk:()=>fn,eBb:()=>Bu,eFA:()=>$p,ekj:()=>QC,eoX:()=>wE,f3M:()=>S,g9A:()=>Lb,h0i:()=>sd,hGG:()=>rw,hij:()=>Eh,iGM:()=>YD,ifc:()=>ut,ip1:()=>mE,jDz:()=>db,kL8:()=>Cl,kcU:()=>Pd,lG2:()=>Y,lcZ:()=>OA,lqb:()=>Cc,lri:()=>jp,mCW:()=>Ca,n5z:()=>Es,n_E:()=>Vc,oAB:()=>$t,oxw:()=>BC,pB0:()=>pg,q3G:()=>si,q4F:()=>Q0,qLn:()=>ju,qOj:()=>xC,qZA:()=>vp,qzn:()=>$r,rWj:()=>Gp,sBO:()=>xE,sIi:()=>zg,s_b:()=>Oh,soG:()=>Bb,tb:()=>Vb,tp0:()=>lt,uIk:()=>OC,vHH:()=>Ce,vpe:()=>Aa,wAp:()=>Tt,xp6:()=>iC,ynx:()=>qg,z2F:()=>jh,z3N:()=>mi,zSh:()=>sv,zs3:()=>Gu});var s=F(7579),ee=F(727),P=F(9751),oe=F(6451),ae=F(3099);function he(a){for(let l in a)if(a[l]===he)return l;throw Error("Could not find renamed property on target object.")}function te(a,l){for(const c in l)l.hasOwnProperty(c)&&!a.hasOwnProperty(c)&&(a[c]=l[c])}function fe(a){if("string"==typeof a)return a;if(Array.isArray(a))return"["+a.map(fe).join(", ")+"]";if(null==a)return""+a;if(a.overriddenName)return`${a.overriddenName}`;if(a.name)return`${a.name}`;const l=a.toString();if(null==l)return""+l;const c=l.indexOf("\n");return-1===c?l:l.substring(0,c)}function pe(a,l){return null==a||""===a?null===l?"":l:null==l||""===l?a:a+" "+l}const H=he({__forward_ref__:he});function j(a){return a.__forward_ref__=j,a.toString=function(){return fe(this())},a}function W(a){return Ne(a)?a():a}function Ne(a){return"function"==typeof a&&a.hasOwnProperty(H)&&a.__forward_ref__===j}class Ce extends Error{constructor(l,c){super(function rt(a,l){return`NG0${Math.abs(a)}${l?": "+l.trim():""}`}(l,c)),this.code=l}}function _e(a){return"string"==typeof a?a:null==a?"":String(a)}function be(a,l){throw new Ce(-201,!1)}function Yt(a,l){null==a&&function Ke(a,l,c,d){throw new Error(`ASSERTION ERROR: ${a}`+(null==d?"":` [Expected=> ${c} ${d} ${l} <=Actual]`))}(l,a,null,"!=")}function ln(a){return{token:a.token,providedIn:a.providedIn||null,factory:a.factory,value:void 0}}function Ht(a){return{providers:a.providers||[],imports:a.imports||[]}}function Dn(a){return Nr(a,Lr)||Nr(a,Cr)}function ms(a){return null!==Dn(a)}function Nr(a,l){return a.hasOwnProperty(l)?a[l]:null}function po(a){return a&&(a.hasOwnProperty(wr)||a.hasOwnProperty(La))?a[wr]:null}const Lr=he({\u0275prov:he}),wr=he({\u0275inj:he}),Cr=he({ngInjectableDef:he}),La=he({ngInjectorDef:he});var Je=(()=>((Je=Je||{})[Je.Default=0]="Default",Je[Je.Host=1]="Host",Je[Je.Self=2]="Self",Je[Je.SkipSelf=4]="SkipSelf",Je[Je.Optional=8]="Optional",Je))();let Fi;function ci(a){const l=Fi;return Fi=a,l}function Dr(a,l,c){const d=Dn(a);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:c&Je.Optional?null:void 0!==l?l:void be(fe(a))}function Kn(a){return{toString:a}.toString()}var Xn=(()=>((Xn=Xn||{})[Xn.OnPush=0]="OnPush",Xn[Xn.Default=1]="Default",Xn))(),ut=(()=>{return(a=ut||(ut={}))[a.Emulated=0]="Emulated",a[a.None=2]="None",a[a.ShadowDom=3]="ShadowDom",ut;var a})();const fn=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),rr={},Pt=[],Us=he({\u0275cmp:he}),cn=he({\u0275dir:he}),ns=he({\u0275pipe:he}),un=he({\u0275mod:he}),ui=he({\u0275fac:he}),Zi=he({__NG_ELEMENT_ID__:he});let it=0;function Se(a){return Kn(()=>{const c=!0===a.standalone,d={},f={type:a.type,providersResolver:null,decls:a.decls,vars:a.vars,factory:null,template:a.template||null,consts:a.consts||null,ngContentSelectors:a.ngContentSelectors,hostBindings:a.hostBindings||null,hostVars:a.hostVars||0,hostAttrs:a.hostAttrs||null,contentQueries:a.contentQueries||null,declaredInputs:d,inputs:null,outputs:null,exportAs:a.exportAs||null,onPush:a.changeDetection===Xn.OnPush,directiveDefs:null,pipeDefs:null,standalone:c,dependencies:c&&a.dependencies||null,getStandaloneInjector:null,selectors:a.selectors||Pt,viewQuery:a.viewQuery||null,features:a.features||null,data:a.data||{},encapsulation:a.encapsulation||ut.Emulated,id:"c"+it++,styles:a.styles||Pt,_:null,setInput:null,schemas:a.schemas||null,tView:null},m=a.dependencies,v=a.features;return f.inputs=V(a.inputs,d),f.outputs=V(a.outputs),v&&v.forEach(C=>C(f)),f.directiveDefs=m?()=>("function"==typeof m?m():m).map(kt).filter(Ft):null,f.pipeDefs=m?()=>("function"==typeof m?m():m).map(mt).filter(Ft):null,f})}function kt(a){return Q(a)||$e(a)}function Ft(a){return null!==a}function $t(a){return Kn(()=>({type:a.type,bootstrap:a.bootstrap||Pt,declarations:a.declarations||Pt,imports:a.imports||Pt,exports:a.exports||Pt,transitiveCompileScopes:null,schemas:a.schemas||null,id:a.id||null}))}function V(a,l){if(null==a)return rr;const c={};for(const d in a)if(a.hasOwnProperty(d)){let f=a[d],m=f;Array.isArray(f)&&(m=f[1],f=f[0]),c[f]=d,l&&(l[f]=m)}return c}const Y=Se;function we(a){return{type:a.type,name:a.name,factory:null,pure:!1!==a.pure,standalone:!0===a.standalone,onDestroy:a.type.prototype.ngOnDestroy||null}}function Q(a){return a[Us]||null}function $e(a){return a[cn]||null}function mt(a){return a[ns]||null}function nn(a){const l=Q(a)||$e(a)||mt(a);return null!==l&&l.standalone}function In(a,l){const c=a[un]||null;if(!c&&!0===l)throw new Error(`Type ${fe(a)} does not have '\u0275mod' property.`);return c}function Ci(a){return Array.isArray(a)&&"object"==typeof a[1]}function Yi(a){return Array.isArray(a)&&!0===a[1]}function yo(a){return 0!=(8&a.flags)}function $s(a){return 2==(2&a.flags)}function Ol(a){return 1==(1&a.flags)}function Ni(a){return null!==a.template}function bf(a){return 0!=(256&a[2])}function rs(a,l){return a.hasOwnProperty(ui)?a[ui]:null}class _s{constructor(l,c,d){this.previousValue=l,this.currentValue=c,this.firstChange=d}isFirstChange(){return this.firstChange}}function ys(){return vo}function vo(a){return a.type.prototype.ngOnChanges&&(a.setInput=Nl),Ba}function Ba(){const a=Ef(this),l=a?.current;if(l){const c=a.previous;if(c===rr)a.previous=l;else for(let d in l)c[d]=l[d];a.current=null,this.ngOnChanges(l)}}function Nl(a,l,c,d){const f=Ef(a)||function Li(a,l){return a[nu]=l}(a,{previous:rr,current:null}),m=f.current||(f.current={}),v=f.previous,C=this.declaredInputs[c],E=v[C];m[C]=new _s(E&&E.currentValue,l,v===rr),a[d]=l}ys.ngInherit=!0;const nu="__ngSimpleChanges__";function Ef(a){return a[nu]||null}function zn(a){for(;Array.isArray(a);)a=a[0];return a}function Sr(a,l){return zn(l[a])}function Vi(a,l){return zn(l[a.index])}function ea(a,l){return a.data[l]}function bs(a,l){return a[l]}function en(a,l){const c=l[a];return Ci(c)?c:c[0]}function bo(a){return 64==(64&a[2])}function Ur(a,l){return null==l?null:a[l]}function Hl(a){a[18]=0}function Hn(a,l){a[5]+=l;let c=a,d=a[3];for(;null!==d&&(1===l&&1===c[5]||-1===l&&0===c[5]);)d[5]+=l,c=d,d=d[3]}const Rt={lFrame:fu(null),bindingsEnabled:!0};function ws(){return Rt.bindingsEnabled}function Me(){return Rt.lFrame.lView}function Kt(){return Rt.lFrame.tView}function $l(a){return Rt.lFrame.contextLView=a,a[8]}function ql(a){return Rt.lFrame.contextLView=null,a}function $n(){let a=Zl();for(;null!==a&&64===a.type;)a=a.parent;return a}function Zl(){return Rt.lFrame.currentTNode}function Ir(a,l){const c=Rt.lFrame;c.currentTNode=a,c.isParent=l}function Ha(){return Rt.lFrame.isParent}function ja(){Rt.lFrame.isParent=!1}function qn(){const a=Rt.lFrame;let l=a.bindingRootIndex;return-1===l&&(l=a.bindingRootIndex=a.tView.bindingStartIndex),l}function wo(){return Rt.lFrame.bindingIndex++}function Cs(a){const l=Rt.lFrame,c=l.bindingIndex;return l.bindingIndex=l.bindingIndex+a,c}function $m(a,l){const c=Rt.lFrame;c.bindingIndex=c.bindingRootIndex=a,Yl(l)}function Yl(a){Rt.lFrame.currentDirectiveIndex=a}function $a(a){const l=Rt.lFrame.currentDirectiveIndex;return-1===l?null:a[l]}function uu(){return Rt.lFrame.currentQueryIndex}function qa(a){Rt.lFrame.currentQueryIndex=a}function du(a){const l=a[1];return 2===l.type?l.declTNode:1===l.type?a[6]:null}function Wl(a,l,c){if(c&Je.SkipSelf){let f=l,m=a;for(;!(f=f.parent,null!==f||c&Je.Host||(f=du(m),null===f||(m=m[15],10&f.type))););if(null===f)return!1;l=f,a=m}const d=Rt.lFrame=hu();return d.currentTNode=l,d.lView=a,!0}function Kl(a){const l=hu(),c=a[1];Rt.lFrame=l,l.currentTNode=c.firstChild,l.lView=a,l.tView=c,l.contextLView=a,l.bindingIndex=c.bindingStartIndex,l.inI18n=!1}function hu(){const a=Rt.lFrame,l=null===a?null:a.child;return null===l?fu(a):l}function fu(a){const l={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:a,child:null,inI18n:!1};return null!==a&&(a.child=l),l}function pu(){const a=Rt.lFrame;return Rt.lFrame=a.parent,a.currentTNode=null,a.lView=null,a}const Od=pu;function Co(){const a=pu();a.isParent=!0,a.tView=null,a.selectedIndex=-1,a.contextLView=null,a.elementDepthCount=0,a.currentDirectiveIndex=-1,a.currentNamespace=null,a.bindingRootIndex=-1,a.bindingIndex=-1,a.currentQueryIndex=0}function fi(){return Rt.lFrame.selectedIndex}function ar(a){Rt.lFrame.selectedIndex=a}function An(){const a=Rt.lFrame;return ea(a.tView,a.selectedIndex)}function mu(){Rt.lFrame.currentNamespace="svg"}function Pd(){!function _u(){Rt.lFrame.currentNamespace=null}()}function Xl(a,l){for(let c=l.directiveStart,d=l.directiveEnd;c<d;c++){const m=a.data[c].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:C,ngAfterViewInit:E,ngAfterViewChecked:T,ngOnDestroy:k}=m;v&&(a.contentHooks||(a.contentHooks=[])).push(-c,v),C&&((a.contentHooks||(a.contentHooks=[])).push(c,C),(a.contentCheckHooks||(a.contentCheckHooks=[])).push(c,C)),E&&(a.viewHooks||(a.viewHooks=[])).push(-c,E),T&&((a.viewHooks||(a.viewHooks=[])).push(c,T),(a.viewCheckHooks||(a.viewCheckHooks=[])).push(c,T)),null!=k&&(a.destroyHooks||(a.destroyHooks=[])).push(c,k)}}function Eo(a,l,c){ia(a,l,3,c)}function na(a,l,c,d){(3&a[2])===c&&ia(a,l,c,d)}function Nd(a,l){let c=a[2];(3&c)===l&&(c&=2047,c+=1,a[2]=c)}function ia(a,l,c,d){const m=d??-1,v=l.length-1;let C=0;for(let E=void 0!==d?65535&a[18]:0;E<v;E++)if("number"==typeof l[E+1]){if(C=l[E],null!=d&&C>=d)break}else l[E]<0&&(a[18]+=65536),(C<m||-1==m)&&(Ld(a,c,l,E),a[18]=(4294901760&a[18])+E+2),E++}function Ld(a,l,c,d){const f=c[d]<0,m=c[d+1],C=a[f?-c[d]:c[d]];if(f){if(a[2]>>11<a[18]>>16&&(3&a[2])===l){a[2]+=2048;try{m.call(C)}finally{}}}else try{m.call(C)}finally{}}class Ws{constructor(l,c,d){this.factory=l,this.resolving=!1,this.canSeeViewProviders=c,this.injectImpl=d}}function ra(a,l,c){let d=0;for(;d<c.length;){const f=c[d];if("number"==typeof f){if(0!==f)break;d++;const m=c[d++],v=c[d++],C=c[d++];a.setAttribute(l,v,C,m)}else{const m=f,v=c[++d];ic(m)?a.setProperty(l,m,v):a.setAttribute(l,m,v),d++}}return d}function Mo(a){return 3===a||4===a||6===a}function ic(a){return 64===a.charCodeAt(0)}function Za(a,l){if(null!==l&&0!==l.length)if(null===a||0===a.length)a=l.slice();else{let c=-1;for(let d=0;d<l.length;d++){const f=l[d];"number"==typeof f?c=f:0===c||Bd(a,c,f,null,-1===c||2===c?l[++d]:null)}}return a}function Bd(a,l,c,d,f){let m=0,v=a.length;if(-1===l)v=-1;else for(;m<a.length;){const C=a[m++];if("number"==typeof C){if(C===l){v=-1;break}if(C>l){v=m-1;break}}}for(;m<a.length;){const C=a[m];if("number"==typeof C)break;if(C===c){if(null===d)return void(null!==f&&(a[m+1]=f));if(d===a[m+1])return void(a[m+2]=f)}m++,null!==d&&m++,null!==f&&m++}-1!==v&&(a.splice(v,0,l),m=v+1),a.splice(m++,0,c),null!==d&&a.splice(m++,0,d),null!==f&&a.splice(m++,0,f)}function Ud(a){return-1!==a}function Di(a){return 32767&a}function Wa(a,l){let c=function Ya(a){return a>>16}(a),d=l;for(;c>0;)d=d[15],c--;return d}let os=!0;function Ka(a){const l=os;return os=a,l}let Qn=0;const Hr={};function To(a,l){const c=sc(a,l);if(-1!==c)return c;const d=l[1];d.firstCreatePass&&(a.injectorIndex=l.length,Ja(d.data,a),Ja(l,null),Ja(d.blueprint,null));const f=oc(a,l),m=a.injectorIndex;if(Ud(f)){const v=Di(f),C=Wa(f,l),E=C[1].data;for(let T=0;T<8;T++)l[m+T]=C[v+T]|E[v+T]}return l[m+8]=f,m}function Ja(a,l){a.push(0,0,0,0,0,0,0,0,l)}function sc(a,l){return-1===a.injectorIndex||a.parent&&a.parent.injectorIndex===a.injectorIndex||null===l[a.injectorIndex+8]?-1:a.injectorIndex}function oc(a,l){if(a.parent&&-1!==a.parent.injectorIndex)return a.parent.injectorIndex;let c=0,d=null,f=l;for(;null!==f;){if(d=aa(f),null===d)return-1;if(c++,f=f[15],-1!==d.injectorIndex)return d.injectorIndex|c<<16}return-1}function Ks(a,l,c){!function rc(a,l,c){let d;"string"==typeof c?d=c.charCodeAt(0)||0:c.hasOwnProperty(Zi)&&(d=c[Zi]),null==d&&(d=c[Zi]=Qn++);const f=255&d;l.data[a+(f>>5)]|=1<<f}(a,l,c)}function Qs(a,l,c){if(c&Je.Optional||void 0!==a)return a;be()}function ac(a,l,c,d){if(c&Je.Optional&&void 0===d&&(d=null),0==(c&(Je.Self|Je.Host))){const f=a[9],m=ci(void 0);try{return f?f.get(l,d,c&Je.Optional):Dr(l,d,c&Je.Optional)}finally{ci(m)}}return Qs(d,0,c)}function Ao(a,l,c,d=Je.Default,f){if(null!==a){if(1024&l[2]){const v=function oa(a,l,c,d,f){let m=a,v=l;for(;null!==m&&null!==v&&1024&v[2]&&!(256&v[2]);){const C=Xa(m,v,c,d|Je.Self,Hr);if(C!==Hr)return C;let E=m.parent;if(!E){const T=v[21];if(T){const k=T.get(c,Hr,d);if(k!==Hr)return k}E=aa(v),v=v[15]}m=E}return f}(a,l,c,d,Hr);if(v!==Hr)return v}const m=Xa(a,l,c,d,Hr);if(m!==Hr)return m}return ac(l,c,d,f)}function Xa(a,l,c,d,f){const m=function vu(a){if("string"==typeof a)return a.charCodeAt(0)||0;const l=a.hasOwnProperty(Zi)?a[Zi]:void 0;return"number"==typeof l?l>=0?255&l:bu:l}(c);if("function"==typeof m){if(!Wl(l,a,d))return d&Je.Host?Qs(f,0,d):ac(l,c,d,f);try{const v=m(d);if(null!=v||d&Je.Optional)return v;be()}finally{Od()}}else if("number"==typeof m){let v=null,C=sc(a,l),E=-1,T=d&Je.Host?l[16][6]:null;for((-1===C||d&Je.SkipSelf)&&(E=-1===C?oc(a,l):l[C+8],-1!==E&&el(d,!1)?(v=l[1],C=Di(E),l=Wa(E,l)):C=-1);-1!==C;){const k=l[1];if(lc(m,C,k.data)){const N=Gd(C,l,c,v,d,T);if(N!==Hr)return N}E=l[C+8],-1!==E&&el(d,l[1].data[C+8]===T)&&lc(m,C,l)?(v=k,C=Di(E),l=Wa(E,l)):C=-1}}return f}function Gd(a,l,c,d,f,m){const v=l[1],C=v.data[a+8],k=sa(C,v,c,null==d?$s(C)&&os:d!=v&&0!=(3&C.type),f&Je.Host&&m===C);return null!==k?Ds(l,v,k,C):Hr}function sa(a,l,c,d,f){const m=a.providerIndexes,v=l.data,C=1048575&m,E=a.directiveStart,k=m>>20,z=f?C+k:a.directiveEnd;for(let X=d?C:C+k;X<z;X++){const ve=v[X];if(X<E&&c===ve||X>=E&&ve.type===c)return X}if(f){const X=v[E];if(X&&Ni(X)&&X.type===c)return E}return null}function Ds(a,l,c,d){let f=a[c];const m=l.data;if(function So(a){return a instanceof Ws}(f)){const v=f;v.resolving&&function tt(a,l){const c=l?`. Dependency path: ${l.join(" > ")} > ${a}`:"";throw new Ce(-200,`Circular dependency in DI detected for ${a}${c}`)}(function me(a){return"function"==typeof a?a.name||a.toString():"object"==typeof a&&null!=a&&"function"==typeof a.type?a.type.name||a.type.toString():_e(a)}(m[c]));const C=Ka(v.canSeeViewProviders);v.resolving=!0;const E=v.injectImpl?ci(v.injectImpl):null;Wl(a,d,Je.Default);try{f=a[c]=v.factory(void 0,m,a,d),l.firstCreatePass&&c>=d.directiveStart&&function Fd(a,l,c){const{ngOnChanges:d,ngOnInit:f,ngDoCheck:m}=l.type.prototype;if(d){const v=vo(l);(c.preOrderHooks||(c.preOrderHooks=[])).push(a,v),(c.preOrderCheckHooks||(c.preOrderCheckHooks=[])).push(a,v)}f&&(c.preOrderHooks||(c.preOrderHooks=[])).push(0-a,f),m&&((c.preOrderHooks||(c.preOrderHooks=[])).push(a,m),(c.preOrderCheckHooks||(c.preOrderCheckHooks=[])).push(a,m))}(c,m[c],l)}finally{null!==E&&ci(E),Ka(C),v.resolving=!1,Od()}}return f}function lc(a,l,c){return!!(c[l+(a>>5)]&1<<a)}function el(a,l){return!(a&Je.Self||a&Je.Host&&l)}class xo{constructor(l,c){this._tNode=l,this._lView=c}get(l,c,d){return Ao(this._tNode,this._lView,l,d,c)}}function bu(){return new xo($n(),Me())}function Es(a){return Kn(()=>{const l=a.prototype.constructor,c=l[ui]||cc(l),d=Object.prototype;let f=Object.getPrototypeOf(a.prototype).constructor;for(;f&&f!==d;){const m=f[ui]||cc(f);if(m&&m!==c)return m;f=Object.getPrototypeOf(f)}return m=>new m})}function cc(a){return Ne(a)?()=>{const l=cc(W(a));return l&&l()}:rs(a)}function aa(a){const l=a[1],c=l.type;return 2===c?l.declTNode:1===c?a[6]:null}function uc(a){return function jd(a,l){if("class"===l)return a.classes;if("style"===l)return a.styles;const c=a.attrs;if(c){const d=c.length;let f=0;for(;f<d;){const m=c[f];if(Mo(m))break;if(0===m)f+=2;else if("number"==typeof m)for(f++;f<d&&"string"==typeof c[f];)f++;else{if(m===l)return c[f+1];f+=2}}}return null}($n(),a)}const Js="__parameters__";function ua(a,l,c){return Kn(()=>{const d=function dc(a){return function(...c){if(a){const d=a(...c);for(const f in d)this[f]=d[f]}}}(l);function f(...m){if(this instanceof f)return d.apply(this,m),this;const v=new f(...m);return C.annotation=v,C;function C(E,T,k){const N=E.hasOwnProperty(Js)?E[Js]:Object.defineProperty(E,Js,{value:[]})[Js];for(;N.length<=k;)N.push(null);return(N[k]=N[k]||[]).push(v),E}}return c&&(f.prototype=Object.create(c.prototype)),f.prototype.ngMetadataName=a,f.annotationCls=f,f})}class xn{constructor(l,c){this._desc=l,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof c?this.__NG_ELEMENT_ID__=c:void 0!==c&&(this.\u0275prov=ln({token:this,providedIn:c.providedIn||"root",factory:c.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function yn(a,l){void 0===l&&(l=a);for(let c=0;c<a.length;c++){let d=a[c];Array.isArray(d)?(l===a&&(l=a.slice(0,c)),yn(d,l)):l!==a&&l.push(d)}return l}function Gr(a,l){a.forEach(c=>Array.isArray(c)?Gr(c,l):l(c))}function nl(a,l,c){l>=a.length?a.push(c):a.splice(l,0,c)}function jn(a,l){return l>=a.length-1?a.pop():a.splice(l,1)[0]}function Xs(a,l){const c=[];for(let d=0;d<a;d++)c.push(l);return c}function Ge(a,l,c){let d=to(a,l);return d>=0?a[1|d]=c:(d=~d,function wu(a,l,c,d){let f=a.length;if(f==l)a.push(c,d);else if(1===f)a.push(d,a[0]),a[0]=c;else{for(f--,a.push(a[f-1],a[f]);f>l;)a[f]=a[f-2],f--;a[l]=c,a[l+1]=d}}(a,d,l,c)),d}function rl(a,l){const c=to(a,l);if(c>=0)return a[1|c]}function to(a,l){return function pa(a,l,c){let d=0,f=a.length>>c;for(;f!==d;){const m=d+(f-d>>1),v=a[m<<c];if(l===v)return m<<c;v>l?f=m:d=m+1}return~(f<<c)}(a,l,1)}const cr={},Eu="__NG_DI_FLAG__",Bi="ngTempTokenPath",cs=/\n/gm,ii="__source";let no;function Ss(a){const l=no;return no=a,l}function Ln(a,l=Je.Default){if(void 0===no)throw new Ce(-203,!1);return null===no?Dr(a,void 0,l):no.get(a,l&Je.Optional?null:void 0,l)}function Et(a,l=Je.Default){return(function Bs(){return Fi}()||Ln)(W(a),l)}function S(a,l=Je.Default){return"number"!=typeof l&&(l=0|(l.optional&&8)|(l.host&&1)|(l.self&&2)|(l.skipSelf&&4)),Et(a,l)}function I(a){const l=[];for(let c=0;c<a.length;c++){const d=W(a[c]);if(Array.isArray(d)){if(0===d.length)throw new Ce(900,!1);let f,m=Je.Default;for(let v=0;v<d.length;v++){const C=d[v],E=L(C);"number"==typeof E?-1===E?f=C.token:m|=E:f=C}l.push(Et(f,m))}else l.push(Et(d))}return l}function x(a,l){return a[Eu]=l,a.prototype[Eu]=l,a}function L(a){return a[Eu]}const Le=x(ua("Optional"),8),lt=x(ua("SkipSelf"),4);var Ts=(()=>((Ts=Ts||{})[Ts.Important=1]="Important",Ts[Ts.DashCase=2]="DashCase",Ts))();const xu=new Map;let Lf=0;const Oo="__ngContext__";function Ai(a,l){Ci(l)?(a[Oo]=l[20],function Hy(a){xu.set(a[20],a)}(l)):a[Oo]=l}function Kd(a,l){return undefined(a,l)}function cl(a){const l=a[3];return Yi(l)?l[3]:l}function ul(a){return ag(a[13])}function Po(a){return ag(a[4])}function ag(a){for(;null!==a&&!Yi(a);)a=a[4];return a}function Fo(a,l,c,d,f){if(null!=d){let m,v=!1;Yi(d)?m=d:Ci(d)&&(v=!0,d=d[0]);const C=zn(d);0===a&&null!==c?null==f?hg(l,c,C):Lo(l,c,C,f||null,!0):1===a&&null!==c?Lo(l,c,C,f||null,!0):2===a?function sh(a,l,c){const d=Qi(a,l);d&&function Gf(a,l,c,d){a.removeChild(l,c,d)}(a,d,l,c)}(l,C,v):3===a&&l.destroyNode(C),null!=m&&function $f(a,l,c,d,f){const m=c[7];m!==zn(c)&&Fo(l,a,d,m,f);for(let C=10;C<c.length;C++){const E=c[C];_a(E[1],E,a,l,d,m)}}(l,a,m,c,f)}}function vc(a,l,c){return a.createElement(l,c)}function Uf(a,l){const c=a[9],d=c.indexOf(l),f=l[3];512&l[2]&&(l[2]&=-513,Hn(f,-1)),c.splice(d,1)}function Hf(a,l){if(a.length<=10)return;const c=10+l,d=a[c];if(d){const f=d[17];null!==f&&f!==a&&Uf(f,d),l>0&&(a[c-1][4]=d[4]);const m=jn(a,10+l);!function dl(a,l){_a(a,l,l[11],2,null,null),l[0]=null,l[6]=null}(d[1],d);const v=m[19];null!==v&&v.detachView(m[1]),d[3]=null,d[4]=null,d[2]&=-65}return d}function ug(a,l){if(!(128&l[2])){const c=l[11];c.destroyNode&&_a(a,l,c,3,null,null),function Yy(a){let l=a[13];if(!l)return jf(a[1],a);for(;l;){let c=null;if(Ci(l))c=l[13];else{const d=l[10];d&&(c=d)}if(!c){for(;l&&!l[4]&&l!==a;)Ci(l)&&jf(l[1],l),l=l[3];null===l&&(l=a),Ci(l)&&jf(l[1],l),c=l&&l[4]}l=c}}(l)}}function jf(a,l){if(!(128&l[2])){l[2]&=-65,l[2]|=128,function dg(a,l){let c;if(null!=a&&null!=(c=a.destroyHooks))for(let d=0;d<c.length;d+=2){const f=l[c[d]];if(!(f instanceof Ws)){const m=c[d+1];if(Array.isArray(m))for(let v=0;v<m.length;v+=2){const C=f[m[v]],E=m[v+1];try{E.call(C)}finally{}}else try{m.call(f)}finally{}}}}(a,l),function Ky(a,l){const c=a.cleanup,d=l[7];let f=-1;if(null!==c)for(let m=0;m<c.length-1;m+=2)if("string"==typeof c[m]){const v=c[m+1],C="function"==typeof v?v(l):zn(l[v]),E=d[f=c[m+2]],T=c[m+3];"boolean"==typeof T?C.removeEventListener(c[m],E,T):T>=0?d[f=T]():d[f=-T].unsubscribe(),m+=2}else{const v=d[f=c[m+1]];c[m].call(v)}if(null!==d){for(let m=f+1;m<d.length;m++)(0,d[m])();l[7]=null}}(a,l),1===l[1].type&&l[11].destroy();const c=l[17];if(null!==c&&Yi(l[3])){c!==l[3]&&Uf(c,l);const d=l[19];null!==d&&d.detachView(a)}!function qd(a){xu.delete(a[20])}(l)}}function Xd(a,l,c){return function eh(a,l,c){let d=l;for(;null!==d&&40&d.type;)d=(l=d).parent;if(null===d)return c[0];if(2&d.flags){const f=a.data[d.directiveStart].encapsulation;if(f===ut.None||f===ut.Emulated)return null}return Vi(d,c)}(a,l.parent,c)}function Lo(a,l,c,d,f){a.insertBefore(l,c,d,f)}function hg(a,l,c){a.appendChild(l,c)}function Ou(a,l,c,d,f){null!==d?Lo(a,l,c,d,f):hg(a,l,c)}function Qi(a,l){return a.parentNode(l)}function zf(a,l,c){return th(a,l,c)}let bc,Yf,th=function Pu(a,l,c){return 40&a.type?Vi(a,c):null};function ih(a,l,c,d){const f=Xd(a,d,l),m=l[11],C=zf(d.parent||l[6],d,l);if(null!=f)if(Array.isArray(c))for(let E=0;E<c.length;E++)Ou(m,f,c[E],C,!1);else Ou(m,f,c,C,!1)}function Tr(a,l){if(null!==l){const c=l.type;if(3&c)return Vi(l,a);if(4&c)return Fu(-1,a[l.index]);if(8&c){const d=l.child;if(null!==d)return Tr(a,d);{const f=a[l.index];return Yi(f)?Fu(-1,f):zn(f)}}if(32&c)return Kd(l,a)()||zn(a[l.index]);{const d=rh(a,l);return null!==d?Array.isArray(d)?d[0]:Tr(cl(a[16]),d):Tr(a,l.next)}}return null}function rh(a,l){return null!==l?a[16][6].projection[l.projection]:null}function Fu(a,l){const c=10+a+1;if(c<l.length){const d=l[c],f=d[1].firstChild;if(null!==f)return Tr(d,f)}return l[7]}function Nu(a,l,c,d,f,m,v){for(;null!=c;){const C=d[c.index],E=c.type;if(v&&0===l&&(C&&Ai(zn(C),d),c.flags|=4),64!=(64&c.flags))if(8&E)Nu(a,l,c.child,d,f,m,!1),Fo(l,a,f,C,m);else if(32&E){const T=Kd(c,d);let k;for(;k=T();)Fo(l,a,f,k,m);Fo(l,a,f,C,m)}else 16&E?ya(a,l,d,c,f,m):Fo(l,a,f,C,m);c=v?c.projectionNext:c.next}}function _a(a,l,c,d,f,m){Nu(c,d,a.firstChild,l,f,m,!1)}function ya(a,l,c,d,f,m){const v=c[16],E=v[6].projection[d.projection];if(Array.isArray(E))for(let T=0;T<E.length;T++)Fo(l,a,f,E[T],m);else Nu(a,l,E,v[3],f,m,!0)}function hs(a,l,c){a.setAttribute(l,"style",c)}function va(a,l,c){""===c?a.removeAttribute(l,"class"):a.setAttribute(l,"class",c)}function ba(a){return function Lu(){if(void 0===bc&&(bc=null,fn.trustedTypes))try{bc=fn.trustedTypes.createPolicy("angular",{createHTML:a=>a,createScript:a=>a,createScriptURL:a=>a})}catch{}return bc}()?.createHTML(a)||a}function y(a){Yf=a}class ue{constructor(l){this.changingThisBreaksApplicationSecurity=l}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Be extends ue{getTypeName(){return"HTML"}}class et extends ue{getTypeName(){return"Style"}}class It extends ue{getTypeName(){return"Script"}}class yt extends ue{getTypeName(){return"URL"}}class vn extends ue{getTypeName(){return"ResourceURL"}}function mi(a){return a instanceof ue?a.changingThisBreaksApplicationSecurity:a}function $r(a,l){const c=function fg(a){return a instanceof ue&&a.getTypeName()||null}(a);if(null!=c&&c!==l){if("ResourceURL"===c&&"URL"===l)return!0;throw new Error(`Required a safe ${l}, got a ${c} (see https://g.co/ng/security#xss)`)}return c===l}function Wf(a){return new Be(a)}function Kf(a){return new et(a)}function Bu(a){return new It(a)}function Qf(a){return new yt(a)}function pg(a){return new vn(a)}class fl{constructor(l){this.inertDocumentHelper=l}getInertBodyElement(l){l="<body><remove></remove>"+l;try{const c=(new window.DOMParser).parseFromString(ba(l),"text/html").body;return null===c?this.inertDocumentHelper.getInertBodyElement(l):(c.removeChild(c.firstChild),c)}catch{return null}}}class mg{constructor(l){if(this.defaultDoc=l,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const c=this.inertDocument.createElement("html");this.inertDocument.appendChild(c);const d=this.inertDocument.createElement("body");c.appendChild(d)}}getInertBodyElement(l){const c=this.inertDocument.createElement("template");if("content"in c)return c.innerHTML=ba(l),c;const d=this.inertDocument.createElement("body");return d.innerHTML=ba(l),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(d),d}stripCustomNsAttrs(l){const c=l.attributes;for(let f=c.length-1;0<f;f--){const v=c.item(f).name;("xmlns:ns1"===v||0===v.indexOf("ns1:"))&&l.removeAttribute(v)}let d=l.firstChild;for(;d;)d.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(d),d=d.nextSibling}}const pl=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function Ca(a){return(a=String(a)).match(pl)?a:"unsafe:"+a}function ml(a){const l={};for(const c of a.split(","))l[c]=!0;return l}function Jf(...a){const l={};for(const c of a)for(const d in c)c.hasOwnProperty(d)&&(l[d]=!0);return l}const k0=ml("area,br,col,hr,img,wbr"),R0=ml("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),O0=ml("rp,rt"),Xf=Jf(k0,Jf(R0,ml("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Jf(O0,ml("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Jf(O0,R0)),ah=ml("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),P0=Jf(ah,ml("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),ml("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),QI=ml("script,style,template");class JI{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(l){let c=l.firstChild,d=!0;for(;c;)if(c.nodeType===Node.ELEMENT_NODE?d=this.startElement(c):c.nodeType===Node.TEXT_NODE?this.chars(c.nodeValue):this.sanitizedSomething=!0,d&&c.firstChild)c=c.firstChild;else for(;c;){c.nodeType===Node.ELEMENT_NODE&&this.endElement(c);let f=this.checkClobberedElement(c,c.nextSibling);if(f){c=f;break}c=this.checkClobberedElement(c,c.parentNode)}return this.buf.join("")}startElement(l){const c=l.nodeName.toLowerCase();if(!Xf.hasOwnProperty(c))return this.sanitizedSomething=!0,!QI.hasOwnProperty(c);this.buf.push("<"),this.buf.push(c);const d=l.attributes;for(let f=0;f<d.length;f++){const m=d.item(f),v=m.name,C=v.toLowerCase();if(!P0.hasOwnProperty(C)){this.sanitizedSomething=!0;continue}let E=m.value;ah[C]&&(E=Ca(E)),this.buf.push(" ",v,'="',F0(E),'"')}return this.buf.push(">"),!0}endElement(l){const c=l.nodeName.toLowerCase();Xf.hasOwnProperty(c)&&!k0.hasOwnProperty(c)&&(this.buf.push("</"),this.buf.push(c),this.buf.push(">"))}chars(l){this.buf.push(F0(l))}checkClobberedElement(l,c){if(c&&(l.compareDocumentPosition(c)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${l.outerHTML}`);return c}}const XI=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,eM=/([^\#-~ |!])/g;function F0(a){return a.replace(/&/g,"&amp;").replace(XI,function(l){return"&#"+(1024*(l.charCodeAt(0)-55296)+(l.charCodeAt(1)-56320)+65536)+";"}).replace(eM,function(l){return"&#"+l.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let gg;function N0(a,l){let c=null;try{gg=gg||function wa(a){const l=new mg(a);return function Jy(){try{return!!(new window.DOMParser).parseFromString(ba(""),"text/html")}catch{return!1}}()?new fl(l):l}(a);let d=l?String(l):"";c=gg.getInertBodyElement(d);let f=5,m=d;do{if(0===f)throw new Error("Failed to sanitize html because the input is unstable");f--,d=m,m=c.innerHTML,c=gg.getInertBodyElement(d)}while(d!==m);return ba((new JI).sanitizeChildren(_g(c)||c))}finally{if(c){const d=_g(c)||c;for(;d.firstChild;)d.removeChild(d.firstChild)}}}function _g(a){return"content"in a&&function tM(a){return a.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===a.nodeName}(a)?a.content:null}var si=(()=>((si=si||{})[si.NONE=0]="NONE",si[si.HTML=1]="HTML",si[si.STYLE=2]="STYLE",si[si.SCRIPT=3]="SCRIPT",si[si.URL=4]="URL",si[si.RESOURCE_URL=5]="RESOURCE_URL",si))();function lh(a){const l=function wc(){const a=Me();return a&&a[12]}();return l?l.sanitize(si.URL,a)||"":$r(a,"URL")?mi(a):Ca(_e(a))}const vg=new xn("ENVIRONMENT_INITIALIZER"),ch=new xn("INJECTOR",-1),tv=new xn("INJECTOR_DEF_TYPES");class U0{get(l,c=cr){if(c===cr){const d=new Error(`NullInjectorError: No provider for ${fe(l)}!`);throw d.name="NullInjectorError",d}return c}}function oM(...a){return{\u0275providers:H0(0,a)}}function H0(a,...l){const c=[],d=new Set;let f;return Gr(l,m=>{const v=m;nv(v,c,[],d)&&(f||(f=[]),f.push(v))}),void 0!==f&&j0(f,c),c}function j0(a,l){for(let c=0;c<a.length;c++){const{providers:f}=a[c];Gr(f,m=>{l.push(m)})}}function nv(a,l,c,d){if(!(a=W(a)))return!1;let f=null,m=po(a);const v=!m&&Q(a);if(m||v){if(v&&!v.standalone)return!1;f=a}else{const E=a.ngModule;if(m=po(E),!m)return!1;f=E}const C=d.has(f);if(v){if(C)return!1;if(d.add(f),v.dependencies){const E="function"==typeof v.dependencies?v.dependencies():v.dependencies;for(const T of E)nv(T,l,c,d)}}else{if(!m)return!1;{if(null!=m.imports&&!C){let T;d.add(f);try{Gr(m.imports,k=>{nv(k,l,c,d)&&(T||(T=[]),T.push(k))})}finally{}void 0!==T&&j0(T,l)}if(!C){const T=rs(f)||(()=>new f);l.push({provide:f,useFactory:T,deps:Pt},{provide:tv,useValue:f,multi:!0},{provide:vg,useValue:()=>Et(f),multi:!0})}const E=m.providers;null==E||C||Gr(E,k=>{l.push(k)})}}return f!==a&&void 0!==a.providers}const aM=he({provide:String,useValue:he});function rv(a){return null!==a&&"object"==typeof a&&aM in a}function Uu(a){return"function"==typeof a}const sv=new xn("Set Injector scope."),tp={},cM={};let bg;function np(){return void 0===bg&&(bg=new U0),bg}class Cc{}class ov extends Cc{constructor(l,c,d,f){super(),this.parent=c,this.source=d,this.scopes=f,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Cg(l,v=>this.processProvider(v)),this.records.set(ch,uh(void 0,this)),f.has("environment")&&this.records.set(Cc,uh(void 0,this));const m=this.records.get(sv);null!=m&&"string"==typeof m.value&&this.scopes.add(m.value),this.injectorDefTypes=new Set(this.get(tv.multi,Pt,Je.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const l of this._ngOnDestroyHooks)l.ngOnDestroy();for(const l of this._onDestroyHooks)l()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(l){this._onDestroyHooks.push(l)}runInContext(l){this.assertNotDestroyed();const c=Ss(this),d=ci(void 0);try{return l()}finally{Ss(c),ci(d)}}get(l,c=cr,d=Je.Default){this.assertNotDestroyed();const f=Ss(this),m=ci(void 0);try{if(!(d&Je.SkipSelf)){let C=this.records.get(l);if(void 0===C){const E=function q0(a){return"function"==typeof a||"object"==typeof a&&a instanceof xn}(l)&&Dn(l);C=E&&this.injectableDefInScope(E)?uh(wg(l),tp):null,this.records.set(l,C)}if(null!=C)return this.hydrate(l,C)}return(d&Je.Self?np():this.parent).get(l,c=d&Je.Optional&&c===cr?null:c)}catch(v){if("NullInjectorError"===v.name){if((v[Bi]=v[Bi]||[]).unshift(fe(l)),f)throw v;return function K(a,l,c,d){const f=a[Bi];throw l[ii]&&f.unshift(l[ii]),a.message=function ie(a,l,c,d=null){a=a&&"\n"===a.charAt(0)&&"\u0275"==a.charAt(1)?a.slice(2):a;let f=fe(l);if(Array.isArray(l))f=l.map(fe).join(" -> ");else if("object"==typeof l){let m=[];for(let v in l)if(l.hasOwnProperty(v)){let C=l[v];m.push(v+":"+("string"==typeof C?JSON.stringify(C):fe(C)))}f=`{${m.join(", ")}}`}return`${c}${d?"("+d+")":""}[${f}]: ${a.replace(cs,"\n  ")}`}("\n"+a.message,f,c,d),a.ngTokenPath=f,a[Bi]=null,a}(v,l,"R3InjectorError",this.source)}throw v}finally{ci(m),Ss(f)}}resolveInjectorInitializers(){const l=Ss(this),c=ci(void 0);try{const d=this.get(vg.multi,Pt,Je.Self);for(const f of d)f()}finally{Ss(l),ci(c)}}toString(){const l=[],c=this.records;for(const d of c.keys())l.push(fe(d));return`R3Injector[${l.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ce(205,!1)}processProvider(l){let c=Uu(l=W(l))?l:W(l&&l.provide);const d=function dM(a){return rv(a)?uh(void 0,a.useValue):uh($0(a),tp)}(l);if(Uu(l)||!0!==l.multi)this.records.get(c);else{let f=this.records.get(c);f||(f=uh(void 0,tp,!0),f.factory=()=>I(f.multi),this.records.set(c,f)),c=l,f.multi.push(l)}this.records.set(c,d)}hydrate(l,c){return c.value===tp&&(c.value=cM,c.value=c.factory()),"object"==typeof c.value&&c.value&&function fM(a){return null!==a&&"object"==typeof a&&"function"==typeof a.ngOnDestroy}(c.value)&&this._ngOnDestroyHooks.add(c.value),c.value}injectableDefInScope(l){if(!l.providedIn)return!1;const c=W(l.providedIn);return"string"==typeof c?"any"===c||this.scopes.has(c):this.injectorDefTypes.has(c)}}function wg(a){const l=Dn(a),c=null!==l?l.factory:rs(a);if(null!==c)return c;if(a instanceof xn)throw new Ce(204,!1);if(a instanceof Function)return function uM(a){const l=a.length;if(l>0)throw Xs(l,"?"),new Ce(204,!1);const c=function qi(a){const l=a&&(a[Lr]||a[Cr]);if(l){const c=function ir(a){if(a.hasOwnProperty("name"))return a.name;const l=(""+a).match(/^function\s*([^\s(]+)/);return null===l?"":l[1]}(a);return console.warn(`DEPRECATED: DI is instantiating a token "${c}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${c}" class.`),l}return null}(a);return null!==c?()=>c.factory(a):()=>new a}(a);throw new Ce(204,!1)}function $0(a,l,c){let d;if(Uu(a)){const f=W(a);return rs(f)||wg(f)}if(rv(a))d=()=>W(a.useValue);else if(function z0(a){return!(!a||!a.useFactory)}(a))d=()=>a.useFactory(...I(a.deps||[]));else if(function G0(a){return!(!a||!a.useExisting)}(a))d=()=>Et(W(a.useExisting));else{const f=W(a&&(a.useClass||a.provide));if(!function hM(a){return!!a.deps}(a))return rs(f)||wg(f);d=()=>new f(...I(a.deps))}return d}function uh(a,l,c=!1){return{factory:a,value:l,multi:c?[]:void 0}}function av(a){return!!a.\u0275providers}function Cg(a,l){for(const c of a)Array.isArray(c)?Cg(c,l):av(c)?Cg(c.\u0275providers,l):l(c)}class pM{}class gM{resolveComponentFactory(l){throw function mM(a){const l=Error(`No component factory found for ${fe(a)}. Did you add it to @NgModule.entryComponents?`);return l.ngComponent=a,l}(l)}}let Dc=(()=>{class a{}return a.NULL=new gM,a})();function W0(){return Ec($n(),Me())}function Ec(a,l){return new Hu(Vi(a,l))}let Hu=(()=>{class a{constructor(c){this.nativeElement=c}}return a.__NG_ELEMENT_ID__=W0,a})();function _M(a){return a instanceof Hu?a.nativeElement:a}class ip{}let yM=(()=>{class a{}return a.__NG_ELEMENT_ID__=()=>function vM(){const a=Me(),c=en($n().index,a);return(Ci(c)?c:a)[11]}(),a})(),bM=(()=>{class a{}return a.\u0275prov=ln({token:a,providedIn:"root",factory:()=>null}),a})();class K0{constructor(l){this.full=l,this.major=l.split(".")[0],this.minor=l.split(".")[1],this.patch=l.split(".").slice(2).join(".")}}const Q0=new K0("14.2.12"),Dg={};function Eg(a){return a.ngOriginalError}class ju{constructor(){this._console=console}handleError(l){const c=this._findOriginalError(l);this._console.error("ERROR",l),c&&this._console.error("ORIGINAL ERROR",c)}_findOriginalError(l){let c=l&&Eg(l);for(;c&&Eg(c);)c=Eg(c);return c||null}}function Da(a){return a instanceof Function?a():a}function lv(a,l,c){let d=a.length;for(;;){const f=a.indexOf(l,c);if(-1===f)return f;if(0===f||a.charCodeAt(f-1)<=32){const m=l.length;if(f+m===d||a.charCodeAt(f+m)<=32)return f}c=f+1}}const Tg="ng-template";function IM(a,l,c){let d=0;for(;d<a.length;){let f=a[d++];if(c&&"class"===f){if(f=a[d],-1!==lv(f.toLowerCase(),l,0))return!0}else if(1===f){for(;d<a.length&&"string"==typeof(f=a[d++]);)if(f.toLowerCase()===l)return!0;return!1}}return!1}function eC(a){return 4===a.type&&a.value!==Tg}function MM(a,l,c){return l===(4!==a.type||c?a.value:Tg)}function tC(a,l,c){let d=4;const f=a.attrs||[],m=function nC(a){for(let l=0;l<a.length;l++)if(Mo(a[l]))return l;return a.length}(f);let v=!1;for(let C=0;C<l.length;C++){const E=l[C];if("number"!=typeof E){if(!v)if(4&d){if(d=2|1&d,""!==E&&!MM(a,E,c)||""===E&&1===l.length){if(Vo(d))return!1;v=!0}}else{const T=8&d?E:l[++C];if(8&d&&null!==a.attrs){if(!IM(a.attrs,T,c)){if(Vo(d))return!1;v=!0}continue}const N=TO(8&d?"class":E,f,eC(a),c);if(-1===N){if(Vo(d))return!1;v=!0;continue}if(""!==T){let z;z=N>m?"":f[N+1].toLowerCase();const X=8&d?z:null;if(X&&-1!==lv(X,T,0)||2&d&&T!==z){if(Vo(d))return!1;v=!0}}}}else{if(!v&&!Vo(d)&&!Vo(E))return!1;if(v&&Vo(E))continue;v=!1,d=E|1&d}}return Vo(d)||v}function Vo(a){return 0==(1&a)}function TO(a,l,c,d){if(null===l)return-1;let f=0;if(d||!c){let m=!1;for(;f<l.length;){const v=l[f];if(v===a)return f;if(3===v||6===v)m=!0;else{if(1===v||2===v){let C=l[++f];for(;"string"==typeof C;)C=l[++f];continue}if(4===v)break;if(0===v){f+=4;continue}}f+=m?1:2}return-1}return function TM(a,l){let c=a.indexOf(4);if(c>-1)for(c++;c<a.length;){const d=a[c];if("number"==typeof d)return-1;if(d===l)return c;c++}return-1}(l,a)}function sp(a,l,c=!1){for(let d=0;d<l.length;d++)if(tC(a,l[d],c))return!0;return!1}function AM(a,l){e:for(let c=0;c<l.length;c++){const d=l[c];if(a.length===d.length){for(let f=0;f<a.length;f++)if(a[f]!==d[f])continue e;return!0}}return!1}function cv(a,l){return a?":not("+l.trim()+")":l}function xM(a){let l=a[0],c=1,d=2,f="",m=!1;for(;c<a.length;){let v=a[c];if("string"==typeof v)if(2&d){const C=a[++c];f+="["+v+(C.length>0?'="'+C+'"':"")+"]"}else 8&d?f+="."+v:4&d&&(f+=" "+v);else""!==f&&!Vo(v)&&(l+=cv(m,f),f=""),d=v,m=m||!Vo(d);c++}return""!==f&&(l+=cv(m,f)),l}const zt={};function iC(a){uv(Kt(),Me(),fi()+a,!1)}function uv(a,l,c,d){if(!d)if(3==(3&l[2])){const m=a.preOrderCheckHooks;null!==m&&Eo(l,m,c)}else{const m=a.preOrderHooks;null!==m&&na(l,m,0,c)}ar(c)}function oC(a,l=null,c=null,d){const f=aC(a,l,c,d);return f.resolveInjectorInitializers(),f}function aC(a,l=null,c=null,d,f=new Set){const m=[c||Pt,oM(a)];return d=d||("object"==typeof a?void 0:fe(a)),new ov(m,l||np(),d||null,f)}let Gu=(()=>{class a{static create(c,d){if(Array.isArray(c))return oC({name:""},d,c,"");{const f=c.name??"";return oC({name:f},c.parent,c.providers,f)}}}return a.THROW_IF_NOT_FOUND=cr,a.NULL=new U0,a.\u0275prov=ln({token:a,providedIn:"any",factory:()=>Et(ch)}),a.__NG_ELEMENT_ID__=-1,a})();function $u(a,l=Je.Default){const c=Me();return null===c?Et(a,l):Ao($n(),c,W(a),l)}function fv(){throw new Error("invalid")}function fh(a,l){return a<<17|l<<2}function En(a){return a>>17&32767}function Og(a){return 2|a}function Ea(a){return(131068&a)>>2}function qu(a,l){return-131069&a|l<<2}function Mc(a){return 1|a}function _h(a,l){const c=a.contentQueries;if(null!==c)for(let d=0;d<c.length;d+=2){const f=c[d],m=c[d+1];if(-1!==m){const v=a.data[m];qa(f),v.contentQueries(2,l[m],m)}}}function vv(a,l,c,d,f,m,v,C,E,T,k){const N=l.blueprint.slice();return N[0]=f,N[2]=76|d,(null!==k||a&&1024&a[2])&&(N[2]|=1024),Hl(N),N[3]=N[15]=a,N[8]=c,N[10]=v||a&&a[10],N[11]=C||a&&a[11],N[12]=E||a&&a[12]||null,N[9]=T||a&&a[9]||null,N[6]=m,N[20]=function Uy(){return Lf++}(),N[21]=k,N[16]=2==l.type?a[16]:N,N}function yh(a,l,c,d,f){let m=a.data[l];if(null===m)m=function _C(a,l,c,d,f){const m=Zl(),v=Ha(),E=a.data[l]=function rT(a,l,c,d,f,m){return{type:c,index:d,insertBeforeIndex:null,injectorIndex:l?l.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:f,attrs:m,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:l,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?m:m&&m.parent,c,l,d,f);return null===a.firstChild&&(a.firstChild=E),null!==m&&(v?null==m.child&&null!==E.parent&&(m.child=E):null===m.next&&(m.next=E)),E}(a,l,c,d,f),function zm(){return Rt.lFrame.inI18n}()&&(m.flags|=64);else if(64&m.type){m.type=c,m.value=d,m.attrs=f;const v=function ta(){const a=Rt.lFrame,l=a.currentTNode;return a.isParent?l:l.parent}();m.injectorIndex=null===v?-1:v.injectorIndex}return Ir(m,!0),m}function lp(a,l,c,d){if(0===c)return-1;const f=l.length;for(let m=0;m<c;m++)l.push(d),a.blueprint.push(d),a.data.push(null);return f}function yC(a,l,c){Kl(l);try{const d=a.viewQuery;null!==d&&MC(1,d,c);const f=a.template;null!==f&&tT(a,l,f,1,c),a.firstCreatePass&&(a.firstCreatePass=!1),a.staticContentQueries&&_h(a,l),a.staticViewQueries&&MC(2,a.viewQuery,c);const m=a.components;null!==m&&function Bg(a,l){for(let c=0;c<l.length;c++)wv(a,l[c])}(l,m)}catch(d){throw a.firstCreatePass&&(a.incompleteFirstPass=!0,a.firstCreatePass=!1),d}finally{l[2]&=-5,Co()}}function _l(a,l,c,d){const f=l[2];if(128!=(128&f)){Kl(l);try{Hl(l),function lu(a){return Rt.lFrame.bindingIndex=a}(a.bindingStartIndex),null!==c&&tT(a,l,c,2,d);const v=3==(3&f);if(v){const T=a.preOrderCheckHooks;null!==T&&Eo(l,T,null)}else{const T=a.preOrderHooks;null!==T&&na(l,T,0,null),Nd(l,0)}if(function WO(a){for(let l=ul(a);null!==l;l=Po(l)){if(!l[2])continue;const c=l[9];for(let d=0;d<c.length;d++){const f=c[d],m=f[3];0==(512&f[2])&&Hn(m,1),f[2]|=512}}}(l),function YO(a){for(let l=ul(a);null!==l;l=Po(l))for(let c=10;c<l.length;c++){const d=l[c],f=d[1];bo(d)&&_l(f,d,f.template,d[8])}}(l),null!==a.contentQueries&&_h(a,l),v){const T=a.contentCheckHooks;null!==T&&Eo(l,T)}else{const T=a.contentHooks;null!==T&&na(l,T,1),Nd(l,1)}!function kc(a,l){const c=a.hostBindingOpCodes;if(null!==c)try{for(let d=0;d<c.length;d++){const f=c[d];if(f<0)ar(~f);else{const m=f,v=c[++d],C=c[++d];$m(v,m),C(2,l[m])}}}finally{ar(-1)}}(a,l);const C=a.components;null!==C&&function eT(a,l){for(let c=0;c<l.length;c++)KO(a,l[c])}(l,C);const E=a.viewQuery;if(null!==E&&MC(2,E,d),v){const T=a.viewCheckHooks;null!==T&&Eo(l,T)}else{const T=a.viewHooks;null!==T&&na(l,T,2),Nd(l,2)}!0===a.firstUpdatePass&&(a.firstUpdatePass=!1),l[2]&=-41,512&l[2]&&(l[2]&=-513,Hn(l[3],-1))}finally{Co()}}}function tT(a,l,c,d,f){const m=fi(),v=2&d;try{ar(-1),v&&l.length>22&&uv(a,l,22,!1),c(d,f)}finally{ar(m)}}function cp(a,l,c){if(yo(l)){const f=l.directiveEnd;for(let m=l.directiveStart;m<f;m++){const v=a.data[m];v.contentQueries&&v.contentQueries(1,c[m],m)}}}function vC(a,l,c){!ws()||(function Rc(a,l,c,d){const f=c.directiveStart,m=c.directiveEnd;a.firstCreatePass||To(c,l),Ai(d,l);const v=c.initialInputs;for(let C=f;C<m;C++){const E=a.data[C],T=Ni(E);T&&$O(l,c,E);const k=Ds(l,a,C,c);Ai(k,l),null!==v&&qO(0,C-f,k,E,0,v),T&&(en(c.index,l)[8]=k)}}(a,l,c,Vi(c,l)),128==(128&c.flags)&&function Ia(a,l,c){const d=c.directiveStart,f=c.directiveEnd,m=c.index,v=function cu(){return Rt.lFrame.currentDirectiveIndex}();try{ar(m);for(let C=d;C<f;C++){const E=a.data[C],T=l[C];Yl(C),(null!==E.hostBindings||0!==E.hostVars||null!==E.hostAttrs)&&oT(E,T)}}finally{ar(-1),Yl(v)}}(a,l,c))}function dr(a,l,c=Vi){const d=l.localNames;if(null!==d){let f=l.index+1;for(let m=0;m<d.length;m+=2){const v=d[m+1],C=-1===v?c(l,a):a[v];a[f++]=C}}}function nT(a){const l=a.tView;return null===l||l.incompleteFirstPass?a.tView=bC(1,null,a.template,a.decls,a.vars,a.directiveDefs,a.pipeDefs,a.viewQuery,a.schemas,a.consts):l}function bC(a,l,c,d,f,m,v,C,E,T){const k=22+d,N=k+f,z=function iT(a,l){const c=[];for(let d=0;d<l;d++)c.push(d<a?null:zt);return c}(k,N),X="function"==typeof T?T():T;return z[1]={type:a,blueprint:z,template:c,queries:null,viewQuery:C,declTNode:l,data:z.slice().fill(null,k),bindingStartIndex:k,expandoStartIndex:N,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof m?m():m,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:E,consts:X,incompleteFirstPass:!1}}function wC(a,l,c,d){const f=dT(l);null===c?f.push(d):(f.push(c),a.firstCreatePass&&hT(a).push(d,f.length-1))}function CC(a,l,c){for(let d in a)if(a.hasOwnProperty(d)){const f=a[d];(c=null===c?{}:c).hasOwnProperty(d)?c[d].push(l,f):c[d]=[l,f]}return c}function sT(a,l){const d=l.directiveEnd,f=a.data,m=l.attrs,v=[];let C=null,E=null;for(let T=l.directiveStart;T<d;T++){const k=f[T],N=k.inputs,z=null===m||eC(l)?null:ZO(N,m);v.push(z),C=CC(N,T,C),E=CC(k.outputs,T,E)}null!==C&&(C.hasOwnProperty("class")&&(l.flags|=16),C.hasOwnProperty("style")&&(l.flags|=32)),l.initialInputs=v,l.inputs=C,l.outputs=E}function Ui(a,l,c,d,f,m,v,C){const E=Vi(l,c);let k,T=l.inputs;!C&&null!=T&&(k=T[d])?(TC(a,c,k,d,f),$s(l)&&ro(c,l.index)):3&l.type&&(d=function jO(a){return"class"===a?"className":"for"===a?"htmlFor":"formaction"===a?"formAction":"innerHtml"===a?"innerHTML":"readonly"===a?"readOnly":"tabindex"===a?"tabIndex":a}(d),f=null!=v?v(f,l.value||"",d):f,m.setProperty(E,d,f))}function ro(a,l){const c=en(l,a);16&c[2]||(c[2]|=32)}function vh(a,l,c,d){let f=!1;if(ws()){const m=function GO(a,l,c){const d=a.directiveRegistry;let f=null;if(d)for(let m=0;m<d.length;m++){const v=d[m];sp(c,v.selectors,!1)&&(f||(f=[]),Ks(To(c,l),a,v.type),Ni(v)?(aT(a,c),f.unshift(v)):f.push(v))}return f}(a,l,c),v=null===d?null:{"":-1};if(null!==m){f=!0,cT(c,a.data.length,m.length);for(let k=0;k<m.length;k++){const N=m[k];N.providersResolver&&N.providersResolver(N)}let C=!1,E=!1,T=lp(a,l,m.length,null);for(let k=0;k<m.length;k++){const N=m[k];c.mergedAttrs=Za(c.mergedAttrs,N.hostAttrs),uT(a,c,l,T,N),lT(T,N,v),null!==N.contentQueries&&(c.flags|=8),(null!==N.hostBindings||null!==N.hostAttrs||0!==N.hostVars)&&(c.flags|=128);const z=N.type.prototype;!C&&(z.ngOnChanges||z.ngOnInit||z.ngDoCheck)&&((a.preOrderHooks||(a.preOrderHooks=[])).push(c.index),C=!0),!E&&(z.ngOnChanges||z.ngDoCheck)&&((a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(c.index),E=!0),T++}sT(a,c)}v&&function zO(a,l,c){if(l){const d=a.localNames=[];for(let f=0;f<l.length;f+=2){const m=c[l[f+1]];if(null==m)throw new Ce(-301,!1);d.push(l[f],m)}}}(c,d,v)}return c.mergedAttrs=Za(c.mergedAttrs,c.attrs),f}function yl(a,l,c,d,f,m){const v=m.hostBindings;if(v){let C=a.hostBindingOpCodes;null===C&&(C=a.hostBindingOpCodes=[]);const E=~l.index;(function Sa(a){let l=a.length;for(;l>0;){const c=a[--l];if("number"==typeof c&&c<0)return c}return 0})(C)!=E&&C.push(E),C.push(d,f,v)}}function oT(a,l){null!==a.hostBindings&&a.hostBindings(1,l)}function aT(a,l){l.flags|=2,(a.components||(a.components=[])).push(l.index)}function lT(a,l,c){if(c){if(l.exportAs)for(let d=0;d<l.exportAs.length;d++)c[l.exportAs[d]]=a;Ni(l)&&(c[""]=a)}}function cT(a,l,c){a.flags|=1,a.directiveStart=l,a.directiveEnd=l+c,a.providerIndexes=l}function uT(a,l,c,d,f){a.data[d]=f;const m=f.factory||(f.factory=rs(f.type)),v=new Ws(m,Ni(f),$u);a.blueprint[d]=v,c[d]=v,yl(a,l,0,d,lp(a,c,f.hostVars,zt),f)}function $O(a,l,c){const d=Vi(l,a),f=nT(c),m=a[10],v=Cv(a,vv(a,f,null,c.onPush?32:16,d,l,m,m.createRenderer(d,c),null,null,null));a[l.index]=v}function vl(a,l,c,d,f,m){const v=Vi(a,l);!function DC(a,l,c,d,f,m,v){if(null==m)a.removeAttribute(l,f,c);else{const C=null==v?_e(m):v(m,d||"",f);a.setAttribute(l,f,C,c)}}(l[11],v,m,a.value,c,d,f)}function qO(a,l,c,d,f,m){const v=m[l];if(null!==v){const C=d.setInput;for(let E=0;E<v.length;){const T=v[E++],k=v[E++],N=v[E++];null!==C?d.setInput(c,N,T,k):c[k]=N}}}function ZO(a,l){let c=null,d=0;for(;d<l.length;){const f=l[d];if(0!==f)if(5!==f){if("number"==typeof f)break;a.hasOwnProperty(f)&&(null===c&&(c=[]),c.push(f,a[f],l[d+1])),d+=2}else d+=2;else d+=4}return c}function EC(a,l,c,d){return new Array(a,!0,!1,l,null,0,d,c,null,null)}function KO(a,l){const c=en(l,a);if(bo(c)){const d=c[1];48&c[2]?_l(d,c,d.template,c[8]):c[5]>0&&SC(c)}}function SC(a){for(let d=ul(a);null!==d;d=Po(d))for(let f=10;f<d.length;f++){const m=d[f];if(bo(m))if(512&m[2]){const v=m[1];_l(v,m,v.template,m[8])}else m[5]>0&&SC(m)}const c=a[1].components;if(null!==c)for(let d=0;d<c.length;d++){const f=en(c[d],a);bo(f)&&f[5]>0&&SC(f)}}function wv(a,l){const c=en(l,a),d=c[1];(function QO(a,l){for(let c=l.length;c<a.blueprint.length;c++)l.push(a.blueprint[c])})(d,c),yC(d,c,c[8])}function Cv(a,l){return a[13]?a[14][4]=l:a[13]=l,a[14]=l,l}function IC(a){for(;a;){a[2]|=32;const l=cl(a);if(bf(a)&&!l)return a;a=l}return null}function Dv(a,l,c,d=!0){const f=l[10];f.begin&&f.begin();try{_l(a,l,a.template,c)}catch(v){throw d&&pT(l,v),v}finally{f.end&&f.end()}}function MC(a,l,c){qa(0),l(a,c)}function dT(a){return a[7]||(a[7]=[])}function hT(a){return a.cleanup||(a.cleanup=[])}function fT(a,l,c){return(null===a||Ni(a))&&(c=function Ll(a){for(;Array.isArray(a);){if("object"==typeof a[1])return a;a=a[0]}return null}(c[l.index])),c[11]}function pT(a,l){const c=a[9],d=c?c.get(ju,null):null;d&&d.handleError(l)}function TC(a,l,c,d,f){for(let m=0;m<c.length;){const v=c[m++],C=c[m++],E=l[v],T=a.data[v];null!==T.setInput?T.setInput(E,f,d,C):E[C]=f}}function Ev(a,l,c){let d=c?a.styles:null,f=c?a.classes:null,m=0;if(null!==l)for(let v=0;v<l.length;v++){const C=l[v];"number"==typeof C?m=C:1==m?f=pe(f,C):2==m&&(d=pe(d,C+": "+l[++v]+";"))}c?a.styles=d:a.stylesWithoutHost=d,c?a.classes=f:a.classesWithoutHost=f}function Sv(a,l,c,d,f=!1){for(;null!==c;){const m=l[c.index];if(null!==m&&d.push(zn(m)),Yi(m))for(let C=10;C<m.length;C++){const E=m[C],T=E[1].firstChild;null!==T&&Sv(E[1],E,T,d)}const v=c.type;if(8&v)Sv(a,l,c.child,d);else if(32&v){const C=Kd(c,l);let E;for(;E=C();)d.push(E)}else if(16&v){const C=rh(l,c);if(Array.isArray(C))d.push(...C);else{const E=cl(l[16]);Sv(E[1],E,C,d,!0)}}c=f?c.projectionNext:c.next}return d}class jg{constructor(l,c){this._lView=l,this._cdRefInjectingView=c,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const l=this._lView,c=l[1];return Sv(c,l,c.firstChild,[])}get context(){return this._lView[8]}set context(l){this._lView[8]=l}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const l=this._lView[3];if(Yi(l)){const c=l[8],d=c?c.indexOf(this):-1;d>-1&&(Hf(l,d),jn(c,d))}this._attachedToViewContainer=!1}ug(this._lView[1],this._lView)}onDestroy(l){wC(this._lView[1],this._lView,null,l)}markForCheck(){IC(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){Dv(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Ce(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function cg(a,l){_a(a,l,l[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(l){if(this._attachedToViewContainer)throw new Ce(902,!1);this._appRef=l}}class JO extends jg{constructor(l){super(l),this._view=l}detectChanges(){const l=this._view;Dv(l[1],l,l[8],!1)}checkNoChanges(){}get context(){return null}}class AC extends Dc{constructor(l){super(),this.ngModule=l}resolveComponentFactory(l){const c=Q(l);return new Gg(c,this.ngModule)}}function mT(a){const l=[];for(let c in a)a.hasOwnProperty(c)&&l.push({propName:a[c],templateName:c});return l}class eP{constructor(l,c){this.injector=l,this.parentInjector=c}get(l,c,d){const f=this.injector.get(l,Dg,d);return f!==Dg||c===Dg?f:this.parentInjector.get(l,c,d)}}class Gg extends pM{constructor(l,c){super(),this.componentDef=l,this.ngModule=c,this.componentType=l.type,this.selector=function kM(a){return a.map(xM).join(",")}(l.selectors),this.ngContentSelectors=l.ngContentSelectors?l.ngContentSelectors:[],this.isBoundToModule=!!c}get inputs(){return mT(this.componentDef.inputs)}get outputs(){return mT(this.componentDef.outputs)}create(l,c,d,f){let m=(f=f||this.ngModule)instanceof Cc?f:f?.injector;m&&null!==this.componentDef.getStandaloneInjector&&(m=this.componentDef.getStandaloneInjector(m)||m);const v=m?new eP(l,m):l,C=v.get(ip,null);if(null===C)throw new Ce(407,!1);const E=v.get(bM,null),T=C.createRenderer(null,this.componentDef),k=this.componentDef.selectors[0][0]||"div",N=d?function Bo(a,l,c){return a.selectRootElement(l,c===ut.ShadowDom)}(T,d,this.componentDef.encapsulation):vc(T,k,function XO(a){const l=a.toLowerCase();return"svg"===l?"svg":"math"===l?"math":null}(k)),z=this.componentDef.onPush?288:272,X=bC(0,null,null,1,0,null,null,null,null,null),ve=vv(null,X,null,z,null,null,C,T,E,v,null);let Oe,ze;Kl(ve);try{const st=function iP(a,l,c,d,f,m){const v=c[1];c[22]=a;const E=yh(v,22,2,"#host",null),T=E.mergedAttrs=l.hostAttrs;null!==T&&(Ev(E,T,!0),null!==a&&(ra(f,a,T),null!==E.classes&&va(f,a,E.classes),null!==E.styles&&hs(f,a,E.styles)));const k=d.createRenderer(a,l),N=vv(c,nT(l),null,l.onPush?32:16,c[22],E,d,k,m||null,null,null);return v.firstCreatePass&&(Ks(To(E,c),v,l.type),aT(v,E),cT(E,c.length,1)),Cv(c,N),c[22]=N}(N,this.componentDef,ve,C,T);if(N)if(d)ra(T,N,["ng-version",Q0.full]);else{const{attrs:bt,classes:Ae}=function RM(a){const l=[],c=[];let d=1,f=2;for(;d<a.length;){let m=a[d];if("string"==typeof m)2===f?""!==m&&l.push(m,a[++d]):8===f&&c.push(m);else{if(!Vo(f))break;f=m}d++}return{attrs:l,classes:c}}(this.componentDef.selectors[0]);bt&&ra(T,N,bt),Ae&&Ae.length>0&&va(T,N,Ae.join(" "))}if(ze=ea(X,22),void 0!==c){const bt=ze.projection=[];for(let Ae=0;Ae<this.ngContentSelectors.length;Ae++){const Ot=c[Ae];bt.push(null!=Ot?Array.from(Ot):null)}}Oe=function rP(a,l,c,d){const f=c[1],m=function Hg(a,l,c){const d=$n();a.firstCreatePass&&(c.providersResolver&&c.providersResolver(c),uT(a,d,l,lp(a,l,1,null),c),sT(a,d));const f=Ds(l,a,d.directiveStart,d);Ai(f,l);const m=Vi(d,l);return m&&Ai(m,l),f}(f,c,l);if(a[8]=c[8]=m,null!==d)for(const C of d)C(m,l);if(l.contentQueries){const C=$n();l.contentQueries(1,m,C.directiveStart)}const v=$n();return!f.firstCreatePass||null===l.hostBindings&&null===l.hostAttrs||(ar(v.index),yl(c[1],v,0,v.directiveStart,v.directiveEnd,l),oT(l,m)),m}(st,this.componentDef,ve,[sP]),yC(X,ve,null)}finally{Co()}return new gT(this.componentType,Oe,Ec(ze,ve),ve,ze)}}class gT extends class Z0{}{constructor(l,c,d,f,m){super(),this.location=d,this._rootLView=f,this._tNode=m,this.instance=c,this.hostView=this.changeDetectorRef=new JO(f),this.componentType=l}setInput(l,c){const d=this._tNode.inputs;let f;if(null!==d&&(f=d[l])){const m=this._rootLView;TC(m[1],m,f,l,c),ro(m,this._tNode.index)}}get injector(){return new xo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(l){this.hostView.onDestroy(l)}}function sP(){const a=$n();Xl(Me()[1],a)}function xC(a){let l=function _T(a){return Object.getPrototypeOf(a.prototype).constructor}(a.type),c=!0;const d=[a];for(;l;){let f;if(Ni(a))f=l.\u0275cmp||l.\u0275dir;else{if(l.\u0275cmp)throw new Ce(903,!1);f=l.\u0275dir}if(f){if(c){d.push(f);const v=a;v.inputs=kC(a.inputs),v.declaredInputs=kC(a.declaredInputs),v.outputs=kC(a.outputs);const C=f.hostBindings;C&&cP(a,C);const E=f.viewQuery,T=f.contentQueries;if(E&&aP(a,E),T&&lP(a,T),te(a.inputs,f.inputs),te(a.declaredInputs,f.declaredInputs),te(a.outputs,f.outputs),Ni(f)&&f.data.animation){const k=a.data;k.animation=(k.animation||[]).concat(f.data.animation)}}const m=f.features;if(m)for(let v=0;v<m.length;v++){const C=m[v];C&&C.ngInherit&&C(a),C===xC&&(c=!1)}}l=Object.getPrototypeOf(l)}!function oP(a){let l=0,c=null;for(let d=a.length-1;d>=0;d--){const f=a[d];f.hostVars=l+=f.hostVars,f.hostAttrs=Za(f.hostAttrs,c=Za(c,f.hostAttrs))}}(d)}function kC(a){return a===rr?{}:a===Pt?[]:a}function aP(a,l){const c=a.viewQuery;a.viewQuery=c?(d,f)=>{l(d,f),c(d,f)}:l}function lP(a,l){const c=a.contentQueries;a.contentQueries=c?(d,f,m)=>{l(d,f,m),c(d,f,m)}:l}function cP(a,l){const c=a.hostBindings;a.hostBindings=c?(d,f)=>{l(d,f),c(d,f)}:l}let Iv=null;function bh(){if(!Iv){const a=fn.Symbol;if(a&&a.iterator)Iv=a.iterator;else{const l=Object.getOwnPropertyNames(Map.prototype);for(let c=0;c<l.length;++c){const d=l[c];"entries"!==d&&"size"!==d&&Map.prototype[d]===Map.prototype.entries&&(Iv=d)}}}return Iv}function zg(a){return!!RC(a)&&(Array.isArray(a)||!(a instanceof Map)&&bh()in a)}function RC(a){return null!==a&&("function"==typeof a||"object"==typeof a)}function bl(a,l,c){return a[l]=c}function Zr(a,l,c){return!Object.is(a[l],c)&&(a[l]=c,!0)}function OC(a,l,c,d){const f=Me();return Zr(f,wo(),l)&&(Kt(),vl(An(),f,a,l,c,d)),OC}function dp(a,l,c,d){return Zr(a,wo(),c)?l+_e(c)+d:zt}function MT(a,l,c,d,f,m,v,C){const E=Me(),T=Kt(),k=a+22,N=T.firstCreatePass?function _P(a,l,c,d,f,m,v,C,E){const T=l.consts,k=yh(l,a,4,v||null,Ur(T,C));vh(l,c,k,Ur(T,E)),Xl(l,k);const N=k.tViews=bC(2,k,d,f,m,l.directiveRegistry,l.pipeRegistry,null,l.schemas,T);return null!==l.queries&&(l.queries.template(l,k),N.queries=l.queries.embeddedTView(k)),k}(k,T,E,l,c,d,f,m,v):T.data[k];Ir(N,!1);const z=E[11].createComment("");ih(T,E,z,N),Ai(z,E),Cv(E,E[k]=EC(z,E,z,N)),Ol(N)&&vC(T,E,N),null!=v&&dr(E,N,C)}function TT(a){return bs(function au(){return Rt.lFrame.contextLView}(),22+a)}function PC(a,l,c){const d=Me();return Zr(d,wo(),l)&&Ui(Kt(),An(),d,a,l,d[11],c,!1),PC}function FC(a,l,c,d,f){const v=f?"class":"style";TC(a,c,l.inputs[v],v,d)}function hr(a,l,c,d){const f=Me(),m=Kt(),v=22+a,C=f[11],E=f[v]=vc(C,l,function Jl(){return Rt.lFrame.currentNamespace}()),T=m.firstCreatePass?function AT(a,l,c,d,f,m,v){const C=l.consts,T=yh(l,a,2,f,Ur(C,m));return vh(l,c,T,Ur(C,v)),null!==T.attrs&&Ev(T,T.attrs,!1),null!==T.mergedAttrs&&Ev(T,T.mergedAttrs,!0),null!==l.queries&&l.queries.elementStart(l,T),T}(v,m,f,0,l,c,d):m.data[v];Ir(T,!0);const k=T.mergedAttrs;null!==k&&ra(C,E,k);const N=T.classes;null!==N&&va(C,E,N);const z=T.styles;return null!==z&&hs(C,E,z),64!=(64&T.flags)&&ih(m,f,E,T),0===function Gl(){return Rt.lFrame.elementDepthCount}()&&Ai(E,f),function zl(){Rt.lFrame.elementDepthCount++}(),Ol(T)&&(vC(m,f,T),cp(m,T,f)),null!==d&&dr(f,T),hr}function vp(){let a=$n();Ha()?ja():(a=a.parent,Ir(a,!1));const l=a;!function ru(){Rt.lFrame.elementDepthCount--}();const c=Kt();return c.firstCreatePass&&(Xl(c,a),yo(a)&&c.queries.elementEnd(a)),null!=l.classesWithoutHost&&function nc(a){return 0!=(16&a.flags)}(l)&&FC(c,l,Me(),l.classesWithoutHost,!0),null!=l.stylesWithoutHost&&function Vd(a){return 0!=(32&a.flags)}(l)&&FC(c,l,Me(),l.stylesWithoutHost,!1),vp}function Tv(a,l,c,d){return hr(a,l,c,d),vp(),Tv}function qg(a,l,c){const d=Me(),f=Kt(),m=a+22,v=f.firstCreatePass?function vP(a,l,c,d,f){const m=l.consts,v=Ur(m,d),C=yh(l,a,8,"ng-container",v);return null!==v&&Ev(C,v,!0),vh(l,c,C,Ur(m,f)),null!==l.queries&&l.queries.elementStart(l,C),C}(m,f,d,l,c):f.data[m];Ir(v,!0);const C=d[m]=d[11].createComment("");return ih(f,d,C,v),Ai(C,d),Ol(v)&&(vC(f,d,v),cp(f,v,d)),null!=c&&dr(d,v),qg}function bp(){let a=$n();const l=Kt();return Ha()?ja():(a=a.parent,Ir(a,!1)),l.firstCreatePass&&(Xl(l,a),yo(a)&&l.queries.elementEnd(a)),bp}function wp(a,l,c){return qg(a,l,c),bp(),wp}function Av(){return Me()}function xv(a){return!!a&&"function"==typeof a.then}function NC(a){return!!a&&"function"==typeof a.subscribe}const Ku=NC;function LC(a,l,c,d){const f=Me(),m=Kt(),v=$n();return kT(m,f,f[11],v,a,l,0,d),LC}function VC(a,l){const c=$n(),d=Me(),f=Kt();return kT(f,d,fT($a(f.data),c,d),c,a,l),VC}function kT(a,l,c,d,f,m,v,C){const E=Ol(d),k=a.firstCreatePass&&hT(a),N=l[8],z=dT(l);let X=!0;if(3&d.type||C){const ze=Vi(d,l),st=C?C(ze):ze,bt=z.length,Ae=C?pn=>C(zn(pn[d.index])):d.index;let Ot=null;if(!C&&E&&(Ot=function xT(a,l,c,d){const f=a.cleanup;if(null!=f)for(let m=0;m<f.length-1;m+=2){const v=f[m];if(v===c&&f[m+1]===d){const C=l[7],E=f[m+2];return C.length>E?C[E]:null}"string"==typeof v&&(m+=2)}return null}(a,l,f,d.index)),null!==Ot)(Ot.__ngLastListenerFn__||Ot).__ngNextListenerFn__=m,Ot.__ngLastListenerFn__=m,X=!1;else{m=kv(d,l,N,m,!1);const pn=c.listen(st,f,m);z.push(m,pn),k&&k.push(f,Ae,bt,bt+1)}}else m=kv(d,l,N,m,!1);const ve=d.outputs;let Oe;if(X&&null!==ve&&(Oe=ve[f])){const ze=Oe.length;if(ze)for(let st=0;st<ze;st+=2){const Bn=l[Oe[st]][Oe[st+1]].subscribe(m),Tl=z.length;z.push(m,Bn),k&&k.push(f,d.index,Tl,-(Tl+1))}}}function RT(a,l,c,d){try{return!1!==c(d)}catch(f){return pT(a,f),!1}}function kv(a,l,c,d,f){return function m(v){if(v===Function)return d;IC(2&a.flags?en(a.index,l):l);let E=RT(l,0,d,v),T=m.__ngNextListenerFn__;for(;T;)E=RT(l,0,T,v)&&E,T=T.__ngNextListenerFn__;return f&&!1===E&&(v.preventDefault(),v.returnValue=!1),E}}function BC(a=1){return function Do(a){return(Rt.lFrame.contextLView=function Ql(a,l){for(;a>0;)l=l[15],a--;return l}(a,Rt.lFrame.contextLView))[8]}(a)}function OT(a,l){let c=null;const d=function AO(a){const l=a.attrs;if(null!=l){const c=l.indexOf(5);if(0==(1&c))return l[c+1]}return null}(a);for(let f=0;f<l.length;f++){const m=l[f];if("*"!==m){if(null===d?sp(a,m,!0):AM(d,m))return f}else c=f}return c}function Zg(a){const l=Me()[16][6];if(!l.projection){const d=l.projection=Xs(a?a.length:1,null),f=d.slice();let m=l.child;for(;null!==m;){const v=a?OT(m,a):0;null!==v&&(f[v]?f[v].projectionNext=m:d[v]=m,f[v]=m),m=m.next}}}function UC(a,l=0,c){const d=Me(),f=Kt(),m=yh(f,22+a,16,null,c||null);null===m.projection&&(m.projection=l),ja(),64!=(64&m.flags)&&function Ar(a,l,c){ya(l[11],0,l,c,Xd(a,c,l),zf(c.parent||l[6],c,l))}(f,d,m)}function Vv(a,l,c,d,f){const m=a[c+1],v=null===l;let C=d?En(m):Ea(m),E=!1;for(;0!==C&&(!1===E||v);){const k=a[C+1];$C(a[C],l)&&(E=!0,a[C+1]=d?Mc(k):Og(k)),C=d?En(k):Ea(k)}E&&(a[c+1]=d?Og(m):Mc(m))}function $C(a,l){return null===a||null==l||(Array.isArray(a)?a[1]:a)===l||!(!Array.isArray(a)||"string"!=typeof l)&&to(a,l)>=0}const Hi={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function qC(a){return a.substring(Hi.key,Hi.keyEnd)}function Cp(a,l){const c=Hi.textEnd;return c===l?-1:(l=Hi.keyEnd=function FT(a,l,c){for(;l<c&&a.charCodeAt(l)>32;)l++;return l}(a,Hi.key=l,c),Qu(a,l,c))}function Qu(a,l,c){for(;l<c&&a.charCodeAt(l)<=32;)l++;return l}function Dh(a,l,c){return xs(a,l,c,!1),Dh}function QC(a,l){return xs(a,l,null,!0),QC}function Ma(a,l){for(let c=function bP(a){return function YC(a){Hi.key=0,Hi.keyEnd=0,Hi.value=0,Hi.valueEnd=0,Hi.textEnd=a.length}(a),Cp(a,Qu(a,0,Hi.textEnd))}(l);c>=0;c=Cp(l,c))Ge(a,qC(l),!0)}function xs(a,l,c,d){const f=Me(),m=Kt(),v=Cs(2);m.firstUpdatePass&&XC(m,a,v,d),l!==zt&&Zr(f,v,l)&&nD(m,m.data[fi()],f,f[11],a,f[v+1]=function UT(a,l){return null==a||("string"==typeof l?a+=l:"object"==typeof a&&(a=fe(mi(a)))),a}(l,c),d,v)}function Uv(a,l){return l>=a.expandoStartIndex}function XC(a,l,c,d){const f=a.data;if(null===f[c+1]){const m=f[fi()],v=Uv(a,c);iD(m,d)&&null===l&&!v&&(l=!1),l=function eD(a,l,c,d){const f=$a(a);let m=d?l.residualClasses:l.residualStyles;if(null===f)0===(d?l.classBindings:l.styleBindings)&&(c=Ep(c=jv(null,a,l,c,d),l.attrs,d),m=null);else{const v=l.directiveStylingLast;if(-1===v||a[v]!==f)if(c=jv(f,a,l,c,d),null===m){let E=function CP(a,l,c){const d=c?l.classBindings:l.styleBindings;if(0!==Ea(d))return a[En(d)]}(a,l,d);void 0!==E&&Array.isArray(E)&&(E=jv(null,a,l,E[1],d),E=Ep(E,l.attrs,d),function Hv(a,l,c,d){a[En(c?l.classBindings:l.styleBindings)]=d}(a,l,d,E))}else m=function LT(a,l,c){let d;const f=l.directiveEnd;for(let m=1+l.directiveStylingLast;m<f;m++)d=Ep(d,a[m].hostAttrs,c);return Ep(d,l.attrs,c)}(a,l,d)}return void 0!==m&&(d?l.residualClasses=m:l.residualStyles=m),c}(f,m,l,d),function PT(a,l,c,d,f,m){let v=m?l.classBindings:l.styleBindings,C=En(v),E=Ea(v);a[d]=c;let k,T=!1;if(Array.isArray(c)){const N=c;k=N[1],(null===k||to(N,k)>0)&&(T=!0)}else k=c;if(f)if(0!==E){const z=En(a[C+1]);a[d+1]=fh(z,C),0!==z&&(a[z+1]=qu(a[z+1],d)),a[C+1]=function ph(a,l){return 131071&a|l<<17}(a[C+1],d)}else a[d+1]=fh(C,0),0!==C&&(a[C+1]=qu(a[C+1],d)),C=d;else a[d+1]=fh(E,0),0===C?C=d:a[E+1]=qu(a[E+1],d),E=d;T&&(a[d+1]=Og(a[d+1])),Vv(a,k,d,!0),Vv(a,k,d,!1),function zC(a,l,c,d,f){const m=f?a.residualClasses:a.residualStyles;null!=m&&"string"==typeof l&&to(m,l)>=0&&(c[d+1]=Mc(c[d+1]))}(l,k,a,d,m),v=fh(C,E),m?l.classBindings=v:l.styleBindings=v}(f,m,l,c,v,d)}}function jv(a,l,c,d,f){let m=null;const v=c.directiveEnd;let C=c.directiveStylingLast;for(-1===C?C=c.directiveStart:C++;C<v&&(m=l[C],d=Ep(d,m.hostAttrs,f),m!==a);)C++;return null!==a&&(c.directiveStylingLast=C),d}function Ep(a,l,c){const d=c?1:2;let f=-1;if(null!==l)for(let m=0;m<l.length;m++){const v=l[m];"number"==typeof v?f=v:f===d&&(Array.isArray(a)||(a=void 0===a?[]:["",a]),Ge(a,v,!!c||l[++m]))}return void 0===a?null:a}function nD(a,l,c,d,f,m,v,C){if(!(3&l.type))return;const E=a.data,T=E[C+1];Sp(function dC(a){return 1==(1&a)}(T)?Gv(E,l,c,f,Ea(T),v):void 0)||(Sp(m)||function $M(a){return 2==(2&a)}(T)&&(m=Gv(E,null,c,f,C,v)),function Qy(a,l,c,d,f){if(l)f?a.addClass(c,d):a.removeClass(c,d);else{let m=-1===d.indexOf("-")?void 0:Ts.DashCase;null==f?a.removeStyle(c,d,m):("string"==typeof f&&f.endsWith("!important")&&(f=f.slice(0,-10),m|=Ts.Important),a.setStyle(c,d,f,m))}}(d,v,Sr(fi(),c),f,m))}function Gv(a,l,c,d,f,m){const v=null===l;let C;for(;f>0;){const E=a[f],T=Array.isArray(E),k=T?E[1]:E,N=null===k;let z=c[f+1];z===zt&&(z=N?Pt:void 0);let X=N?rl(z,d):k===d?z:void 0;if(T&&!Sp(X)&&(X=rl(E,d)),Sp(X)&&(C=X,v))return C;const ve=a[f+1];f=v?En(ve):Ea(ve)}if(null!==l){let E=m?l.residualClasses:l.residualStyles;null!=E&&(C=rl(E,d))}return C}function Sp(a){return void 0!==a}function iD(a,l){return 0!=(a.flags&(l?16:32))}function rD(a,l=""){const c=Me(),d=Kt(),f=a+22,m=d.firstCreatePass?yh(d,f,1,l,null):d.data[f],v=c[f]=function Qd(a,l){return a.createText(l)}(c[11],l);ih(d,c,v,m),Ir(m,!1)}function zv(a){return Eh("",a,""),zv}function Eh(a,l,c){const d=Me(),f=dp(d,a,l,c);return f!==zt&&function Oc(a,l,c){const d=Sr(l,a);!function Bf(a,l,c){a.setValue(l,c)}(a[11],d,c)}(d,fi(),f),Eh}function oD(a,l,c){!function so(a,l,c,d){const f=Kt(),m=Cs(2);f.firstUpdatePass&&XC(f,null,m,d);const v=Me();if(c!==zt&&Zr(v,m,c)){const C=f.data[fi()];if(iD(C,d)&&!Uv(f,m)){let E=d?C.classesWithoutHost:C.stylesWithoutHost;null!==E&&(c=pe(E,c||"")),FC(f,C,v,c,d)}else!function BT(a,l,c,d,f,m,v,C){f===zt&&(f=Pt);let E=0,T=0,k=0<f.length?f[0]:null,N=0<m.length?m[0]:null;for(;null!==k||null!==N;){const z=E<f.length?f[E+1]:void 0,X=T<m.length?m[T+1]:void 0;let Oe,ve=null;k===N?(E+=2,T+=2,z!==X&&(ve=N,Oe=X)):null===N||null!==k&&k<N?(E+=2,ve=k):(T+=2,ve=N,Oe=X),null!==ve&&nD(a,l,c,d,ve,Oe,v,C),k=E<f.length?f[E]:null,N=T<m.length?m[T]:null}}(f,C,v,v[11],v[m+1],v[m+1]=function VT(a,l,c){if(null==c||""===c)return Pt;const d=[],f=mi(c);if(Array.isArray(f))for(let m=0;m<f.length;m++)a(d,f[m],!0);else if("object"==typeof f)for(const m in f)f.hasOwnProperty(m)&&a(d,m,f[m]);else"string"==typeof f&&l(d,f);return d}(a,l,c),d,m)}}(Ge,Ma,dp(Me(),a,l,c),!0)}function Kv(a,l,c){const d=Me();return Zr(d,wo(),l)&&Ui(Kt(),An(),d,a,l,d[11],c,!0),Kv}function Qv(a,l,c){const d=Me();if(Zr(d,wo(),l)){const m=Kt(),v=An();Ui(m,v,d,a,l,fT($a(m.data),v,d),c,!0)}return Qv}const Ju=void 0;var EP=["en",[["a","p"],["AM","PM"],Ju],[["AM","PM"],Ju,Ju],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ju,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ju,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ju,"{1} 'at' {0}",Ju],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Wt(a){const c=Math.floor(Math.abs(a)),d=a.toString().replace(/^[^.]*\.?/,"").length;return 1===c&&0===d?1:5}];let Ip={};function Fc(a){const l=function nA(a){return a.toLowerCase().replace(/_/g,"-")}(a);let c=Jv(l);if(c)return c;const d=l.split("-")[0];if(c=Jv(d),c)return c;if("en"===d)return EP;throw new Ce(701,!1)}function Cl(a){return Fc(a)[Tt.PluralCase]}function Jv(a){return a in Ip||(Ip[a]=fn.ng&&fn.ng.common&&fn.ng.common.locales&&fn.ng.common.locales[a]),Ip[a]}var Tt=(()=>((Tt=Tt||{})[Tt.LocaleId=0]="LocaleId",Tt[Tt.DayPeriodsFormat=1]="DayPeriodsFormat",Tt[Tt.DayPeriodsStandalone=2]="DayPeriodsStandalone",Tt[Tt.DaysFormat=3]="DaysFormat",Tt[Tt.DaysStandalone=4]="DaysStandalone",Tt[Tt.MonthsFormat=5]="MonthsFormat",Tt[Tt.MonthsStandalone=6]="MonthsStandalone",Tt[Tt.Eras=7]="Eras",Tt[Tt.FirstDayOfWeek=8]="FirstDayOfWeek",Tt[Tt.WeekendRange=9]="WeekendRange",Tt[Tt.DateFormat=10]="DateFormat",Tt[Tt.TimeFormat=11]="TimeFormat",Tt[Tt.DateTimeFormat=12]="DateTimeFormat",Tt[Tt.NumberSymbols=13]="NumberSymbols",Tt[Tt.NumberFormats=14]="NumberFormats",Tt[Tt.CurrencyCode=15]="CurrencyCode",Tt[Tt.CurrencySymbol=16]="CurrencySymbol",Tt[Tt.CurrencyName=17]="CurrencyName",Tt[Tt.Currencies=18]="Currencies",Tt[Tt.Directionality=19]="Directionality",Tt[Tt.PluralCase=20]="PluralCase",Tt[Tt.ExtraData=21]="ExtraData",Tt))();const oo="en-US";let Xv=oo;function Yr(a,l,c,d,f){if(a=W(a),Array.isArray(a))for(let m=0;m<a.length;m++)Yr(a[m],l,c,d,f);else{const m=Kt(),v=Me();let C=Uu(a)?a:W(a.provide),E=$0(a);const T=$n(),k=1048575&T.providerIndexes,N=T.directiveStart,z=T.providerIndexes>>20;if(Uu(a)||!a.multi){const X=new Ws(E,f,$u),ve=ub(C,l,f?k:k+z,N);-1===ve?(Ks(To(T,v),m,C),lb(m,a,l.length),l.push(C),T.directiveStart++,T.directiveEnd++,f&&(T.providerIndexes+=1048576),c.push(X),v.push(X)):(c[ve]=X,v[ve]=X)}else{const X=ub(C,l,k+z,N),ve=ub(C,l,k,k+z),Oe=X>=0&&c[X],ze=ve>=0&&c[ve];if(f&&!ze||!f&&!Oe){Ks(To(T,v),m,C);const st=function MA(a,l,c,d,f){const m=new Ws(a,c,$u);return m.multi=[],m.index=l,m.componentProviders=0,cb(m,f,d&&!c),m}(f?IA:SA,c.length,f,d,E);!f&&ze&&(c[ve].providerFactory=st),lb(m,a,l.length,0),l.push(C),T.directiveStart++,T.directiveEnd++,f&&(T.providerIndexes+=1048576),c.push(st),v.push(st)}else lb(m,a,X>-1?X:ve,cb(c[f?ve:X],E,!f&&d));!f&&d&&ze&&c[ve].componentProviders++}}}function lb(a,l,c,d){const f=Uu(l),m=function lM(a){return!!a.useClass}(l);if(f||m){const E=(m?W(l.useClass):l).prototype.ngOnDestroy;if(E){const T=a.destroyHooks||(a.destroyHooks=[]);if(!f&&l.multi){const k=T.indexOf(c);-1===k?T.push(c,[d,E]):T[k+1].push(d,E)}else T.push(c,E)}}}function cb(a,l,c){return c&&a.componentProviders++,a.multi.push(l)-1}function ub(a,l,c,d){for(let f=c;f<d;f++)if(l[f]===a)return f;return-1}function SA(a,l,c,d){return Dl(this.multi,[])}function IA(a,l,c,d){const f=this.multi;let m;if(this.providerFactory){const v=this.providerFactory.componentProviders,C=Ds(c,c[1],this.providerFactory.index,d);m=C.slice(0,v),Dl(f,m);for(let E=v;E<C.length;E++)m.push(C[E])}else m=[],Dl(f,m);return m}function Dl(a,l){for(let c=0;c<a.length;c++)l.push((0,a[c])());return l}function El(a,l=[]){return c=>{c.providersResolver=(d,f)=>function rd(a,l,c){const d=Kt();if(d.firstCreatePass){const f=Ni(a);Yr(c,d.data,d.blueprint,f,!0),Yr(l,d.data,d.blueprint,f,!1)}}(d,f?f(a):a,l)}}class sd{}class Ji{}function Lc(a,l){return new Mn(a,l??null)}class Mn extends sd{constructor(l,c){super(),this._parent=c,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new AC(this);const d=In(l);this._bootstrapComponents=Da(d.bootstrap),this._r3Injector=aC(l,c,[{provide:sd,useValue:this},{provide:Dc,useValue:this.componentFactoryResolver}],fe(l),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(l)}get injector(){return this._r3Injector}destroy(){const l=this._r3Injector;!l.destroyed&&l.destroy(),this.destroyCbs.forEach(c=>c()),this.destroyCbs=null}onDestroy(l){this.destroyCbs.push(l)}}class o_ extends Ji{constructor(l){super(),this.moduleType=l}create(l){return new Mn(this.moduleType,l)}}class OD extends sd{constructor(l,c,d){super(),this.componentFactoryResolver=new AC(this),this.instance=null;const f=new ov([...l,{provide:sd,useValue:this},{provide:Dc,useValue:this.componentFactoryResolver}],c||np(),d,new Set(["environment"]));this.injector=f,f.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(l){this.injector.onDestroy(l)}}function a_(a,l,c=null){return new OD(a,l,c).injector}let PD=(()=>{class a{constructor(c){this._injector=c,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(c){if(!c.standalone)return null;if(!this.cachedInjectors.has(c.id)){const d=H0(0,c.type),f=d.length>0?a_([d],this._injector,`Standalone[${c.type.name}]`):null;this.cachedInjectors.set(c.id,f)}return this.cachedInjectors.get(c.id)}ngOnDestroy(){try{for(const c of this.cachedInjectors.values())null!==c&&c.destroy()}finally{this.cachedInjectors.clear()}}}return a.\u0275prov=ln({token:a,providedIn:"environment",factory:()=>new a(Et(Cc))}),a})();function db(a){a.getStandaloneInjector=l=>l.get(PD).getOrCreateStandaloneInjector(a)}function Pp(a,l,c){const d=qn()+a,f=Me();return f[d]===zt?bl(f,d,c?l.call(c):l()):function $g(a,l){return a[l]}(f,d)}function yb(a,l,c,d){return u_(Me(),qn(),a,l,c,d)}function u_(a,l,c,d,f,m){const v=l+c;return Zr(a,v,f)?bl(a,v+1,m?d.call(m,f):d(f)):function Sl(a,l){const c=a[l];return c===zt?void 0:c}(a,v+1)}function RA(a,l){const c=Kt();let d;const f=a+22;c.firstCreatePass?(d=function PP(a,l){if(l)for(let c=l.length-1;c>=0;c--){const d=l[c];if(a===d.name)return d}}(l,c.pipeRegistry),c.data[f]=d,d.onDestroy&&(c.destroyHooks||(c.destroyHooks=[])).push(f,d.onDestroy)):d=c.data[f];const m=d.factory||(d.factory=rs(d.type)),v=ci($u);try{const C=Ka(!1),E=m();return Ka(C),function yP(a,l,c,d){c>=a.data.length&&(a.data[c]=null,a.blueprint[c]=null),l[c]=d}(c,Me(),f,E),E}finally{ci(v)}}function OA(a,l,c){const d=a+22,f=Me(),m=bs(f,d);return function kh(a,l){return a[1].data[l].pure}(f,d)?u_(f,qn(),l,m.transform,c,m):m.transform(c)}function vb(a){return l=>{setTimeout(a,void 0,l)}}const Aa=class FA extends s.x{constructor(l=!1){super(),this.__isAsync=l}emit(l){super.next(l)}subscribe(l,c,d){let f=l,m=c||(()=>null),v=d;if(l&&"object"==typeof l){const E=l;f=E.next?.bind(E),m=E.error?.bind(E),v=E.complete?.bind(E)}this.__isAsync&&(m=vb(m),f&&(f=vb(f)),v&&(v=vb(v)));const C=super.subscribe({next:f,error:m,complete:v});return l instanceof ee.w0&&l.add(C),C}};function bb(){return this._results[bh()]()}class Vc{constructor(l=!1){this._emitDistinctChangesOnly=l,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const c=bh(),d=Vc.prototype;d[c]||(d[c]=bb)}get changes(){return this._changes||(this._changes=new Aa)}get(l){return this._results[l]}map(l){return this._results.map(l)}filter(l){return this._results.filter(l)}find(l){return this._results.find(l)}reduce(l,c){return this._results.reduce(l,c)}forEach(l){this._results.forEach(l)}some(l){return this._results.some(l)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(l,c){const d=this;d.dirty=!1;const f=yn(l);(this._changesDetected=!function Ze(a,l,c){if(a.length!==l.length)return!1;for(let d=0;d<a.length;d++){let f=a[d],m=l[d];if(c&&(f=c(f),m=c(m)),m!==f)return!1}return!0}(d._results,f,c))&&(d._results=f,d.length=f.length,d.last=f[this.length-1],d.first=f[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Bc=(()=>{class a{}return a.__NG_ELEMENT_ID__=wb,a})();const Rh=Bc,Lp=class extends Rh{constructor(l,c,d){super(),this._declarationLView=l,this._declarationTContainer=c,this.elementRef=d}createEmbeddedView(l,c){const d=this._declarationTContainer.tViews,f=vv(this._declarationLView,d,l,16,null,d.declTNode,null,null,null,null,c||null);f[17]=this._declarationLView[this._declarationTContainer.index];const v=this._declarationLView[19];return null!==v&&(f[19]=v.createEmbeddedView(d)),yC(d,f,l),new jg(f)}};function wb(){return Vp($n(),Me())}function Vp(a,l){return 4&a.type?new Lp(l,a,Ec(a,l)):null}let Oh=(()=>{class a{}return a.__NG_ELEMENT_ID__=$D,a})();function $D(){return Fh($n(),Me())}const h_=Oh,Cb=class extends h_{constructor(l,c,d){super(),this._lContainer=l,this._hostTNode=c,this._hostLView=d}get element(){return Ec(this._hostTNode,this._hostLView)}get injector(){return new xo(this._hostTNode,this._hostLView)}get parentInjector(){const l=oc(this._hostTNode,this._hostLView);if(Ud(l)){const c=Wa(l,this._hostLView),d=Di(l);return new xo(c[1].data[d+8],c)}return new xo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(l){const c=Db(this._lContainer);return null!==c&&c[l]||null}get length(){return this._lContainer.length-10}createEmbeddedView(l,c,d){let f,m;"number"==typeof d?f=d:null!=d&&(f=d.index,m=d.injector);const v=l.createEmbeddedView(c||{},m);return this.insert(v,f),v}createComponent(l,c,d,f,m){const v=l&&!function jr(a){return"function"==typeof a}(l);let C;if(v)C=c;else{const N=c||{};C=N.index,d=N.injector,f=N.projectableNodes,m=N.environmentInjector||N.ngModuleRef}const E=v?l:new Gg(Q(l)),T=d||this.parentInjector;if(!m&&null==E.ngModule){const z=(v?T:this.parentInjector).get(Cc,null);z&&(m=z)}const k=E.create(T,f,void 0,m);return this.insert(k.hostView,C),k}insert(l,c){const d=l._lView,f=d[1];if(function Ul(a){return Yi(a[3])}(d)){const k=this.indexOf(l);if(-1!==k)this.detach(k);else{const N=d[3],z=new Cb(N,N[6],N[3]);z.detach(z.indexOf(l))}}const m=this._adjustIndex(c),v=this._lContainer;!function Ru(a,l,c,d){const f=10+d,m=c.length;d>0&&(c[f-1][4]=l),d<m-10?(l[4]=c[f],nl(c,10+d,l)):(c.push(l),l[4]=null),l[3]=c;const v=l[17];null!==v&&c!==v&&function Wy(a,l){const c=a[9];l[16]!==l[3][3][16]&&(a[2]=!0),null===c?a[9]=[l]:c.push(l)}(v,l);const C=l[19];null!==C&&C.insertView(a),l[2]|=64}(f,d,v,m);const C=Fu(m,v),E=d[11],T=Qi(E,v[7]);return null!==T&&function Jd(a,l,c,d,f,m){d[0]=f,d[6]=l,_a(a,d,c,1,f,m)}(f,v[6],E,d,T,C),l.attachToViewContainerRef(),nl(Ph(v),m,l),l}move(l,c){return this.insert(l,c)}indexOf(l){const c=Db(this._lContainer);return null!==c?c.indexOf(l):-1}remove(l){const c=this._adjustIndex(l,-1),d=Hf(this._lContainer,c);d&&(jn(Ph(this._lContainer),c),ug(d[1],d))}detach(l){const c=this._adjustIndex(l,-1),d=Hf(this._lContainer,c);return d&&null!=jn(Ph(this._lContainer),c)?new jg(d):null}_adjustIndex(l,c=0){return l??this.length+c}};function Db(a){return a[8]}function Ph(a){return a[8]||(a[8]=[])}function Fh(a,l){let c;const d=l[a.index];if(Yi(d))c=d;else{let f;if(8&a.type)f=zn(d);else{const m=l[11];f=m.createComment("");const v=Vi(a,l);Lo(m,Qi(m,v),f,function hl(a,l){return a.nextSibling(l)}(m,v),!1)}l[a.index]=c=EC(d,l,f,a),Cv(l,c)}return new Cb(c,a,l)}class qD{constructor(l){this.queryList=l,this.matches=null}clone(){return new qD(this.queryList)}setDirty(){this.queryList.setDirty()}}class Nh{constructor(l=[]){this.queries=l}createEmbeddedView(l){const c=l.queries;if(null!==c){const d=null!==l.contentQueries?l.contentQueries[0]:c.length,f=[];for(let m=0;m<d;m++){const v=c.getByIndex(m);f.push(this.queries[v.indexInDeclarationView].clone())}return new Nh(f)}return null}insertView(l){this.dirtyQueriesWithMatches(l)}detachView(l){this.dirtyQueriesWithMatches(l)}dirtyQueriesWithMatches(l){for(let c=0;c<this.queries.length;c++)null!==KD(l,c).matches&&this.queries[c].setDirty()}}class Lh{constructor(l,c,d=null){this.predicate=l,this.flags=c,this.read=d}}class Vh{constructor(l=[]){this.queries=l}elementStart(l,c){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(l,c)}elementEnd(l){for(let c=0;c<this.queries.length;c++)this.queries[c].elementEnd(l)}embeddedTView(l){let c=null;for(let d=0;d<this.length;d++){const f=null!==c?c.length:0,m=this.getByIndex(d).embeddedTView(l,f);m&&(m.indexInDeclarationView=d,null!==c?c.push(m):c=[m])}return null!==c?new Vh(c):null}template(l,c){for(let d=0;d<this.queries.length;d++)this.queries[d].template(l,c)}getByIndex(l){return this.queries[l]}get length(){return this.queries.length}track(l){this.queries.push(l)}}class Bh{constructor(l,c=-1){this.metadata=l,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=c}elementStart(l,c){this.isApplyingToNode(c)&&this.matchTNode(l,c)}elementEnd(l){this._declarationNodeIndex===l.index&&(this._appliesToNextNode=!1)}template(l,c){this.elementStart(l,c)}embeddedTView(l,c){return this.isApplyingToNode(l)?(this.crossesNgTemplate=!0,this.addMatch(-l.index,c),new Bh(this.metadata)):null}isApplyingToNode(l){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const c=this._declarationNodeIndex;let d=l.parent;for(;null!==d&&8&d.type&&d.index!==c;)d=d.parent;return c===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(l,c){const d=this.metadata.predicate;if(Array.isArray(d))for(let f=0;f<d.length;f++){const m=d[f];this.matchTNodeWithReadOption(l,c,LA(c,m)),this.matchTNodeWithReadOption(l,c,sa(c,l,m,!1,!1))}else d===Bc?4&c.type&&this.matchTNodeWithReadOption(l,c,-1):this.matchTNodeWithReadOption(l,c,sa(c,l,d,!1,!1))}matchTNodeWithReadOption(l,c,d){if(null!==d){const f=this.metadata.read;if(null!==f)if(f===Hu||f===Oh||f===Bc&&4&c.type)this.addMatch(c.index,-2);else{const m=sa(c,l,f,!1,!1);null!==m&&this.addMatch(c.index,m)}else this.addMatch(c.index,d)}}addMatch(l,c){null===this.matches?this.matches=[l,c]:this.matches.push(l,c)}}function LA(a,l){const c=a.localNames;if(null!==c)for(let d=0;d<c.length;d+=2)if(c[d]===l)return c[d+1];return null}function f_(a,l,c,d){return-1===c?function Eb(a,l){return 11&a.type?Ec(a,l):4&a.type?Vp(a,l):null}(l,a):-2===c?function VA(a,l,c){return c===Hu?Ec(l,a):c===Bc?Vp(l,a):c===Oh?Fh(l,a):void 0}(a,l,d):Ds(a,a[1],c,l)}function ZD(a,l,c,d){const f=l[19].queries[d];if(null===f.matches){const m=a.data,v=c.matches,C=[];for(let E=0;E<v.length;E+=2){const T=v[E];C.push(T<0?null:f_(l,m[T],v[E+1],c.metadata.read))}f.matches=C}return f.matches}function p_(a,l,c,d){const f=a.queries.getByIndex(c),m=f.matches;if(null!==m){const v=ZD(a,l,f,c);for(let C=0;C<m.length;C+=2){const E=m[C];if(E>0)d.push(v[C/2]);else{const T=m[C+1],k=l[-E];for(let N=10;N<k.length;N++){const z=k[N];z[17]===z[3]&&p_(z[1],z,T,d)}if(null!==k[9]){const N=k[9];for(let z=0;z<N.length;z++){const X=N[z];p_(X[1],X,T,d)}}}}}return d}function YD(a){const l=Me(),c=Kt(),d=uu();qa(d+1);const f=KD(c,d);if(a.dirty&&function Bl(a){return 4==(4&a[2])}(l)===(2==(2&f.metadata.flags))){if(null===f.matches)a.reset([]);else{const m=f.crossesNgTemplate?p_(c,l,d,[]):ZD(c,l,f,d);a.reset(m,_M),a.notifyOnChanges()}return!0}return!1}function Sb(a,l,c){const d=Kt();d.firstCreatePass&&(HA(d,new Lh(a,l,c),-1),2==(2&l)&&(d.staticViewQueries=!0)),Ib(d,Me(),l)}function WD(a,l,c,d){const f=Kt();if(f.firstCreatePass){const m=$n();HA(f,new Lh(l,c,d),m.index),function Mb(a,l){const c=a.contentQueries||(a.contentQueries=[]);l!==(c.length?c[c.length-1]:-1)&&c.push(a.queries.length-1,l)}(f,a),2==(2&c)&&(f.staticContentQueries=!0)}Ib(f,Me(),c)}function BA(){return function UA(a,l){return a[19].queries[l].queryList}(Me(),uu())}function Ib(a,l,c){const d=new Vc(4==(4&c));wC(a,l,d,d.destroy),null===l[19]&&(l[19]=new Nh),l[19].queries.push(new qD(d))}function HA(a,l,c){null===a.queries&&(a.queries=new Vh),a.queries.track(new Bh(l,c))}function KD(a,l){return a.queries.getByIndex(l)}function Hp(...a){}const mE=new xn("Application Initializer");let ka=(()=>{class a{constructor(c){this.appInits=c,this.resolve=Hp,this.reject=Hp,this.initialized=!1,this.done=!1,this.donePromise=new Promise((d,f)=>{this.resolve=d,this.reject=f})}runInitializers(){if(this.initialized)return;const c=[],d=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let f=0;f<this.appInits.length;f++){const m=this.appInits[f]();if(xv(m))c.push(m);else if(Ku(m)){const v=new Promise((C,E)=>{m.subscribe({complete:C,error:E})});c.push(v)}}Promise.all(c).then(()=>{d()}).catch(f=>{this.reject(f)}),0===c.length&&d(),this.initialized=!0}}return a.\u0275fac=function(c){return new(c||a)(Et(mE,8))},a.\u0275prov=ln({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();const Fb=new xn("AppId",{providedIn:"root",factory:function gE(){return`${Nb()}${Nb()}${Nb()}`}});function Nb(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Lb=new xn("Platform Initializer"),ex=new xn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Vb=new xn("appBootstrapListener"),_E=new xn("AnimationModuleType");let XP=(()=>{class a{log(c){console.log(c)}warn(c){console.warn(c)}}return a.\u0275fac=function(c){return new(c||a)},a.\u0275prov=ln({token:a,factory:a.\u0275fac,providedIn:"platform"}),a})();const Bb=new xn("LocaleId",{providedIn:"root",factory:()=>S(Bb,Je.Optional|Je.SkipSelf)||function eF(){return typeof $localize<"u"&&$localize.locale||oo}()}),yE=new xn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class nF{constructor(l,c){this.ngModuleFactory=l,this.componentFactories=c}}let iF=(()=>{class a{compileModuleSync(c){return new o_(c)}compileModuleAsync(c){return Promise.resolve(this.compileModuleSync(c))}compileModuleAndAllComponentsSync(c){const d=this.compileModuleSync(c),m=Da(In(c).declarations).reduce((v,C)=>{const E=Q(C);return E&&v.push(new Gg(E)),v},[]);return new nF(d,m)}compileModuleAndAllComponentsAsync(c){return Promise.resolve(this.compileModuleAndAllComponentsSync(c))}clearCache(){}clearCacheFor(c){}getModuleId(c){}}return a.\u0275fac=function(c){return new(c||a)},a.\u0275prov=ln({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();const jo=(()=>Promise.resolve(0))();function bE(a){typeof Zone>"u"?jo.then(()=>{a&&a.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",a)}class Xi{constructor({enableLongStackTrace:l=!1,shouldCoalesceEventChangeDetection:c=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Aa(!1),this.onMicrotaskEmpty=new Aa(!1),this.onStable=new Aa(!1),this.onError=new Aa(!1),typeof Zone>"u")throw new Ce(908,!1);Zone.assertZonePatched();const f=this;if(f._nesting=0,f._outer=f._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const m=Zone.AsyncStackTaggingZoneSpec;f._inner=f._inner.fork(new m("Angular"))}Zone.TaskTrackingZoneSpec&&(f._inner=f._inner.fork(new Zone.TaskTrackingZoneSpec)),l&&Zone.longStackTraceZoneSpec&&(f._inner=f._inner.fork(Zone.longStackTraceZoneSpec)),f.shouldCoalesceEventChangeDetection=!d&&c,f.shouldCoalesceRunChangeDetection=d,f.lastRequestAnimationFrameId=-1,f.nativeRequestAnimationFrame=function sx(){let a=fn.requestAnimationFrame,l=fn.cancelAnimationFrame;if(typeof Zone<"u"&&a&&l){const c=a[Zone.__symbol__("OriginalDelegate")];c&&(a=c);const d=l[Zone.__symbol__("OriginalDelegate")];d&&(l=d)}return{nativeRequestAnimationFrame:a,nativeCancelAnimationFrame:l}}().nativeRequestAnimationFrame,function ox(a){const l=()=>{!function bn(a){a.isCheckStableRunning||-1!==a.lastRequestAnimationFrameId||(a.lastRequestAnimationFrameId=a.nativeRequestAnimationFrame.call(fn,()=>{a.fakeTopEventTask||(a.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{a.lastRequestAnimationFrameId=-1,Go(a),a.isCheckStableRunning=!0,Ra(a),a.isCheckStableRunning=!1},void 0,()=>{},()=>{})),a.fakeTopEventTask.invoke()}),Go(a))}(a)};a._inner=a._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(c,d,f,m,v,C)=>{try{return ht(a),c.invokeTask(f,m,v,C)}finally{(a.shouldCoalesceEventChangeDetection&&"eventTask"===m.type||a.shouldCoalesceRunChangeDetection)&&l(),C_(a)}},onInvoke:(c,d,f,m,v,C,E)=>{try{return ht(a),c.invoke(f,m,v,C,E)}finally{a.shouldCoalesceRunChangeDetection&&l(),C_(a)}},onHasTask:(c,d,f,m)=>{c.hasTask(f,m),d===f&&("microTask"==m.change?(a._hasPendingMicrotasks=m.microTask,Go(a),Ra(a)):"macroTask"==m.change&&(a.hasPendingMacrotasks=m.macroTask))},onHandleError:(c,d,f,m)=>(c.handleError(f,m),a.runOutsideAngular(()=>a.onError.emit(m)),!1)})}(f)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Xi.isInAngularZone())throw new Ce(909,!1)}static assertNotInAngularZone(){if(Xi.isInAngularZone())throw new Ce(909,!1)}run(l,c,d){return this._inner.run(l,c,d)}runTask(l,c,d,f){const m=this._inner,v=m.scheduleEventTask("NgZoneEvent: "+f,l,w_,Hp,Hp);try{return m.runTask(v,c,d)}finally{m.cancelTask(v)}}runGuarded(l,c,d){return this._inner.runGuarded(l,c,d)}runOutsideAngular(l){return this._outer.run(l)}}const w_={};function Ra(a){if(0==a._nesting&&!a.hasPendingMicrotasks&&!a.isStable)try{a._nesting++,a.onMicrotaskEmpty.emit(null)}finally{if(a._nesting--,!a.hasPendingMicrotasks)try{a.runOutsideAngular(()=>a.onStable.emit(null))}finally{a.isStable=!0}}}function Go(a){a.hasPendingMicrotasks=!!(a._hasPendingMicrotasks||(a.shouldCoalesceEventChangeDetection||a.shouldCoalesceRunChangeDetection)&&-1!==a.lastRequestAnimationFrameId)}function ht(a){a._nesting++,a.isStable&&(a.isStable=!1,a.onUnstable.emit(null))}function C_(a){a._nesting--,Ra(a)}class Gt{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Aa,this.onMicrotaskEmpty=new Aa,this.onStable=new Aa,this.onError=new Aa}run(l,c,d){return l.apply(c,d)}runGuarded(l,c,d){return l.apply(c,d)}runOutsideAngular(l){return l()}runTask(l,c,d,f){return l.apply(c,d)}}const jp=new xn(""),Gp=new xn("");let jb,zp=(()=>{class a{constructor(c,d,f){this._ngZone=c,this.registry=d,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,jb||(function Hb(a){jb=a}(f),f.addToWindow(d)),this._watchAngularEvents(),c.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Xi.assertNotInAngularZone(),bE(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())bE(()=>{for(;0!==this._callbacks.length;){let c=this._callbacks.pop();clearTimeout(c.timeoutId),c.doneCb(this._didWork)}this._didWork=!1});else{let c=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(c)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(c=>({source:c.source,creationLocation:c.creationLocation,data:c.data})):[]}addCallback(c,d,f){let m=-1;d&&d>0&&(m=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==m),c(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:c,timeoutId:m,updateCb:f})}whenStable(c,d,f){if(f&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(c,d,f),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(c){this.registry.registerApplication(c,this)}unregisterApplication(c){this.registry.unregisterApplication(c)}findProviders(c,d,f){return[]}}return a.\u0275fac=function(c){return new(c||a)(Et(Xi),Et(wE),Et(Gp))},a.\u0275prov=ln({token:a,factory:a.\u0275fac}),a})(),wE=(()=>{class a{constructor(){this._applications=new Map}registerApplication(c,d){this._applications.set(c,d)}unregisterApplication(c){this._applications.delete(c)}unregisterAllApplications(){this._applications.clear()}getTestability(c){return this._applications.get(c)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(c,d=!0){return jb?.findTestabilityInTree(this,c,d)??null}}return a.\u0275fac=function(c){return new(c||a)},a.\u0275prov=ln({token:a,factory:a.\u0275fac,providedIn:"platform"}),a})(),Uc=null;const CE=new xn("AllowMultipleToken"),er=new xn("PlatformDestroyListeners");class DE{constructor(l,c){this.name=l,this.token=c}}function $p(a,l,c=[]){const d=`Platform: ${l}`,f=new xn(d);return(m=[])=>{let v=co();if(!v||v.injector.get(CE,!1)){const C=[...c,...m,{provide:f,useValue:!0}];a?a(C):function Gb(a){if(Uc&&!Uc.get(CE,!1))throw new Ce(400,!1);Uc=a;const l=a.get(E_);(function _r(a){const l=a.get(Lb,null);l&&l.forEach(c=>c())})(a)}(function D_(a=[],l){return Gu.create({name:l,providers:[{provide:sv,useValue:"platform"},{provide:er,useValue:new Set([()=>Uc=null])},...a]})}(C,d))}return function SE(a){const l=co();if(!l)throw new Ce(401,!1);return l}()}}function co(){return Uc?.get(E_)??null}let E_=(()=>{class a{constructor(c){this._injector=c,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(c,d){const f=function ME(a,l){let c;return c="noop"===a?new Gt:("zone.js"===a?void 0:a)||new Xi(l),c}(d?.ngZone,function IE(a){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!a||!a.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!a||!a.ngZoneRunCoalescing)||!1}}(d)),m=[{provide:Xi,useValue:f}];return f.run(()=>{const v=Gu.create({providers:m,parent:this.injector,name:c.moduleType.name}),C=c.create(v),E=C.injector.get(ju,null);if(!E)throw new Ce(402,!1);return f.runOutsideAngular(()=>{const T=f.onError.subscribe({next:k=>{E.handleError(k)}});C.onDestroy(()=>{qp(this._modules,C),T.unsubscribe()})}),function ld(a,l,c){try{const d=c();return xv(d)?d.catch(f=>{throw l.runOutsideAngular(()=>a.handleError(f)),f}):d}catch(d){throw l.runOutsideAngular(()=>a.handleError(d)),d}}(E,f,()=>{const T=C.injector.get(ka);return T.runInitializers(),T.donePromise.then(()=>(function sA(a){Yt(a,"Expected localeId to be defined"),"string"==typeof a&&(Xv=a.toLowerCase().replace(/_/g,"-"))}(C.injector.get(Bb,oo)||oo),this._moduleDoBootstrap(C),C))})})}bootstrapModule(c,d=[]){const f=$b({},d);return function gr(a,l,c){const d=new o_(c);return Promise.resolve(d)}(0,0,c).then(m=>this.bootstrapModuleFactory(m,f))}_moduleDoBootstrap(c){const d=c.injector.get(jh);if(c._bootstrapComponents.length>0)c._bootstrapComponents.forEach(f=>d.bootstrap(f));else{if(!c.instance.ngDoBootstrap)throw new Ce(403,!1);c.instance.ngDoBootstrap(d)}this._modules.push(c)}onDestroy(c){this._destroyListeners.push(c)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ce(404,!1);this._modules.slice().forEach(d=>d.destroy()),this._destroyListeners.forEach(d=>d());const c=this._injector.get(er,null);c&&(c.forEach(d=>d()),c.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return a.\u0275fac=function(c){return new(c||a)(Et(Gu))},a.\u0275prov=ln({token:a,factory:a.\u0275fac,providedIn:"platform"}),a})();function $b(a,l){return Array.isArray(l)?l.reduce($b,a):{...a,...l}}let jh=(()=>{class a{constructor(c,d,f){this._zone=c,this._injector=d,this._exceptionHandler=f,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const m=new P.y(C=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{C.next(this._stable),C.complete()})}),v=new P.y(C=>{let E;this._zone.runOutsideAngular(()=>{E=this._zone.onStable.subscribe(()=>{Xi.assertNotInAngularZone(),bE(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,C.next(!0))})})});const T=this._zone.onUnstable.subscribe(()=>{Xi.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{C.next(!1)}))});return()=>{E.unsubscribe(),T.unsubscribe()}});this.isStable=(0,oe.T)(m,v.pipe((0,ae.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(c,d){const f=c instanceof pM;if(!this._injector.get(ka).done)throw!f&&nn(c),new Ce(405,false);let v;v=f?c:this._injector.get(Dc).resolveComponentFactory(c),this.componentTypes.push(v.componentType);const C=function ax(a){return a.isBoundToModule}(v)?void 0:this._injector.get(sd),T=v.create(Gu.NULL,[],d||v.selector,C),k=T.location.nativeElement,N=T.injector.get(jp,null);return N?.registerApplication(k),T.onDestroy(()=>{this.detachView(T.hostView),qp(this.components,T),N?.unregisterApplication(k)}),this._loadComponent(T),T}tick(){if(this._runningTick)throw new Ce(101,!1);try{this._runningTick=!0;for(let c of this._views)c.detectChanges()}catch(c){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(c))}finally{this._runningTick=!1}}attachView(c){const d=c;this._views.push(d),d.attachToAppRef(this)}detachView(c){const d=c;qp(this._views,d),d.detachFromAppRef()}_loadComponent(c){this.attachView(c.hostView),this.tick(),this.components.push(c),this._injector.get(Vb,[]).concat(this._bootstrapListeners).forEach(f=>f(c))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(c=>c()),this._views.slice().forEach(c=>c.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(c){return this._destroyListeners.push(c),()=>qp(this._destroyListeners,c)}destroy(){if(this._destroyed)throw new Ce(406,!1);const c=this._injector;c.destroy&&!c.destroyed&&c.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return a.\u0275fac=function(c){return new(c||a)(Et(Xi),Et(Cc),Et(ju))},a.\u0275prov=ln({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();function qp(a,l){const c=a.indexOf(l);c>-1&&a.splice(c,1)}let Zp=!0,S_=!1;function qb(){return S_=!0,Zp}function Zb(){if(S_)throw new Error("Cannot enable prod mode after platform setup.");Zp=!1}let xE=(()=>{class a{}return a.__NG_ELEMENT_ID__=lx,a})();function lx(a){return function Yp(a,l,c){if($s(a)&&!c){const d=en(a.index,l);return new jg(d,d)}return 47&a.type?new jg(l[16],l):null}($n(),Me(),16==(16&a))}class x_{constructor(){}supports(l){return zg(l)}create(l){return new Jb(l)}}const Qb=(a,l)=>l;class Jb{constructor(l){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=l||Qb}forEachItem(l){let c;for(c=this._itHead;null!==c;c=c._next)l(c)}forEachOperation(l){let c=this._itHead,d=this._removalsHead,f=0,m=null;for(;c||d;){const v=!d||c&&c.currentIndex<k_(d,f,m)?c:d,C=k_(v,f,m),E=v.currentIndex;if(v===d)f--,d=d._nextRemoved;else if(c=c._next,null==v.previousIndex)f++;else{m||(m=[]);const T=C-f,k=E-f;if(T!=k){for(let z=0;z<T;z++){const X=z<m.length?m[z]:m[z]=0,ve=X+z;k<=ve&&ve<T&&(m[z]=X+1)}m[v.previousIndex]=k-T}}C!==E&&l(v,C,E)}}forEachPreviousItem(l){let c;for(c=this._previousItHead;null!==c;c=c._nextPrevious)l(c)}forEachAddedItem(l){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)l(c)}forEachMovedItem(l){let c;for(c=this._movesHead;null!==c;c=c._nextMoved)l(c)}forEachRemovedItem(l){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)l(c)}forEachIdentityChange(l){let c;for(c=this._identityChangesHead;null!==c;c=c._nextIdentityChange)l(c)}diff(l){if(null==l&&(l=[]),!zg(l))throw new Ce(900,!1);return this.check(l)?this:null}onDestroy(){}check(l){this._reset();let f,m,v,c=this._itHead,d=!1;if(Array.isArray(l)){this.length=l.length;for(let C=0;C<this.length;C++)m=l[C],v=this._trackByFn(C,m),null!==c&&Object.is(c.trackById,v)?(d&&(c=this._verifyReinsertion(c,m,v,C)),Object.is(c.item,m)||this._addIdentityChange(c,m)):(c=this._mismatch(c,m,v,C),d=!0),c=c._next}else f=0,function pP(a,l){if(Array.isArray(a))for(let c=0;c<a.length;c++)l(a[c]);else{const c=a[bh()]();let d;for(;!(d=c.next()).done;)l(d.value)}}(l,C=>{v=this._trackByFn(f,C),null!==c&&Object.is(c.trackById,v)?(d&&(c=this._verifyReinsertion(c,C,v,f)),Object.is(c.item,C)||this._addIdentityChange(c,C)):(c=this._mismatch(c,C,v,f),d=!0),c=c._next,f++}),this.length=f;return this._truncate(c),this.collection=l,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let l;for(l=this._previousItHead=this._itHead;null!==l;l=l._next)l._nextPrevious=l._next;for(l=this._additionsHead;null!==l;l=l._nextAdded)l.previousIndex=l.currentIndex;for(this._additionsHead=this._additionsTail=null,l=this._movesHead;null!==l;l=l._nextMoved)l.previousIndex=l.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(l,c,d,f){let m;return null===l?m=this._itTail:(m=l._prev,this._remove(l)),null!==(l=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(l.item,c)||this._addIdentityChange(l,c),this._reinsertAfter(l,m,f)):null!==(l=null===this._linkedRecords?null:this._linkedRecords.get(d,f))?(Object.is(l.item,c)||this._addIdentityChange(l,c),this._moveAfter(l,m,f)):l=this._addAfter(new tr(c,d),m,f),l}_verifyReinsertion(l,c,d,f){let m=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==m?l=this._reinsertAfter(m,l._prev,f):l.currentIndex!=f&&(l.currentIndex=f,this._addToMoves(l,f)),l}_truncate(l){for(;null!==l;){const c=l._next;this._addToRemovals(this._unlink(l)),l=c}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(l,c,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(l);const f=l._prevRemoved,m=l._nextRemoved;return null===f?this._removalsHead=m:f._nextRemoved=m,null===m?this._removalsTail=f:m._prevRemoved=f,this._insertAfter(l,c,d),this._addToMoves(l,d),l}_moveAfter(l,c,d){return this._unlink(l),this._insertAfter(l,c,d),this._addToMoves(l,d),l}_addAfter(l,c,d){return this._insertAfter(l,c,d),this._additionsTail=null===this._additionsTail?this._additionsHead=l:this._additionsTail._nextAdded=l,l}_insertAfter(l,c,d){const f=null===c?this._itHead:c._next;return l._next=f,l._prev=c,null===f?this._itTail=l:f._prev=l,null===c?this._itHead=l:c._next=l,null===this._linkedRecords&&(this._linkedRecords=new em),this._linkedRecords.put(l),l.currentIndex=d,l}_remove(l){return this._addToRemovals(this._unlink(l))}_unlink(l){null!==this._linkedRecords&&this._linkedRecords.remove(l);const c=l._prev,d=l._next;return null===c?this._itHead=d:c._next=d,null===d?this._itTail=c:d._prev=c,l}_addToMoves(l,c){return l.previousIndex===c||(this._movesTail=null===this._movesTail?this._movesHead=l:this._movesTail._nextMoved=l),l}_addToRemovals(l){return null===this._unlinkedRecords&&(this._unlinkedRecords=new em),this._unlinkedRecords.put(l),l.currentIndex=null,l._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=l,l._prevRemoved=null):(l._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=l),l}_addIdentityChange(l,c){return l.item=c,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=l:this._identityChangesTail._nextIdentityChange=l,l}}class tr{constructor(l,c){this.item=l,this.trackById=c,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class yr{constructor(){this._head=null,this._tail=null}add(l){null===this._head?(this._head=this._tail=l,l._nextDup=null,l._prevDup=null):(this._tail._nextDup=l,l._prevDup=this._tail,l._nextDup=null,this._tail=l)}get(l,c){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===c||c<=d.currentIndex)&&Object.is(d.trackById,l))return d;return null}remove(l){const c=l._prevDup,d=l._nextDup;return null===c?this._head=d:c._nextDup=d,null===d?this._tail=c:d._prevDup=c,null===this._head}}class em{constructor(){this.map=new Map}put(l){const c=l.trackById;let d=this.map.get(c);d||(d=new yr,this.map.set(c,d)),d.add(l)}get(l,c){const f=this.map.get(l);return f?f.get(l,c):null}remove(l){const c=l.trackById;return this.map.get(c).remove(l)&&this.map.delete(c),l}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function k_(a,l,c){const d=a.previousIndex;if(null===d)return d;let f=0;return c&&d<c.length&&(f=c[d]),d+l+f}class FE{constructor(){}supports(l){return l instanceof Map||RC(l)}create(){return new dx}}class dx{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(l){let c;for(c=this._mapHead;null!==c;c=c._next)l(c)}forEachPreviousItem(l){let c;for(c=this._previousMapHead;null!==c;c=c._nextPrevious)l(c)}forEachChangedItem(l){let c;for(c=this._changesHead;null!==c;c=c._nextChanged)l(c)}forEachAddedItem(l){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)l(c)}forEachRemovedItem(l){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)l(c)}diff(l){if(l){if(!(l instanceof Map||RC(l)))throw new Ce(900,!1)}else l=new Map;return this.check(l)?this:null}onDestroy(){}check(l){this._reset();let c=this._mapHead;if(this._appendAfter=null,this._forEach(l,(d,f)=>{if(c&&c.key===f)this._maybeAddToChanges(c,d),this._appendAfter=c,c=c._next;else{const m=this._getOrCreateRecordForKey(f,d);c=this._insertBeforeOrAppend(c,m)}}),c){c._prev&&(c._prev._next=null),this._removalsHead=c;for(let d=c;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(l,c){if(l){const d=l._prev;return c._next=l,c._prev=d,l._prev=c,d&&(d._next=c),l===this._mapHead&&(this._mapHead=c),this._appendAfter=l,l}return this._appendAfter?(this._appendAfter._next=c,c._prev=this._appendAfter):this._mapHead=c,this._appendAfter=c,null}_getOrCreateRecordForKey(l,c){if(this._records.has(l)){const f=this._records.get(l);this._maybeAddToChanges(f,c);const m=f._prev,v=f._next;return m&&(m._next=v),v&&(v._prev=m),f._next=null,f._prev=null,f}const d=new NE(l);return this._records.set(l,d),d.currentValue=c,this._addToAdditions(d),d}_reset(){if(this.isDirty){let l;for(this._previousMapHead=this._mapHead,l=this._previousMapHead;null!==l;l=l._next)l._nextPrevious=l._next;for(l=this._changesHead;null!==l;l=l._nextChanged)l.previousValue=l.currentValue;for(l=this._additionsHead;null!=l;l=l._nextAdded)l.previousValue=l.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(l,c){Object.is(c,l.currentValue)||(l.previousValue=l.currentValue,l.currentValue=c,this._addToChanges(l))}_addToAdditions(l){null===this._additionsHead?this._additionsHead=this._additionsTail=l:(this._additionsTail._nextAdded=l,this._additionsTail=l)}_addToChanges(l){null===this._changesHead?this._changesHead=this._changesTail=l:(this._changesTail._nextChanged=l,this._changesTail=l)}_forEach(l,c){l instanceof Map?l.forEach(c):Object.keys(l).forEach(d=>c(l[d],d))}}class NE{constructor(l){this.key=l,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function LE(){return new Xb([new x_])}let Xb=(()=>{class a{constructor(c){this.factories=c}static create(c,d){if(null!=d){const f=d.factories.slice();c=c.concat(f)}return new a(c)}static extend(c){return{provide:a,useFactory:d=>a.create(c,d||LE()),deps:[[a,new lt,new Le]]}}find(c){const d=this.factories.find(f=>f.supports(c));if(null!=d)return d;throw new Ce(901,!1)}}return a.\u0275prov=ln({token:a,providedIn:"root",factory:LE}),a})();function R_(){return new ew([new FE])}let ew=(()=>{class a{constructor(c){this.factories=c}static create(c,d){if(d){const f=d.factories.slice();c=c.concat(f)}return new a(c)}static extend(c){return{provide:a,useFactory:d=>a.create(c,d||R_()),deps:[[a,new lt,new Le]]}}find(c){const d=this.factories.find(f=>f.supports(c));if(d)return d;throw new Ce(901,!1)}}return a.\u0275prov=ln({token:a,providedIn:"root",factory:R_}),a})();const iw=$p(null,"core",[]);let rw=(()=>{class a{constructor(c){}}return a.\u0275fac=function(c){return new(c||a)(Et(jh))},a.\u0275mod=$t({type:a}),a.\u0275inj=Ht({}),a})();function BE(a){return"boolean"==typeof a?a:null!=a&&"false"!==a}},3942:(ct,Ie,F)=>{F.d(Ie,{Z:()=>Ce});var s=F(2090),ee=F(4859),P=F(9681),oe=F(1877);class ae{constructor(_e,me){this._delegate=_e,this.firebase=me,(0,P._addComponent)(_e,new ee.wA("app-compat",()=>this,"PUBLIC")),this.container=_e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(_e){this._delegate.automaticDataCollectionEnabled=_e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(_e=>{this._delegate.checkDestroyed(),_e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,P.deleteApp)(this._delegate)))}_getService(_e,me=P._DEFAULT_ENTRY_NAME){var tt;this._delegate.checkDestroyed();const at=this._delegate.container.getProvider(_e);return!at.isInitialized()&&"EXPLICIT"===(null===(tt=at.getComponent())||void 0===tt?void 0:tt.instantiationMode)&&at.initialize(),at.getImmediate({identifier:me})}_removeServiceInstance(_e,me=P._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(_e).clearInstance(me)}_addComponent(_e){(0,P._addComponent)(this._delegate,_e)}_addOrOverwriteComponent(_e){(0,P._addOrOverwriteComponent)(this._delegate,_e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const te=new s.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),H=function pe(){const rt=function fe(rt){const _e={},me={__esModule:!0,initializeApp:function Te(He,U={}){const ge=P.initializeApp(He,U);if((0,s.r3)(_e,ge.name))return _e[ge.name];const Z=new rt(ge,me);return _e[ge.name]=Z,Z},app:at,registerVersion:P.registerVersion,setLogLevel:P.setLogLevel,onLog:P.onLog,apps:null,SDK_VERSION:P.SDK_VERSION,INTERNAL:{registerComponent:function De(He){const U=He.name,ge=U.replace("-compat","");if(P._registerComponent(He)&&"PUBLIC"===He.type){const Z=(J=at())=>{if("function"!=typeof J[ge])throw te.create("invalid-app-argument",{appName:U});return J[ge]()};void 0!==He.serviceProps&&(0,s.ZB)(Z,He.serviceProps),me[ge]=Z,rt.prototype[ge]=function(...J){return this._getService.bind(this,U).apply(this,He.multipleInstances?J:[])}}return"PUBLIC"===He.type?me[ge]:null},removeApp:function tt(He){delete _e[He]},useAsService:function Ue(He,U){return"serverAuth"===U?null:U},modularAPIs:P}};function at(He){if(!(0,s.r3)(_e,He=He||P._DEFAULT_ENTRY_NAME))throw te.create("no-app",{appName:He});return _e[He]}return me.default=me,Object.defineProperty(me,"apps",{get:function be(){return Object.keys(_e).map(He=>_e[He])}}),at.App=rt,me}(ae);return rt.INTERNAL=Object.assign(Object.assign({},rt.INTERNAL),{createFirebaseNamespace:pe,extendNamespace:function _e(me){(0,s.ZB)(rt,me)},createSubscribe:s.ne,ErrorFactory:s.LL,deepExtend:s.ZB}),rt}(),j=new oe.Yd("@firebase/app-compat");if((0,s.jU)()&&void 0!==self.firebase){j.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const rt=self.firebase.SDK_VERSION;rt&&rt.indexOf("LITE")>=0&&j.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ce=H;!function xe(rt){(0,P.registerVersion)("@firebase/app-compat","0.2.0",rt)}()},9681:(ct,Ie,F)=>{F.r(Ie),F.d(Ie,{FirebaseError:()=>oe.ZR,SDK_VERSION:()=>po,_DEFAULT_ENTRY_NAME:()=>Yt,_addComponent:()=>tn,_addOrOverwriteComponent:()=>ln,_apps:()=>gn,_clearComponents:()=>ms,_components:()=>Rn,_getProvider:()=>Ht,_registerComponent:()=>$i,_removeServiceInstance:()=>Dn,deleteApp:()=>La,getApp:()=>wr,getApps:()=>Cr,initializeApp:()=>Lr,onLog:()=>Bs,registerVersion:()=>Fi,setLogLevel:()=>ci});var s=F(5861),ee=F(4859),P=F(1877),oe=F(2090),ae=F(8766);class he{constructor(Se){this.container=Se}getPlatformInfoString(){return this.container.getProviders().map(nt=>{if(function te(it){return"VERSION"===it.getComponent()?.type}(nt)){const kt=nt.getImmediate();return`${kt.library}/${kt.version}`}return null}).filter(nt=>nt).join(" ")}}const fe="@firebase/app",H=new P.Yd("@firebase/app"),Yt="[DEFAULT]",Ke={[fe]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},gn=new Map,Rn=new Map;function tn(it,Se){try{it.container.addComponent(Se)}catch(nt){H.debug(`Component ${Se.name} failed to register with FirebaseApp ${it.name}`,nt)}}function ln(it,Se){it.container.addOrOverwriteComponent(Se)}function $i(it){const Se=it.name;if(Rn.has(Se))return H.debug(`There were multiple attempts to register component ${Se}.`),!1;Rn.set(Se,it);for(const nt of gn.values())tn(nt,it);return!0}function Ht(it,Se){const nt=it.container.getProvider("heartbeat").getImmediate({optional:!0});return nt&&nt.triggerHeartbeat(),it.container.getProvider(Se)}function Dn(it,Se,nt=Yt){Ht(it,Se).clearInstance(nt)}function ms(){Rn.clear()}const qi=new oe.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class ir{constructor(Se,nt,kt){this._isDeleted=!1,this._options=Object.assign({},Se),this._config=Object.assign({},nt),this._name=nt.name,this._automaticDataCollectionEnabled=nt.automaticDataCollectionEnabled,this._container=kt,this.container.addComponent(new ee.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Se){this.checkDestroyed(),this._automaticDataCollectionEnabled=Se}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Se){this._isDeleted=Se}checkDestroyed(){if(this.isDeleted)throw qi.create("app-deleted",{appName:this._name})}}const po="9.15.0";function Lr(it,Se={}){let nt=it;"object"!=typeof Se&&(Se={name:Se});const kt=Object.assign({name:Yt,automaticDataCollectionEnabled:!1},Se),Ft=kt.name;if("string"!=typeof Ft||!Ft)throw qi.create("bad-app-name",{appName:String(Ft)});if(nt||(nt=(0,oe.aH)()),!nt)throw qi.create("no-options");const $t=gn.get(Ft);if($t){if((0,oe.vZ)(nt,$t.options)&&(0,oe.vZ)(kt,$t.config))return $t;throw qi.create("duplicate-app",{appName:Ft})}const G=new ee.H0(Ft);for(const Y of Rn.values())G.addComponent(Y);const V=new ir(nt,kt,G);return gn.set(Ft,V),V}function wr(it=Yt){const Se=gn.get(it);if(!Se&&it===Yt)return Lr();if(!Se)throw qi.create("no-app",{appName:it});return Se}function Cr(){return Array.from(gn.values())}function La(it){return Je.apply(this,arguments)}function Je(){return(Je=(0,s.Z)(function*(it){const Se=it.name;gn.has(Se)&&(gn.delete(Se),yield Promise.all(it.container.getProviders().map(nt=>nt.delete())),it.isDeleted=!0)})).apply(this,arguments)}function Fi(it,Se,nt){var kt;let Ft=null!==(kt=Ke[it])&&void 0!==kt?kt:it;nt&&(Ft+=`-${nt}`);const $t=Ft.match(/\s|\//),G=Se.match(/\s|\//);if($t||G){const V=[`Unable to register library "${Ft}" with version "${Se}":`];return $t&&V.push(`library name "${Ft}" contains illegal characters (whitespace or "/")`),$t&&G&&V.push("and"),G&&V.push(`version name "${Se}" contains illegal characters (whitespace or "/")`),void H.warn(V.join(" "))}$i(new ee.wA(`${Ft}-version`,()=>({library:Ft,version:Se}),"VERSION"))}function Bs(it,Se){if(null!==it&&"function"!=typeof it)throw qi.create("invalid-log-argument");(0,P.Am)(it,Se)}function ci(it){(0,P.Ub)(it)}const Kn="firebase-heartbeat-store";let Xn=null;function Tn(){return Xn||(Xn=(0,ae.X3)("firebase-heartbeat-database",1,{upgrade:(it,Se)=>{0===Se&&it.createObjectStore(Kn)}}).catch(it=>{throw qi.create("idb-open",{originalErrorMessage:it.message})})),Xn}function ut(){return(ut=(0,s.Z)(function*(it){try{return(yield Tn()).transaction(Kn).objectStore(Kn).get(ei(it))}catch(Se){if(Se instanceof oe.ZR)H.warn(Se.message);else{const nt=qi.create("idb-get",{originalErrorMessage:Se?.message});H.warn(nt.message)}}})).apply(this,arguments)}function fn(it,Se){return Ii.apply(this,arguments)}function Ii(){return(Ii=(0,s.Z)(function*(it,Se){try{const kt=(yield Tn()).transaction(Kn,"readwrite");return yield kt.objectStore(Kn).put(Se,ei(it)),kt.done}catch(nt){if(nt instanceof oe.ZR)H.warn(nt.message);else{const kt=qi.create("idb-set",{originalErrorMessage:nt?.message});H.warn(kt.message)}}})).apply(this,arguments)}function ei(it){return`${it.name}!${it.options.appId}`}class Us{constructor(Se){this.container=Se,this._heartbeatsCache=null;const nt=this.container.getProvider("app").getImmediate();this._storage=new un(nt),this._heartbeatsCachePromise=this._storage.read().then(kt=>(this._heartbeatsCache=kt,kt))}triggerHeartbeat(){var Se=this;return(0,s.Z)(function*(){const kt=Se.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Ft=cn();if(null===Se._heartbeatsCache&&(Se._heartbeatsCache=yield Se._heartbeatsCachePromise),Se._heartbeatsCache.lastSentHeartbeatDate!==Ft&&!Se._heartbeatsCache.heartbeats.some($t=>$t.date===Ft))return Se._heartbeatsCache.heartbeats.push({date:Ft,agent:kt}),Se._heartbeatsCache.heartbeats=Se._heartbeatsCache.heartbeats.filter($t=>{const G=new Date($t.date).valueOf();return Date.now()-G<=2592e6}),Se._storage.overwrite(Se._heartbeatsCache)})()}getHeartbeatsHeader(){var Se=this;return(0,s.Z)(function*(){if(null===Se._heartbeatsCache&&(yield Se._heartbeatsCachePromise),null===Se._heartbeatsCache||0===Se._heartbeatsCache.heartbeats.length)return"";const nt=cn(),{heartbeatsToSend:kt,unsentEntries:Ft}=function ns(it,Se=1024){const nt=[];let kt=it.slice();for(const Ft of it){const $t=nt.find(G=>G.agent===Ft.agent);if($t){if($t.dates.push(Ft.date),ui(nt)>Se){$t.dates.pop();break}}else if(nt.push({agent:Ft.agent,dates:[Ft.date]}),ui(nt)>Se){nt.pop();break}kt=kt.slice(1)}return{heartbeatsToSend:nt,unsentEntries:kt}}(Se._heartbeatsCache.heartbeats),$t=(0,oe.L)(JSON.stringify({version:2,heartbeats:kt}));return Se._heartbeatsCache.lastSentHeartbeatDate=nt,Ft.length>0?(Se._heartbeatsCache.heartbeats=Ft,yield Se._storage.overwrite(Se._heartbeatsCache)):(Se._heartbeatsCache.heartbeats=[],Se._storage.overwrite(Se._heartbeatsCache)),$t})()}}function cn(){return(new Date).toISOString().substring(0,10)}class un{constructor(Se){this.app=Se,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,s.Z)(function*(){return!!(0,oe.hl)()&&(0,oe.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Se=this;return(0,s.Z)(function*(){return(yield Se._canUseIndexedDBPromise)&&(yield function wt(it){return ut.apply(this,arguments)}(Se.app))||{heartbeats:[]}})()}overwrite(Se){var nt=this;return(0,s.Z)(function*(){var kt;if(yield nt._canUseIndexedDBPromise){const $t=yield nt.read();return fn(nt.app,{lastSentHeartbeatDate:null!==(kt=Se.lastSentHeartbeatDate)&&void 0!==kt?kt:$t.lastSentHeartbeatDate,heartbeats:Se.heartbeats})}})()}add(Se){var nt=this;return(0,s.Z)(function*(){var kt;if(yield nt._canUseIndexedDBPromise){const $t=yield nt.read();return fn(nt.app,{lastSentHeartbeatDate:null!==(kt=Se.lastSentHeartbeatDate)&&void 0!==kt?kt:$t.lastSentHeartbeatDate,heartbeats:[...$t.heartbeats,...Se.heartbeats]})}})()}}function ui(it){return(0,oe.L)(JSON.stringify({version:2,heartbeats:it})).length}!function Zi(it){$i(new ee.wA("platform-logger",Se=>new he(Se),"PRIVATE")),$i(new ee.wA("heartbeat",Se=>new Us(Se),"PRIVATE")),Fi(fe,"0.9.0",it),Fi(fe,"0.9.0","esm2017"),Fi("fire-js","")}("")},4859:(ct,Ie,F)=>{F.d(Ie,{H0:()=>fe,wA:()=>P});var s=F(5861),ee=F(2090);class P{constructor(H,j,W){this.name=H,this.instanceFactory=j,this.type=W,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(H){return this.instantiationMode=H,this}setMultipleInstances(H){return this.multipleInstances=H,this}setServiceProps(H){return this.serviceProps=H,this}setInstanceCreatedCallback(H){return this.onInstanceCreated=H,this}}const oe="[DEFAULT]";class ae{constructor(H,j){this.name=H,this.container=j,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(H){const j=this.normalizeInstanceIdentifier(H);if(!this.instancesDeferred.has(j)){const W=new ee.BH;if(this.instancesDeferred.set(j,W),this.isInitialized(j)||this.shouldAutoInitialize())try{const Ne=this.getOrInitializeService({instanceIdentifier:j});Ne&&W.resolve(Ne)}catch{}}return this.instancesDeferred.get(j).promise}getImmediate(H){var j;const W=this.normalizeInstanceIdentifier(H?.identifier),Ne=null!==(j=H?.optional)&&void 0!==j&&j;if(!this.isInitialized(W)&&!this.shouldAutoInitialize()){if(Ne)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:W})}catch(xe){if(Ne)return null;throw xe}}getComponent(){return this.component}setComponent(H){if(H.name!==this.name)throw Error(`Mismatching Component ${H.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=H,this.shouldAutoInitialize()){if(function te(pe){return"EAGER"===pe.instantiationMode}(H))try{this.getOrInitializeService({instanceIdentifier:oe})}catch{}for(const[j,W]of this.instancesDeferred.entries()){const Ne=this.normalizeInstanceIdentifier(j);try{const xe=this.getOrInitializeService({instanceIdentifier:Ne});W.resolve(xe)}catch{}}}}clearInstance(H=oe){this.instancesDeferred.delete(H),this.instancesOptions.delete(H),this.instances.delete(H)}delete(){var H=this;return(0,s.Z)(function*(){const j=Array.from(H.instances.values());yield Promise.all([...j.filter(W=>"INTERNAL"in W).map(W=>W.INTERNAL.delete()),...j.filter(W=>"_delete"in W).map(W=>W._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(H=oe){return this.instances.has(H)}getOptions(H=oe){return this.instancesOptions.get(H)||{}}initialize(H={}){const{options:j={}}=H,W=this.normalizeInstanceIdentifier(H.instanceIdentifier);if(this.isInitialized(W))throw Error(`${this.name}(${W}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ne=this.getOrInitializeService({instanceIdentifier:W,options:j});for(const[xe,Ce]of this.instancesDeferred.entries())W===this.normalizeInstanceIdentifier(xe)&&Ce.resolve(Ne);return Ne}onInit(H,j){var W;const Ne=this.normalizeInstanceIdentifier(j),xe=null!==(W=this.onInitCallbacks.get(Ne))&&void 0!==W?W:new Set;xe.add(H),this.onInitCallbacks.set(Ne,xe);const Ce=this.instances.get(Ne);return Ce&&H(Ce,Ne),()=>{xe.delete(H)}}invokeOnInitCallbacks(H,j){const W=this.onInitCallbacks.get(j);if(W)for(const Ne of W)try{Ne(H,j)}catch{}}getOrInitializeService({instanceIdentifier:H,options:j={}}){let W=this.instances.get(H);if(!W&&this.component&&(W=this.component.instanceFactory(this.container,{instanceIdentifier:(pe=H,pe===oe?void 0:pe),options:j}),this.instances.set(H,W),this.instancesOptions.set(H,j),this.invokeOnInitCallbacks(W,H),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,H,W)}catch{}var pe;return W||null}normalizeInstanceIdentifier(H=oe){return this.component?this.component.multipleInstances?H:oe:H}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class fe{constructor(H){this.name=H,this.providers=new Map}addComponent(H){const j=this.getProvider(H.name);if(j.isComponentSet())throw new Error(`Component ${H.name} has already been registered with ${this.name}`);j.setComponent(H)}addOrOverwriteComponent(H){this.getProvider(H.name).isComponentSet()&&this.providers.delete(H.name),this.addComponent(H)}getProvider(H){if(this.providers.has(H))return this.providers.get(H);const j=new ae(H,this);return this.providers.set(H,j),j}getProviders(){return Array.from(this.providers.values())}}},1877:(ct,Ie,F)=>{F.d(Ie,{Am:()=>pe,Ub:()=>fe,Yd:()=>te,in:()=>ee});const s=[];var ee=(()=>{return(H=ee||(ee={}))[H.DEBUG=0]="DEBUG",H[H.VERBOSE=1]="VERBOSE",H[H.INFO=2]="INFO",H[H.WARN=3]="WARN",H[H.ERROR=4]="ERROR",H[H.SILENT=5]="SILENT",ee;var H})();const P={debug:ee.DEBUG,verbose:ee.VERBOSE,info:ee.INFO,warn:ee.WARN,error:ee.ERROR,silent:ee.SILENT},oe=ee.INFO,ae={[ee.DEBUG]:"log",[ee.VERBOSE]:"log",[ee.INFO]:"info",[ee.WARN]:"warn",[ee.ERROR]:"error"},he=(H,j,...W)=>{if(j<H.logLevel)return;const Ne=(new Date).toISOString(),xe=ae[j];if(!xe)throw new Error(`Attempted to log a message with an invalid logType (value: ${j})`);console[xe](`[${Ne}]  ${H.name}:`,...W)};class te{constructor(j){this.name=j,this._logLevel=oe,this._logHandler=he,this._userLogHandler=null,s.push(this)}get logLevel(){return this._logLevel}set logLevel(j){if(!(j in ee))throw new TypeError(`Invalid value "${j}" assigned to \`logLevel\``);this._logLevel=j}setLogLevel(j){this._logLevel="string"==typeof j?P[j]:j}get logHandler(){return this._logHandler}set logHandler(j){if("function"!=typeof j)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=j}get userLogHandler(){return this._userLogHandler}set userLogHandler(j){this._userLogHandler=j}debug(...j){this._userLogHandler&&this._userLogHandler(this,ee.DEBUG,...j),this._logHandler(this,ee.DEBUG,...j)}log(...j){this._userLogHandler&&this._userLogHandler(this,ee.VERBOSE,...j),this._logHandler(this,ee.VERBOSE,...j)}info(...j){this._userLogHandler&&this._userLogHandler(this,ee.INFO,...j),this._logHandler(this,ee.INFO,...j)}warn(...j){this._userLogHandler&&this._userLogHandler(this,ee.WARN,...j),this._logHandler(this,ee.WARN,...j)}error(...j){this._userLogHandler&&this._userLogHandler(this,ee.ERROR,...j),this._logHandler(this,ee.ERROR,...j)}}function fe(H){s.forEach(j=>{j.setLogLevel(H)})}function pe(H,j){for(const W of s){let Ne=null;j&&j.level&&(Ne=P[j.level]),W.userLogHandler=null===H?null:(xe,Ce,...rt)=>{const _e=rt.map(me=>{if(null==me)return null;if("string"==typeof me)return me;if("number"==typeof me||"boolean"==typeof me)return me.toString();if(me instanceof Error)return me.message;try{return JSON.stringify(me)}catch{return null}}).filter(me=>me).join(" ");Ce>=(Ne??xe.logLevel)&&H({level:ee[Ce].toLowerCase(),message:_e,args:rt,type:xe.name})}}}},259:(ct,Ie,F)=>{F.d(Ie,{C6:()=>s.getApps,Mq:()=>s.getApp});var s=F(9681);(0,s.registerVersion)("firebase","9.15.0","app")},9260:(ct,Ie,F)=>{F.d(Ie,{Z:()=>s.Z});var s=F(3942);s.Z.registerVersion("firebase","9.15.0","app-compat")},9169:(ct,Ie,F)=>{F.r(Ie);var s=F(5861),ee=F(3942),P=F(2090),oe=F(9681),ae=F(1877),he=F(655),te=F(4859);const Ce=function Ne(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},rt=function xe(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},_e=new P.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),tt=new ae.Yd("@firebase/auth");function at(y,...p){tt.logLevel<=ae.in.ERROR&&tt.error(`Auth (${oe.SDK_VERSION}): ${y}`,...p)}function Te(y,...p){throw He(y,...p)}function be(y,...p){return He(y,...p)}function De(y,p,g){const w=Object.assign(Object.assign({},rt()),{[p]:g});return new P.LL("auth","Firebase",w).create(p,{appName:y.name})}function Ue(y,p,g){if(!(p instanceof g))throw g.name!==p.constructor.name&&Te(y,"argument-error"),De(y,"argument-error",`Type of ${p.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function He(y,...p){if("string"!=typeof y){const g=p[0],w=[...p.slice(1)];return w[0]&&(w[0].appName=y.name),y._errorFactory.create(g,...w)}return _e.create(y,...p)}function U(y,p,...g){if(!y)throw He(p,...g)}function ge(y){const p="INTERNAL ASSERTION FAILED: "+y;throw at(p),new Error(p)}function Z(y,p){y||ge(p)}const J=new Map;function se(y){Z(y instanceof Function,"Expected a class definition");let p=J.get(y);return p?(Z(p instanceof y,"Instance stored in cache mismatched with class"),p):(p=new y,J.set(y,p),p)}function Re(){var y;return typeof self<"u"&&(null===(y=self.location)||void 0===y?void 0:y.href)||""}function pt(){return"http:"===an()||"https:"===an()}function an(){var y;return typeof self<"u"&&(null===(y=self.location)||void 0===y?void 0:y.protocol)||null}class gn{constructor(p,g){this.shortDelay=p,this.longDelay=g,Z(g>p,"Short delay should be less than long delay!"),this.isMobile=(0,P.uI)()||(0,P.b$)()}get(){return function Yt(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(pt()||(0,P.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Rn(y,p){Z(y.emulator,"Emulator should always be set here");const{url:g}=y.emulator;return p?`${g}${p.startsWith("/")?p.slice(1):p}`:g}class tn{static initialize(p,g,w){this.fetchImpl=p,g&&(this.headersImpl=g),w&&(this.responseImpl=w)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void ge("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void ge("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void ge("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const ln={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},$i=new gn(3e4,6e4);function Ht(y,p){return y.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:y.tenantId}):p}function Dn(y,p,g,w){return ms.apply(this,arguments)}function ms(){return(ms=(0,s.Z)(function*(y,p,g,w,A={}){return Nr(y,A,(0,s.Z)(function*(){let R={},q={};w&&("GET"===p?q=w:R={body:JSON.stringify(w)});const ue=(0,P.xO)(Object.assign({key:y.config.apiKey},q)).slice(1),Be=yield y._getAdditionalHeaders();return Be["Content-Type"]="application/json",y.languageCode&&(Be["X-Firebase-Locale"]=y.languageCode),tn.fetch()(Lr(y,y.config.apiHost,g,ue),Object.assign({method:p,headers:Be,referrerPolicy:"no-referrer"},R))}))})).apply(this,arguments)}function Nr(y,p,g){return qi.apply(this,arguments)}function qi(){return(qi=(0,s.Z)(function*(y,p,g){y._canInitEmulator=!1;const w=Object.assign(Object.assign({},ln),p);try{const A=new wr(y),R=yield Promise.race([g(),A.promise]);A.clearNetworkTimeout();const q=yield R.json();if("needConfirmation"in q)throw Cr(y,"account-exists-with-different-credential",q);if(R.ok&&!("errorMessage"in q))return q;{const ue=R.ok?q.errorMessage:q.error.message,[Be,et]=ue.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Be)throw Cr(y,"credential-already-in-use",q);if("EMAIL_EXISTS"===Be)throw Cr(y,"email-already-in-use",q);if("USER_DISABLED"===Be)throw Cr(y,"user-disabled",q);const It=w[Be]||Be.toLowerCase().replace(/[_\s]+/g,"-");if(et)throw De(y,It,et);Te(y,It)}}catch(A){if(A instanceof P.ZR)throw A;Te(y,"network-request-failed")}})).apply(this,arguments)}function ir(y,p,g,w){return po.apply(this,arguments)}function po(){return(po=(0,s.Z)(function*(y,p,g,w,A={}){const R=yield Dn(y,p,g,w,A);return"mfaPendingCredential"in R&&Te(y,"multi-factor-auth-required",{_serverResponse:R}),R})).apply(this,arguments)}function Lr(y,p,g,w){const A=`${p}${g}?${w}`;return y.config.emulator?Rn(y.config,A):`${y.config.apiScheme}://${A}`}class wr{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((g,w)=>{this.timer=setTimeout(()=>w(be(this.auth,"network-request-failed")),$i.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Cr(y,p,g){const w={appName:y.name};g.email&&(w.email=g.email),g.phoneNumber&&(w.phoneNumber=g.phoneNumber);const A=be(y,p,w);return A.customData._tokenResponse=g,A}function Je(){return(Je=(0,s.Z)(function*(y,p){return Dn(y,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function Fi(y,p){return Bs.apply(this,arguments)}function Bs(){return(Bs=(0,s.Z)(function*(y,p){return Dn(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function ci(y,p){return Dr.apply(this,arguments)}function Dr(){return(Dr=(0,s.Z)(function*(y,p){return Dn(y,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function ts(y){if(y)try{const p=new Date(Number(y));if(!isNaN(p.getTime()))return p.toUTCString()}catch{}}function Tn(){return(Tn=(0,s.Z)(function*(y,p=!1){const g=(0,P.m9)(y),w=yield g.getIdToken(p),A=ut(w);U(A&&A.exp&&A.auth_time&&A.iat,g.auth,"internal-error");const R="object"==typeof A.firebase?A.firebase:void 0,q=R?.sign_in_provider;return{claims:A,token:w,authTime:ts(wt(A.auth_time)),issuedAtTime:ts(wt(A.iat)),expirationTime:ts(wt(A.exp)),signInProvider:q||null,signInSecondFactor:R?.sign_in_second_factor||null}})).apply(this,arguments)}function wt(y){return 1e3*Number(y)}function ut(y){const[p,g,w]=y.split(".");if(void 0===p||void 0===g||void 0===w)return at("JWT malformed, contained fewer than 3 sections"),null;try{const A=(0,P.tV)(g);return A?JSON.parse(A):(at("Failed to decode base64 JWT payload"),null)}catch(A){return at("Caught error parsing JWT payload as JSON",A?.toString()),null}}function Ii(y,p){return ei.apply(this,arguments)}function ei(){return(ei=(0,s.Z)(function*(y,p,g=!1){if(g)return p;try{return yield p}catch(w){throw w instanceof P.ZR&&rr(w)&&y.auth.currentUser===y&&(yield y.auth.signOut()),w}})).apply(this,arguments)}function rr({code:y}){return"auth/user-disabled"===y||"auth/user-token-expired"===y}class Pt{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var g;if(p){const w=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),w}{this.errorBackoff=3e4;const A=(null!==(g=this.user.stsTokenManager.expirationTime)&&void 0!==g?g:0)-Date.now()-3e5;return Math.max(0,A)}}schedule(p=!1){var g=this;if(!this.isRunning)return;const w=this.getInterval(p);this.timerId=setTimeout((0,s.Z)(function*(){yield g.iteration()}),w)}iteration(){var p=this;return(0,s.Z)(function*(){try{yield p.user.getIdToken(!0)}catch(g){return void("auth/network-request-failed"===g?.code&&p.schedule(!0))}p.schedule()})()}}class Us{constructor(p,g){this.createdAt=p,this.lastLoginAt=g,this._initializeTime()}_initializeTime(){this.lastSignInTime=ts(this.lastLoginAt),this.creationTime=ts(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function cn(y){return ns.apply(this,arguments)}function ns(){return(ns=(0,s.Z)(function*(y){var p;const g=y.auth,w=yield y.getIdToken(),A=yield Ii(y,ci(g,{idToken:w}));U(A?.users.length,g,"internal-error");const R=A.users[0];y._notifyReloadListener(R);const q=null!==(p=R.providerUserInfo)&&void 0!==p&&p.length?it(R.providerUserInfo):[],ue=Zi(y.providerData,q),It=!!y.isAnonymous&&!(y.email&&R.passwordHash||ue?.length),yt={uid:R.localId,displayName:R.displayName||null,photoURL:R.photoUrl||null,email:R.email||null,emailVerified:R.emailVerified||!1,phoneNumber:R.phoneNumber||null,tenantId:R.tenantId||null,providerData:ue,metadata:new Us(R.createdAt,R.lastLoginAt),isAnonymous:It};Object.assign(y,yt)})).apply(this,arguments)}function ui(){return(ui=(0,s.Z)(function*(y){const p=(0,P.m9)(y);yield cn(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}function Zi(y,p){return[...y.filter(w=>!p.some(A=>A.providerId===w.providerId)),...p]}function it(y){return y.map(p=>{var{providerId:g}=p,w=(0,he._T)(p,["providerId"]);return{providerId:g,uid:w.rawId||"",displayName:w.displayName||null,email:w.email||null,phoneNumber:w.phoneNumber||null,photoURL:w.photoUrl||null}})}function nt(){return(nt=(0,s.Z)(function*(y,p){const g=yield Nr(y,{},(0,s.Z)(function*(){const w=(0,P.xO)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:A,apiKey:R}=y.config,q=Lr(y,A,"/v1/token",`key=${R}`),ue=yield y._getAdditionalHeaders();return ue["Content-Type"]="application/x-www-form-urlencoded",tn.fetch()(q,{method:"POST",headers:ue,body:w})}));return{accessToken:g.access_token,expiresIn:g.expires_in,refreshToken:g.refresh_token}})).apply(this,arguments)}class kt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){U(p.idToken,"internal-error"),U(typeof p.idToken<"u","internal-error"),U(typeof p.refreshToken<"u","internal-error");const g="expiresIn"in p&&typeof p.expiresIn<"u"?Number(p.expiresIn):function fn(y){const p=ut(y);return U(p,"internal-error"),U(typeof p.exp<"u","internal-error"),U(typeof p.iat<"u","internal-error"),Number(p.exp)-Number(p.iat)}(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,g)}getToken(p,g=!1){var w=this;return(0,s.Z)(function*(){return U(!w.accessToken||w.refreshToken,p,"user-token-expired"),g||!w.accessToken||w.isExpired?w.refreshToken?(yield w.refresh(p,w.refreshToken),w.accessToken):null:w.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(p,g){var w=this;return(0,s.Z)(function*(){const{accessToken:A,refreshToken:R,expiresIn:q}=yield function Se(y,p){return nt.apply(this,arguments)}(p,g);w.updateTokensAndExpiration(A,R,Number(q))})()}updateTokensAndExpiration(p,g,w){this.refreshToken=g||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*w}static fromJSON(p,g){const{refreshToken:w,accessToken:A,expirationTime:R}=g,q=new kt;return w&&(U("string"==typeof w,"internal-error",{appName:p}),q.refreshToken=w),A&&(U("string"==typeof A,"internal-error",{appName:p}),q.accessToken=A),R&&(U("number"==typeof R,"internal-error",{appName:p}),q.expirationTime=R),q}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new kt,this.toJSON())}_performRefresh(){return ge("not implemented")}}function Ft(y,p){U("string"==typeof y||typeof y>"u","internal-error",{appName:p})}class $t{constructor(p){var{uid:g,auth:w,stsTokenManager:A}=p,R=(0,he._T)(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Pt(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=g,this.auth=w,this.stsTokenManager=A,this.accessToken=A.accessToken,this.displayName=R.displayName||null,this.email=R.email||null,this.emailVerified=R.emailVerified||!1,this.phoneNumber=R.phoneNumber||null,this.photoURL=R.photoURL||null,this.isAnonymous=R.isAnonymous||!1,this.tenantId=R.tenantId||null,this.providerData=R.providerData?[...R.providerData]:[],this.metadata=new Us(R.createdAt||void 0,R.lastLoginAt||void 0)}getIdToken(p){var g=this;return(0,s.Z)(function*(){const w=yield Ii(g,g.stsTokenManager.getToken(g.auth,p));return U(w,g.auth,"internal-error"),g.accessToken!==w&&(g.accessToken=w,yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)),w})()}getIdTokenResult(p){return function Xn(y){return Tn.apply(this,arguments)}(this,p)}reload(){return function un(y){return ui.apply(this,arguments)}(this)}_assign(p){this!==p&&(U(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(g=>Object.assign({},g)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){return new $t(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(p){U(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p,g=!1){var w=this;return(0,s.Z)(function*(){let A=!1;p.idToken&&p.idToken!==w.stsTokenManager.accessToken&&(w.stsTokenManager.updateFromServerResponse(p),A=!0),g&&(yield cn(w)),yield w.auth._persistUserIfCurrent(w),A&&w.auth._notifyListenersIfCurrent(w)})()}delete(){var p=this;return(0,s.Z)(function*(){const g=yield p.getIdToken();return yield Ii(p,function La(y,p){return Je.apply(this,arguments)}(p.auth,{idToken:g})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,g){var w,A,R,q,ue,Be,et,It;const yt=null!==(w=g.displayName)&&void 0!==w?w:void 0,vn=null!==(A=g.email)&&void 0!==A?A:void 0,mi=null!==(R=g.phoneNumber)&&void 0!==R?R:void 0,$r=null!==(q=g.photoURL)&&void 0!==q?q:void 0,fg=null!==(ue=g.tenantId)&&void 0!==ue?ue:void 0,Wf=null!==(Be=g._redirectEventId)&&void 0!==Be?Be:void 0,Kf=null!==(et=g.createdAt)&&void 0!==et?et:void 0,Bu=null!==(It=g.lastLoginAt)&&void 0!==It?It:void 0,{uid:Qf,emailVerified:pg,isAnonymous:wa,providerData:fl,stsTokenManager:mg}=g;U(Qf&&mg,p,"internal-error");const Jy=kt.fromJSON(this.name,mg);U("string"==typeof Qf,p,"internal-error"),Ft(yt,p.name),Ft(vn,p.name),U("boolean"==typeof pg,p,"internal-error"),U("boolean"==typeof wa,p,"internal-error"),Ft(mi,p.name),Ft($r,p.name),Ft(fg,p.name),Ft(Wf,p.name),Ft(Kf,p.name),Ft(Bu,p.name);const pl=new $t({uid:Qf,auth:p,email:vn,emailVerified:pg,displayName:yt,isAnonymous:wa,photoURL:$r,phoneNumber:mi,tenantId:fg,stsTokenManager:Jy,createdAt:Kf,lastLoginAt:Bu});return fl&&Array.isArray(fl)&&(pl.providerData=fl.map(Ca=>Object.assign({},Ca))),Wf&&(pl._redirectEventId=Wf),pl}static _fromIdTokenResponse(p,g,w=!1){return(0,s.Z)(function*(){const A=new kt;A.updateFromServerResponse(g);const R=new $t({uid:g.localId,auth:p,stsTokenManager:A,isAnonymous:w});return yield cn(R),R})()}}const V=(()=>{class y{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,s.Z)(function*(){return!0})()}_set(g,w){var A=this;return(0,s.Z)(function*(){A.storage[g]=w})()}_get(g){var w=this;return(0,s.Z)(function*(){const A=w.storage[g];return void 0===A?null:A})()}_remove(g){var w=this;return(0,s.Z)(function*(){delete w.storage[g]})()}_addListener(g,w){}_removeListener(g,w){}}return y.type="NONE",y})();function Y(y,p,g){return`firebase:${y}:${p}:${g}`}class we{constructor(p,g,w){this.persistence=p,this.auth=g,this.userKey=w;const{config:A,name:R}=this.auth;this.fullUserKey=Y(this.userKey,A.apiKey,R),this.fullPersistenceKey=Y("persistence",A.apiKey,R),this.boundEventHandler=g._onStorageEvent.bind(g),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(p){return this.persistence._set(this.fullUserKey,p.toJSON())}getCurrentUser(){var p=this;return(0,s.Z)(function*(){const g=yield p.persistence._get(p.fullUserKey);return g?$t._fromJSON(p.auth,g):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(p){var g=this;return(0,s.Z)(function*(){if(g.persistence===p)return;const w=yield g.getCurrentUser();return yield g.removeCurrentUser(),g.persistence=p,w?g.setCurrentUser(w):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(p,g,w="authUser"){return(0,s.Z)(function*(){if(!g.length)return new we(se(V),p,w);const A=(yield Promise.all(g.map(function(){var et=(0,s.Z)(function*(It){if(yield It._isAvailable())return It});return function(It){return et.apply(this,arguments)}}()))).filter(et=>et);let R=A[0]||se(V);const q=Y(w,p.config.apiKey,p.name);let ue=null;for(const et of g)try{const It=yield et._get(q);if(It){const yt=$t._fromJSON(p,It);et!==R&&(ue=yt),R=et;break}}catch{}const Be=A.filter(et=>et._shouldAllowMigration);return R._shouldAllowMigration&&Be.length?(R=Be[0],ue&&(yield R._set(q,ue.toJSON())),yield Promise.all(g.map(function(){var et=(0,s.Z)(function*(It){if(It!==R)try{yield It._remove(q)}catch{}});return function(It){return et.apply(this,arguments)}}())),new we(R,p,w)):new we(R,p,w)})()}}function Q(y){const p=y.toLowerCase();if(p.includes("opera/")||p.includes("opr/")||p.includes("opios/"))return"Opera";if(In(p))return"IEMobile";if(p.includes("msie")||p.includes("trident/"))return"IE";if(p.includes("edge/"))return"Edge";if($e(p))return"Firefox";if(p.includes("silk/"))return"Silk";if(Ve(p))return"Blackberry";if(je(p))return"Webos";if(mt(p))return"Safari";if((p.includes("chrome/")||nn(p))&&!p.includes("edge/"))return"Chrome";if(Xt(p))return"Android";{const w=y.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===w?.length)return w[1]}return"Other"}function $e(y=(0,P.z$)()){return/firefox\//i.test(y)}function mt(y=(0,P.z$)()){const p=y.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function nn(y=(0,P.z$)()){return/crios\//i.test(y)}function In(y=(0,P.z$)()){return/iemobile/i.test(y)}function Xt(y=(0,P.z$)()){return/android/i.test(y)}function Ve(y=(0,P.z$)()){return/blackberry/i.test(y)}function je(y=(0,P.z$)()){return/webos/i.test(y)}function qt(y=(0,P.z$)()){return/iphone|ipad|ipod/i.test(y)||/macintosh/i.test(y)&&/mobile/i.test(y)}function mo(y=(0,P.z$)()){return qt(y)||Xt(y)||je(y)||Ve(y)||/windows phone/i.test(y)||In(y)}function Hs(y,p=[]){let g;switch(y){case"Browser":g=Q((0,P.z$)());break;case"Worker":g=`${Q((0,P.z$)())}-${y}`;break;default:g=y}const w=p.length?p.join(","):"FirebaseCore-web";return`${g}/JsCore/${oe.SDK_VERSION}/${w}`}class Jo{constructor(p){this.auth=p,this.queue=[]}pushCallback(p,g){const w=R=>new Promise((q,ue)=>{try{q(p(R))}catch(Be){ue(Be)}});w.onAbort=g,this.queue.push(w);const A=this.queue.length-1;return()=>{this.queue[A]=()=>Promise.resolve()}}runMiddleware(p){var g=this;return(0,s.Z)(function*(){if(g.auth.currentUser===p)return;const w=[];try{for(const A of g.queue)yield A(p),A.onAbort&&w.push(A.onAbort)}catch(A){w.reverse();for(const R of w)try{R()}catch{}throw g.auth._errorFactory.create("login-blocked",{originalMessage:A?.message})}})()}}class jt{constructor(p,g,w){this.app=p,this.heartbeatServiceProvider=g,this.config=w,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new go(this),this.idTokenSubscription=new go(this),this.beforeStateQueue=new Jo(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=_e,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=p.name,this.clientVersion=w.sdkClientVersion}_initializeWithPersistence(p,g){var w=this;return g&&(this._popupRedirectResolver=se(g)),this._initializationPromise=this.queue((0,s.Z)(function*(){var A,R;if(!w._deleted&&(w.persistenceManager=yield we.create(w,p),!w._deleted)){if(null!==(A=w._popupRedirectResolver)&&void 0!==A&&A._shouldInitProactively)try{yield w._popupRedirectResolver._initialize(w)}catch{}yield w.initializeCurrentUser(g),w.lastNotifiedUid=(null===(R=w.currentUser)||void 0===R?void 0:R.uid)||null,!w._deleted&&(w._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var p=this;return(0,s.Z)(function*(){if(p._deleted)return;const g=yield p.assertedPersistence.getCurrentUser();if(p.currentUser||g){if(p.currentUser&&g&&p.currentUser.uid===g.uid)return p._currentUser._assign(g),void(yield p.currentUser.getIdToken());yield p._updateCurrentUser(g,!0)}})()}initializeCurrentUser(p){var g=this;return(0,s.Z)(function*(){var w;const A=yield g.assertedPersistence.getCurrentUser();let R=A,q=!1;if(p&&g.config.authDomain){yield g.getOrInitRedirectPersistenceManager();const ue=null===(w=g.redirectUser)||void 0===w?void 0:w._redirectEventId,Be=R?._redirectEventId,et=yield g.tryRedirectSignIn(p);(!ue||ue===Be)&&et?.user&&(R=et.user,q=!0)}if(!R)return g.directlySetCurrentUser(null);if(!R._redirectEventId){if(q)try{yield g.beforeStateQueue.runMiddleware(R)}catch(ue){R=A,g._popupRedirectResolver._overrideRedirectResult(g,()=>Promise.reject(ue))}return R?g.reloadAndSetCurrentUserOrClear(R):g.directlySetCurrentUser(null)}return U(g._popupRedirectResolver,g,"argument-error"),yield g.getOrInitRedirectPersistenceManager(),g.redirectUser&&g.redirectUser._redirectEventId===R._redirectEventId?g.directlySetCurrentUser(R):g.reloadAndSetCurrentUserOrClear(R)})()}tryRedirectSignIn(p){var g=this;return(0,s.Z)(function*(){let w=null;try{w=yield g._popupRedirectResolver._completeRedirectFn(g,p,!0)}catch{yield g._setRedirectUser(null)}return w})()}reloadAndSetCurrentUserOrClear(p){var g=this;return(0,s.Z)(function*(){try{yield cn(p)}catch(w){if("auth/network-request-failed"!==w?.code)return g.directlySetCurrentUser(null)}return g.directlySetCurrentUser(p)})()}useDeviceLanguage(){this.languageCode=function Ke(){if(typeof navigator>"u")return null;const y=navigator;return y.languages&&y.languages[0]||y.language||null}()}_delete(){var p=this;return(0,s.Z)(function*(){p._deleted=!0})()}updateCurrentUser(p){var g=this;return(0,s.Z)(function*(){const w=p?(0,P.m9)(p):null;return w&&U(w.auth.config.apiKey===g.config.apiKey,g,"invalid-user-token"),g._updateCurrentUser(w&&w._clone(g))})()}_updateCurrentUser(p,g=!1){var w=this;return(0,s.Z)(function*(){if(!w._deleted)return p&&U(w.tenantId===p.tenantId,w,"tenant-id-mismatch"),g||(yield w.beforeStateQueue.runMiddleware(p)),w.queue((0,s.Z)(function*(){yield w.directlySetCurrentUser(p),w.notifyAuthListeners()}))})()}signOut(){var p=this;return(0,s.Z)(function*(){return yield p.beforeStateQueue.runMiddleware(null),(p.redirectPersistenceManager||p._popupRedirectResolver)&&(yield p._setRedirectUser(null)),p._updateCurrentUser(null,!0)})()}setPersistence(p){var g=this;return this.queue((0,s.Z)(function*(){yield g.assertedPersistence.setPersistence(se(p))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(p){this._errorFactory=new P.LL("auth","Firebase",p())}onAuthStateChanged(p,g,w){return this.registerStateListener(this.authStateSubscription,p,g,w)}beforeAuthStateChanged(p,g){return this.beforeStateQueue.pushCallback(p,g)}onIdTokenChanged(p,g,w){return this.registerStateListener(this.idTokenSubscription,p,g,w)}toJSON(){var p;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(p=this._currentUser)||void 0===p?void 0:p.toJSON()}}_setRedirectUser(p,g){var w=this;return(0,s.Z)(function*(){const A=yield w.getOrInitRedirectPersistenceManager(g);return null===p?A.removeCurrentUser():A.setCurrentUser(p)})()}getOrInitRedirectPersistenceManager(p){var g=this;return(0,s.Z)(function*(){if(!g.redirectPersistenceManager){const w=p&&se(p)||g._popupRedirectResolver;U(w,g,"argument-error"),g.redirectPersistenceManager=yield we.create(g,[se(w._redirectPersistence)],"redirectUser"),g.redirectUser=yield g.redirectPersistenceManager.getCurrentUser()}return g.redirectPersistenceManager})()}_redirectUserForId(p){var g=this;return(0,s.Z)(function*(){var w,A;return g._isInitialized&&(yield g.queue((0,s.Z)(function*(){}))),(null===(w=g._currentUser)||void 0===w?void 0:w._redirectEventId)===p?g._currentUser:(null===(A=g.redirectUser)||void 0===A?void 0:A._redirectEventId)===p?g.redirectUser:null})()}_persistUserIfCurrent(p){var g=this;return(0,s.Z)(function*(){if(p===g.currentUser)return g.queue((0,s.Z)(function*(){return g.directlySetCurrentUser(p)}))})()}_notifyListenersIfCurrent(p){p===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var p,g;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const w=null!==(g=null===(p=this.currentUser)||void 0===p?void 0:p.uid)&&void 0!==g?g:null;this.lastNotifiedUid!==w&&(this.lastNotifiedUid=w,this.authStateSubscription.next(this.currentUser))}registerStateListener(p,g,w,A){if(this._deleted)return()=>{};const R="function"==typeof g?g:g.next.bind(g),q=this._isInitialized?Promise.resolve():this._initializationPromise;return U(q,this,"internal-error"),q.then(()=>R(this.currentUser)),"function"==typeof g?p.addObserver(g,w,A):p.addObserver(g)}directlySetCurrentUser(p){var g=this;return(0,s.Z)(function*(){g.currentUser&&g.currentUser!==p&&g._currentUser._stopProactiveRefresh(),p&&g.isProactiveRefreshEnabled&&p._startProactiveRefresh(),g.currentUser=p,p?yield g.assertedPersistence.setCurrentUser(p):yield g.assertedPersistence.removeCurrentUser()})()}queue(p){return this.operations=this.operations.then(p,p),this.operations}get assertedPersistence(){return U(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(p){!p||this.frameworks.includes(p)||(this.frameworks.push(p),this.frameworks.sort(),this.clientVersion=Hs(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var p=this;return(0,s.Z)(function*(){var g;const w={"X-Client-Version":p.clientVersion};p.app.options.appId&&(w["X-Firebase-gmpid"]=p.app.options.appId);const A=yield null===(g=p.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getHeartbeatsHeader();return A&&(w["X-Firebase-Client"]=A),w})()}}function Fn(y){return(0,P.m9)(y)}class go{constructor(p){this.auth=p,this.observer=null,this.addObserver=(0,P.ne)(g=>this.observer=g)}get next(){return U(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function is(y){const p=y.indexOf(":");return p<0?"":y.substr(0,p+1)}function js(y){if(!y)return null;const p=Number(y);return isNaN(p)?null:p}class Mi{constructor(p,g){this.providerId=p,this.signInMethod=g}toJSON(){return ge("not implemented")}_getIdTokenResponse(p){return ge("not implemented")}_linkToIdToken(p,g){return ge("not implemented")}_getReauthenticationResolver(p){return ge("not implemented")}}function ni(y,p){return Rl.apply(this,arguments)}function Rl(){return(Rl=(0,s.Z)(function*(y,p){return Dn(y,"POST","/v1/accounts:resetPassword",Ht(y,p))})).apply(this,arguments)}function rn(y,p){return Kc.apply(this,arguments)}function Kc(){return(Kc=(0,s.Z)(function*(y,p){return Dn(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Qc(y,p){return _o.apply(this,arguments)}function _o(){return(_o=(0,s.Z)(function*(y,p){return Dn(y,"POST","/v1/accounts:update",Ht(y,p))})).apply(this,arguments)}function Vr(){return(Vr=(0,s.Z)(function*(y,p){return ir(y,"POST","/v1/accounts:signInWithPassword",Ht(y,p))})).apply(this,arguments)}function zs(y,p){return Br.apply(this,arguments)}function Br(){return(Br=(0,s.Z)(function*(y,p){return Dn(y,"POST","/v1/accounts:sendOobCode",Ht(y,p))})).apply(this,arguments)}function sn(y,p){return Jc.apply(this,arguments)}function Jc(){return(Jc=(0,s.Z)(function*(y,p){return zs(y,p)})).apply(this,arguments)}function Ci(y,p){return Yi.apply(this,arguments)}function Yi(){return(Yi=(0,s.Z)(function*(y,p){return zs(y,p)})).apply(this,arguments)}function yo(y,p){return $s.apply(this,arguments)}function $s(){return($s=(0,s.Z)(function*(y,p){return zs(y,p)})).apply(this,arguments)}function Ol(y,p){return Ni.apply(this,arguments)}function Ni(){return(Ni=(0,s.Z)(function*(y,p){return zs(y,p)})).apply(this,arguments)}function Id(){return(Id=(0,s.Z)(function*(y,p){return ir(y,"POST","/v1/accounts:signInWithEmailLink",Ht(y,p))})).apply(this,arguments)}function Xc(){return(Xc=(0,s.Z)(function*(y,p){return ir(y,"POST","/v1/accounts:signInWithEmailLink",Ht(y,p))})).apply(this,arguments)}class eu extends Mi{constructor(p,g,w,A=null){super("password",w),this._email=p,this._password=g,this._tenantId=A}static _fromEmailAndPassword(p,g){return new eu(p,g,"password")}static _fromEmailAndCode(p,g,w=null){return new eu(p,g,"emailLink",w)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p;if(g?.email&&g?.password){if("password"===g.signInMethod)return this._fromEmailAndPassword(g.email,g.password);if("emailLink"===g.signInMethod)return this._fromEmailAndCode(g.email,g.password,g.tenantId)}return null}_getIdTokenResponse(p){var g=this;return(0,s.Z)(function*(){switch(g.signInMethod){case"password":return function Va(y,p){return Vr.apply(this,arguments)}(p,{returnSecureToken:!0,email:g._email,password:g._password});case"emailLink":return function bf(y,p){return Id.apply(this,arguments)}(p,{email:g._email,oobCode:g._password});default:Te(p,"internal-error")}})()}_linkToIdToken(p,g){var w=this;return(0,s.Z)(function*(){switch(w.signInMethod){case"password":return rn(p,{idToken:g,returnSecureToken:!0,email:w._email,password:w._password});case"emailLink":return function wf(y,p){return Xc.apply(this,arguments)}(p,{idToken:g,email:w._email,oobCode:w._password});default:Te(p,"internal-error")}})()}_getReauthenticationResolver(p){return this._getIdTokenResponse(p)}}function hi(y,p){return Md.apply(this,arguments)}function Md(){return(Md=(0,s.Z)(function*(y,p){return ir(y,"POST","/v1/accounts:signInWithIdp",Ht(y,p))})).apply(this,arguments)}class gs extends Mi{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(p){const g=new gs(p.providerId,p.signInMethod);return p.idToken||p.accessToken?(p.idToken&&(g.idToken=p.idToken),p.accessToken&&(g.accessToken=p.accessToken),p.nonce&&!p.pendingToken&&(g.nonce=p.nonce),p.pendingToken&&(g.pendingToken=p.pendingToken)):p.oauthToken&&p.oauthTokenSecret?(g.accessToken=p.oauthToken,g.secret=p.oauthTokenSecret):Te("argument-error"),g}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p,{providerId:w,signInMethod:A}=g,R=(0,he._T)(g,["providerId","signInMethod"]);if(!w||!A)return null;const q=new gs(w,A);return q.idToken=R.idToken||void 0,q.accessToken=R.accessToken||void 0,q.secret=R.secret,q.nonce=R.nonce,q.pendingToken=R.pendingToken||null,q}_getIdTokenResponse(p){return hi(p,this.buildRequest())}_linkToIdToken(p,g){const w=this.buildRequest();return w.idToken=g,hi(p,w)}_getReauthenticationResolver(p){const g=this.buildRequest();return g.autoCreate=!1,hi(p,g)}buildRequest(){const p={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)p.pendingToken=this.pendingToken;else{const g={};this.idToken&&(g.id_token=this.idToken),this.accessToken&&(g.access_token=this.accessToken),this.secret&&(g.oauth_token_secret=this.secret),g.providerId=this.providerId,this.nonce&&!this.pendingToken&&(g.nonce=this.nonce),p.postBody=(0,P.xO)(g)}return p}}function Hm(y,p){return Pl.apply(this,arguments)}function Pl(){return(Pl=(0,s.Z)(function*(y,p){return Dn(y,"POST","/v1/accounts:sendVerificationCode",Ht(y,p))})).apply(this,arguments)}function qs(){return(qs=(0,s.Z)(function*(y,p){return ir(y,"POST","/v1/accounts:signInWithPhoneNumber",Ht(y,p))})).apply(this,arguments)}function Td(){return(Td=(0,s.Z)(function*(y,p){const g=yield ir(y,"POST","/v1/accounts:signInWithPhoneNumber",Ht(y,p));if(g.temporaryProof)throw Cr(y,"account-exists-with-different-credential",g);return g})).apply(this,arguments)}const Gm={USER_NOT_FOUND:"user-not-found"};function Ad(){return(Ad=(0,s.Z)(function*(y,p){return ir(y,"POST","/v1/accounts:signInWithPhoneNumber",Ht(y,Object.assign(Object.assign({},p),{operation:"REAUTH"})),Gm)})).apply(this,arguments)}class Zs extends Mi{constructor(p){super("phone","phone"),this.params=p}static _fromVerification(p,g){return new Zs({verificationId:p,verificationCode:g})}static _fromTokenResponse(p,g){return new Zs({phoneNumber:p,temporaryProof:g})}_getIdTokenResponse(p){return function tu(y,p){return qs.apply(this,arguments)}(p,this._makeVerificationRequest())}_linkToIdToken(p,g){return function jm(y,p){return Td.apply(this,arguments)}(p,Object.assign({idToken:g},this._makeVerificationRequest()))}_getReauthenticationResolver(p){return function Cf(y,p){return Ad.apply(this,arguments)}(p,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:p,phoneNumber:g,verificationId:w,verificationCode:A}=this.params;return p&&g?{temporaryProof:p,phoneNumber:g}:{sessionInfo:w,code:A}}toJSON(){const p={providerId:this.providerId};return this.params.phoneNumber&&(p.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(p.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(p.verificationCode=this.params.verificationCode),this.params.verificationId&&(p.verificationId=this.params.verificationId),p}static fromJSON(p){"string"==typeof p&&(p=JSON.parse(p));const{verificationId:g,verificationCode:w,phoneNumber:A,temporaryProof:R}=p;return w||g||A||R?new Zs({verificationId:g,verificationCode:w,phoneNumber:A,temporaryProof:R}):null}}class Fl{constructor(p){var g,w,A,R,q,ue;const Be=(0,P.zd)((0,P.pd)(p)),et=null!==(g=Be.apiKey)&&void 0!==g?g:null,It=null!==(w=Be.oobCode)&&void 0!==w?w:null,yt=function xd(y){switch(y){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(A=Be.mode)&&void 0!==A?A:null);U(et&&It&&yt,"argument-error"),this.apiKey=et,this.operation=yt,this.code=It,this.continueUrl=null!==(R=Be.continueUrl)&&void 0!==R?R:null,this.languageCode=null!==(q=Be.languageCode)&&void 0!==q?q:null,this.tenantId=null!==(ue=Be.tenantId)&&void 0!==ue?ue:null}static parseLink(p){const g=function kd(y){const p=(0,P.zd)((0,P.pd)(y)).link,g=p?(0,P.zd)((0,P.pd)(p)).deep_link_id:null,w=(0,P.zd)((0,P.pd)(y)).deep_link_id;return(w?(0,P.zd)((0,P.pd)(w)).link:null)||w||g||p||y}(p);try{return new Fl(g)}catch{return null}}}let rs=(()=>{class y{constructor(){this.providerId=y.PROVIDER_ID}static credential(g,w){return eu._fromEmailAndPassword(g,w)}static credentialWithLink(g,w){const A=Fl.parseLink(w);return U(A,"argument-error"),eu._fromEmailAndCode(g,A.code,A.tenantId)}}return y.PROVIDER_ID="password",y.EMAIL_PASSWORD_SIGN_IN_METHOD="password",y.EMAIL_LINK_SIGN_IN_METHOD="emailLink",y})();class _s{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class ys extends _s{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}class vo extends ys{static credentialFromJSON(p){const g="string"==typeof p?JSON.parse(p):p;return U("providerId"in g&&"signInMethod"in g,"argument-error"),gs._fromParams(g)}credential(p){return this._credential(Object.assign(Object.assign({},p),{nonce:p.rawNonce}))}_credential(p){return U(p.idToken||p.accessToken,"argument-error"),gs._fromParams(Object.assign(Object.assign({},p),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(p){return vo.oauthCredentialFromTaggedObject(p)}static credentialFromError(p){return vo.oauthCredentialFromTaggedObject(p.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:g,oauthAccessToken:w,oauthTokenSecret:A,pendingToken:R,nonce:q,providerId:ue}=p;if(!w&&!A&&!g&&!R||!ue)return null;try{return new vo(ue)._credential({idToken:g,accessToken:w,nonce:q,pendingToken:R})}catch{return null}}}let Ba=(()=>{class y extends ys{constructor(){super("facebook.com")}static credential(g){return gs._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.FACEBOOK_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return y.credential(g.oauthAccessToken)}catch{return null}}}return y.FACEBOOK_SIGN_IN_METHOD="facebook.com",y.PROVIDER_ID="facebook.com",y})(),Nl=(()=>{class y extends ys{constructor(){super("google.com"),this.addScope("profile")}static credential(g,w){return gs._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GOOGLE_SIGN_IN_METHOD,idToken:g,accessToken:w})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:w,oauthAccessToken:A}=g;if(!w&&!A)return null;try{return y.credential(w,A)}catch{return null}}}return y.GOOGLE_SIGN_IN_METHOD="google.com",y.PROVIDER_ID="google.com",y})(),nu=(()=>{class y extends ys{constructor(){super("github.com")}static credential(g){return gs._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GITHUB_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return y.credential(g.oauthAccessToken)}catch{return null}}}return y.GITHUB_SIGN_IN_METHOD="github.com",y.PROVIDER_ID="github.com",y})();class Li extends Mi{constructor(p,g){super(p,p),this.pendingToken=g}_getIdTokenResponse(p){return hi(p,this.buildRequest())}_linkToIdToken(p,g){const w=this.buildRequest();return w.idToken=g,hi(p,w)}_getReauthenticationResolver(p){const g=this.buildRequest();return g.autoCreate=!1,hi(p,g)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p,{providerId:w,signInMethod:A,pendingToken:R}=g;return w&&A&&R&&w===A?new Li(w,R):null}static _create(p,g){return new Li(p,g)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Er extends _s{constructor(p){U(p.startsWith("saml."),"argument-error"),super(p)}static credentialFromResult(p){return Er.samlCredentialFromTaggedObject(p)}static credentialFromError(p){return Er.samlCredentialFromTaggedObject(p.customData||{})}static credentialFromJSON(p){const g=Li.fromJSON(p);return U(g,"argument-error"),g}static samlCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{pendingToken:g,providerId:w}=p;if(!g||!w)return null;try{return Li._create(w,g)}catch{return null}}}let or=(()=>{class y extends ys{constructor(){super("twitter.com")}static credential(g,w){return gs._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.TWITTER_SIGN_IN_METHOD,oauthToken:g,oauthTokenSecret:w})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthAccessToken:w,oauthTokenSecret:A}=g;if(!w||!A)return null;try{return y.credential(w,A)}catch{return null}}}return y.TWITTER_SIGN_IN_METHOD="twitter.com",y.PROVIDER_ID="twitter.com",y})();function Xo(y,p){return iu.apply(this,arguments)}function iu(){return(iu=(0,s.Z)(function*(y,p){return ir(y,"POST","/v1/accounts:signUp",Ht(y,p))})).apply(this,arguments)}class Ti{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,g,w,A=!1){return(0,s.Z)(function*(){const R=yield $t._fromIdTokenResponse(p,w,A),q=Sf(w);return new Ti({user:R,providerId:q,_tokenResponse:w,operationType:g})})()}static _forOperation(p,g,w){return(0,s.Z)(function*(){yield p._updateTokensIfNecessary(w,!0);const A=Sf(w);return new Ti({user:p,providerId:A,_tokenResponse:w,operationType:g})})()}}function Sf(y){return y.providerId?y.providerId:"phoneNumber"in y?"phone":null}function zn(){return(zn=(0,s.Z)(function*(y){var p;const g=Fn(y);if(yield g._initializationPromise,null!==(p=g.currentUser)&&void 0!==p&&p.isAnonymous)return new Ti({user:g.currentUser,providerId:null,operationType:"signIn"});const w=yield Xo(g,{returnSecureToken:!0}),A=yield Ti._fromIdTokenResponse(g,"signIn",w,!0);return yield g._updateCurrentUser(A.user),A})).apply(this,arguments)}class Ll extends P.ZR{constructor(p,g,w,A){var R;super(g.code,g.message),this.operationType=w,this.user=A,Object.setPrototypeOf(this,Ll.prototype),this.customData={appName:p.name,tenantId:null!==(R=p.tenantId)&&void 0!==R?R:void 0,_serverResponse:g.customData._serverResponse,operationType:w}}static _fromErrorAndOperation(p,g,w,A){return new Ll(p,g,w,A)}}function Mf(y,p,g,w){return("reauthenticate"===p?g._getReauthenticationResolver(y):g._getIdTokenResponse(y)).catch(R=>{throw"auth/multi-factor-auth-required"===R.code?Ll._fromErrorAndOperation(y,R,p,w):R})}function Sr(y){return new Set(y.map(({providerId:p})=>p).filter(p=>!!p))}function Vl(){return(Vl=(0,s.Z)(function*(y,p){const g=(0,P.m9)(y);yield en(!0,g,p);const{providerUserInfo:w}=yield Fi(g.auth,{idToken:yield g.getIdToken(),deleteProvider:[p]}),A=Sr(w||[]);return g.providerData=g.providerData.filter(R=>A.has(R.providerId)),A.has("phone")||(g.phoneNumber=null),yield g.auth._persistUserIfCurrent(g),g})).apply(this,arguments)}function ea(y,p){return bs.apply(this,arguments)}function bs(){return(bs=(0,s.Z)(function*(y,p,g=!1){const w=yield Ii(y,p._linkToIdToken(y.auth,yield y.getIdToken()),g);return Ti._forOperation(y,"link",w)})).apply(this,arguments)}function en(y,p,g){return Bl.apply(this,arguments)}function Bl(){return(Bl=(0,s.Z)(function*(y,p,g){yield cn(p);const A=!1===y?"provider-already-linked":"no-such-provider";U(Sr(p.providerData).has(g)===y,p.auth,A)})).apply(this,arguments)}function bo(y,p){return Ul.apply(this,arguments)}function Ul(){return(Ul=(0,s.Z)(function*(y,p,g=!1){const{auth:w}=y,A="reauthenticate";try{const R=yield Ii(y,Mf(w,A,p,y),g);U(R.idToken,w,"internal-error");const q=ut(R.idToken);U(q,w,"internal-error");const{sub:ue}=q;return U(y.uid===ue,w,"user-mismatch"),Ti._forOperation(y,A,R)}catch(R){throw"auth/user-not-found"===R?.code&&Te(w,"user-mismatch"),R}})).apply(this,arguments)}function Ur(y,p){return Hl.apply(this,arguments)}function Hl(){return(Hl=(0,s.Z)(function*(y,p,g=!1){const w="signIn",A=yield Mf(y,w,p),R=yield Ti._fromIdTokenResponse(y,w,A);return g||(yield y._updateCurrentUser(R.user)),R})).apply(this,arguments)}function Hn(y,p){return Rt.apply(this,arguments)}function Rt(){return(Rt=(0,s.Z)(function*(y,p){return Ur(Fn(y),p)})).apply(this,arguments)}function jl(y,p){return Tf.apply(this,arguments)}function Tf(){return(Tf=(0,s.Z)(function*(y,p){const g=(0,P.m9)(y);return yield en(!1,g,p.providerId),ea(g,p)})).apply(this,arguments)}function Gl(y,p){return zl.apply(this,arguments)}function zl(){return(zl=(0,s.Z)(function*(y,p){return bo((0,P.m9)(y),p)})).apply(this,arguments)}function ru(y,p){return ws.apply(this,arguments)}function ws(){return(ws=(0,s.Z)(function*(y,p){return ir(y,"POST","/v1/accounts:signInWithCustomToken",Ht(y,p))})).apply(this,arguments)}function Ua(){return(Ua=(0,s.Z)(function*(y,p){const g=Fn(y),w=yield ru(g,{token:p,returnSecureToken:!0}),A=yield Ti._fromIdTokenResponse(g,"signIn",w);return yield g._updateCurrentUser(A.user),A})).apply(this,arguments)}class Me{constructor(p,g){this.factorId=p,this.uid=g.mfaEnrollmentId,this.enrollmentTime=new Date(g.enrolledAt).toUTCString(),this.displayName=g.displayName}static _fromServerResponse(p,g){return"phoneInfo"in g?Kt._fromServerResponse(p,g):Te(p,"internal-error")}}class Kt extends Me{constructor(p){super("phone",p),this.phoneNumber=p.phoneInfo}static _fromServerResponse(p,g){return new Kt(g)}}function $l(y,p,g){var w;U((null===(w=g.url)||void 0===w?void 0:w.length)>0,y,"invalid-continue-uri"),U(typeof g.dynamicLinkDomain>"u"||g.dynamicLinkDomain.length>0,y,"invalid-dynamic-link-domain"),p.continueUrl=g.url,p.dynamicLinkDomain=g.dynamicLinkDomain,p.canHandleCodeInApp=g.handleCodeInApp,g.iOS&&(U(g.iOS.bundleId.length>0,y,"missing-ios-bundle-id"),p.iOSBundleId=g.iOS.bundleId),g.android&&(U(g.android.packageName.length>0,y,"missing-android-pkg-name"),p.androidInstallApp=g.android.installApp,p.androidMinimumVersionCode=g.android.minimumVersion,p.androidPackageName=g.android.packageName)}function $n(){return($n=(0,s.Z)(function*(y,p,g){const w=(0,P.m9)(y),A={requestType:"PASSWORD_RESET",email:p};g&&$l(w,A,g),yield Ci(w,A)})).apply(this,arguments)}function ta(){return(ta=(0,s.Z)(function*(y,p,g){yield ni((0,P.m9)(y),{oobCode:p,newPassword:g})})).apply(this,arguments)}function Ha(){return(Ha=(0,s.Z)(function*(y,p){yield Qc((0,P.m9)(y),{oobCode:p})})).apply(this,arguments)}function ja(y,p){return ou.apply(this,arguments)}function ou(){return(ou=(0,s.Z)(function*(y,p){const g=(0,P.m9)(y),w=yield ni(g,{oobCode:p}),A=w.requestType;switch(U(A,g,"internal-error"),A){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":U(w.newEmail,g,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":U(w.mfaInfo,g,"internal-error");default:U(w.email,g,"internal-error")}let R=null;return w.mfaInfo&&(R=Me._fromServerResponse(Fn(g),w.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.newEmail:w.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.email:w.newEmail)||null,multiFactorInfo:R},operation:A}})).apply(this,arguments)}function Rd(){return(Rd=(0,s.Z)(function*(y,p){const{data:g}=yield ja((0,P.m9)(y),p);return g.email})).apply(this,arguments)}function qn(){return(qn=(0,s.Z)(function*(y,p,g){const w=Fn(y),A=yield Xo(w,{returnSecureToken:!0,email:p,password:g}),R=yield Ti._fromIdTokenResponse(w,"signIn",A);return yield w._updateCurrentUser(R.user),R})).apply(this,arguments)}function wo(){return(wo=(0,s.Z)(function*(y,p,g){const w=(0,P.m9)(y),A={requestType:"EMAIL_SIGNIN",email:p};U(g.handleCodeInApp,w,"argument-error"),g&&$l(w,A,g),yield yo(w,A)})).apply(this,arguments)}function za(){return(za=(0,s.Z)(function*(y,p,g){const w=(0,P.m9)(y),A=rs.credentialWithLink(p,g||Re());return U(A._tenantId===(w.tenantId||null),w,"tenant-id-mismatch"),Hn(w,A)})).apply(this,arguments)}function $m(y,p){return cu.apply(this,arguments)}function cu(){return(cu=(0,s.Z)(function*(y,p){return Dn(y,"POST","/v1/accounts:createAuthUri",Ht(y,p))})).apply(this,arguments)}function $a(){return($a=(0,s.Z)(function*(y,p){const w={identifier:p,continueUri:pt()?Re():"http://localhost"},{signinMethods:A}=yield $m((0,P.m9)(y),w);return A||[]})).apply(this,arguments)}function qa(){return(qa=(0,s.Z)(function*(y,p){const g=(0,P.m9)(y),A={requestType:"VERIFY_EMAIL",idToken:yield y.getIdToken()};p&&$l(g.auth,A,p);const{email:R}=yield sn(g.auth,A);R!==y.email&&(yield y.reload())})).apply(this,arguments)}function Wl(){return(Wl=(0,s.Z)(function*(y,p,g){const w=(0,P.m9)(y),R={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield y.getIdToken(),newEmail:p};g&&$l(w.auth,R,g);const{email:q}=yield Ol(w.auth,R);q!==y.email&&(yield y.reload())})).apply(this,arguments)}function Kl(y,p){return hu.apply(this,arguments)}function hu(){return(hu=(0,s.Z)(function*(y,p){return Dn(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function pu(){return(pu=(0,s.Z)(function*(y,{displayName:p,photoURL:g}){if(void 0===p&&void 0===g)return;const w=(0,P.m9)(y),R={idToken:yield w.getIdToken(),displayName:p,photoUrl:g,returnSecureToken:!0},q=yield Ii(w,Kl(w.auth,R));w.displayName=q.displayName||null,w.photoURL=q.photoUrl||null;const ue=w.providerData.find(({providerId:Be})=>"password"===Be);ue&&(ue.displayName=w.displayName,ue.photoURL=w.photoURL),yield w._updateTokensIfNecessary(q)})).apply(this,arguments)}function Do(y,p,g){return Ql.apply(this,arguments)}function Ql(){return(Ql=(0,s.Z)(function*(y,p,g){const{auth:w}=y,R={idToken:yield y.getIdToken(),returnSecureToken:!0};p&&(R.email=p),g&&(R.password=g);const q=yield Ii(y,rn(w,R));yield y._updateTokensIfNecessary(q,!0)})).apply(this,arguments)}class ar{constructor(p,g,w={}){this.isNewUser=p,this.providerId=g,this.profile=w}}class An extends ar{constructor(p,g,w,A){super(p,g,w),this.username=A}}class mu extends ar{constructor(p,g){super(p,"facebook.com",g)}}class gu extends An{constructor(p,g){super(p,"github.com",g,"string"==typeof g?.login?g?.login:null)}}class Pd extends ar{constructor(p,g){super(p,"google.com",g)}}class _u extends An{constructor(p,g,w){super(p,"twitter.com",g,w)}}function Jl(y){const{user:p,_tokenResponse:g}=y;return p.isAnonymous&&!g?{providerId:null,isNewUser:!1,profile:null}:function fi(y){var p,g;if(!y)return null;const{providerId:w}=y,A=y.rawUserInfo?JSON.parse(y.rawUserInfo):{},R=y.isNewUser||"identitytoolkit#SignupNewUserResponse"===y.kind;if(!w&&y?.idToken){const q=null===(g=null===(p=ut(y.idToken))||void 0===p?void 0:p.firebase)||void 0===g?void 0:g.sign_in_provider;if(q)return new ar(R,"anonymous"!==q&&"custom"!==q?q:null)}if(!w)return null;switch(w){case"facebook.com":return new mu(R,A);case"github.com":return new gu(R,A);case"google.com":return new Pd(R,A);case"twitter.com":return new _u(R,A,y.screenName||null);case"custom":case"anonymous":return new ar(R,null);default:return new ar(R,w,A)}}(g)}class So{constructor(p,g,w){this.type=p,this.credential=g,this.auth=w}static _fromIdtoken(p,g){return new So("enroll",p,g)}static _fromMfaPendingCredential(p){return new So("signin",p)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(p){var g,w;if(p?.multiFactorSession){if(null!==(g=p.multiFactorSession)&&void 0!==g&&g.pendingCredential)return So._fromMfaPendingCredential(p.multiFactorSession.pendingCredential);if(null!==(w=p.multiFactorSession)&&void 0!==w&&w.idToken)return So._fromIdtoken(p.multiFactorSession.idToken)}return null}}class ec{constructor(p,g,w){this.session=p,this.hints=g,this.signInResolver=w}static _fromError(p,g){const w=Fn(p),A=g.customData._serverResponse,R=(A.mfaInfo||[]).map(ue=>Me._fromServerResponse(w,ue));U(A.mfaPendingCredential,w,"internal-error");const q=So._fromMfaPendingCredential(A.mfaPendingCredential);return new ec(q,R,function(){var ue=(0,s.Z)(function*(Be){const et=yield Be._process(w,q);delete A.mfaInfo,delete A.mfaPendingCredential;const It=Object.assign(Object.assign({},A),{idToken:et.idToken,refreshToken:et.refreshToken});switch(g.operationType){case"signIn":const yt=yield Ti._fromIdTokenResponse(w,g.operationType,It);return yield w._updateCurrentUser(yt.user),yt;case"reauthenticate":return U(g.user,w,"internal-error"),Ti._forOperation(g.user,g.operationType,It);default:Te(w,"internal-error")}});return function(Be){return ue.apply(this,arguments)}}())}resolveSignIn(p){var g=this;return(0,s.Z)(function*(){return g.signInResolver(p)})()}}function tc(y,p){return Dn(y,"POST","/v2/accounts/mfaEnrollment:start",Ht(y,p))}class Af{constructor(p){this.user=p,this.enrolledFactors=[],p._onReload(g=>{g.mfaInfo&&(this.enrolledFactors=g.mfaInfo.map(w=>Me._fromServerResponse(p.auth,w)))})}static _fromUser(p){return new Af(p)}getSession(){var p=this;return(0,s.Z)(function*(){return So._fromIdtoken(yield p.user.getIdToken(),p.user.auth)})()}enroll(p,g){var w=this;return(0,s.Z)(function*(){const A=p,R=yield w.getSession(),q=yield Ii(w.user,A._process(w.user.auth,R,g));return yield w.user._updateTokensIfNecessary(q),w.user.reload()})()}unenroll(p){var g=this;return(0,s.Z)(function*(){const w="string"==typeof p?p:p.uid,A=yield g.user.getIdToken(),R=yield Ii(g.user,function Vd(y,p){return Dn(y,"POST","/v2/accounts/mfaEnrollment:withdraw",Ht(y,p))}(g.user.auth,{idToken:A,mfaEnrollmentId:w}));g.enrolledFactors=g.enrolledFactors.filter(({uid:q})=>q!==w),yield g.user._updateTokensIfNecessary(R);try{yield g.user.reload()}catch(q){if("auth/user-token-expired"!==q?.code)throw q}})()}}const Io=new WeakMap,Mo="__sak";class ic{constructor(p,g){this.storageRetriever=p,this.type=g}_isAvailable(){try{return this.storage?(this.storage.setItem(Mo,"1"),this.storage.removeItem(Mo),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(p,g){return this.storage.setItem(p,JSON.stringify(g)),Promise.resolve()}_get(p){const g=this.storage.getItem(p);return Promise.resolve(g?JSON.parse(g):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}get storage(){return this.storageRetriever()}}const Ya=(()=>{class y extends ic{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(g,w)=>this.onStorageEvent(g,w),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Za(){const y=(0,P.z$)();return mt(y)||qt(y)}()&&function On(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=mo(),this._shouldAllowMigration=!0}forAllChangedKeys(g){for(const w of Object.keys(this.listeners)){const A=this.storage.getItem(w),R=this.localCache[w];A!==R&&g(w,R,A)}}onStorageEvent(g,w=!1){if(!g.key)return void this.forAllChangedKeys((ue,Be,et)=>{this.notifyListeners(ue,et)});const A=g.key;if(w?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ue=this.storage.getItem(A);if(g.newValue!==ue)null!==g.newValue?this.storage.setItem(A,g.newValue):this.storage.removeItem(A);else if(this.localCache[A]===g.newValue&&!w)return}const R=()=>{const ue=this.storage.getItem(A);!w&&this.localCache[A]===ue||this.notifyListeners(A,ue)},q=this.storage.getItem(A);!function di(){return(0,P.w1)()&&10===document.documentMode}()||q===g.newValue||g.newValue===g.oldValue?R():setTimeout(R,10)}notifyListeners(g,w){this.localCache[g]=w;const A=this.listeners[g];if(A)for(const R of Array.from(A))R(w&&JSON.parse(w))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((g,w,A)=>{this.onStorageEvent(new StorageEvent("storage",{key:g,oldValue:w,newValue:A}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(g,w){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[g]||(this.listeners[g]=new Set,this.localCache[g]=this.storage.getItem(g)),this.listeners[g].add(w)}_removeListener(g,w){this.listeners[g]&&(this.listeners[g].delete(w),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(g,w){var A=()=>super._set,R=this;return(0,s.Z)(function*(){yield A().call(R,g,w),R.localCache[g]=JSON.stringify(w)})()}_get(g){var w=()=>super._get,A=this;return(0,s.Z)(function*(){const R=yield w().call(A,g);return A.localCache[g]=JSON.stringify(R),R})()}_remove(g){var w=()=>super._remove,A=this;return(0,s.Z)(function*(){yield w().call(A,g),delete A.localCache[g]})()}}return y.type="LOCAL",y})(),os=(()=>{class y extends ic{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(g,w){}_removeListener(g,w){}}return y.type="SESSION",y})();let Hd=(()=>{class y{constructor(g){this.eventTarget=g,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(g){const w=this.receivers.find(R=>R.isListeningto(g));if(w)return w;const A=new y(g);return this.receivers.push(A),A}isListeningto(g){return this.eventTarget===g}handleEvent(g){var w=this;return(0,s.Z)(function*(){const A=g,{eventId:R,eventType:q,data:ue}=A.data,Be=w.handlersMap[q];if(!Be?.size)return;A.ports[0].postMessage({status:"ack",eventId:R,eventType:q});const et=Array.from(Be).map(function(){var yt=(0,s.Z)(function*(vn){return vn(A.origin,ue)});return function(vn){return yt.apply(this,arguments)}}()),It=yield function Ka(y){return Promise.all(y.map(function(){var p=(0,s.Z)(function*(g){try{return{fulfilled:!0,value:yield g}}catch(w){return{fulfilled:!1,reason:w}}});return function(g){return p.apply(this,arguments)}}()))}(et);A.ports[0].postMessage({status:"done",eventId:R,eventType:q,response:It})})()}_subscribe(g,w){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[g]||(this.handlersMap[g]=new Set),this.handlersMap[g].add(w)}_unsubscribe(g,w){this.handlersMap[g]&&w&&this.handlersMap[g].delete(w),(!w||0===this.handlersMap[g].size)&&delete this.handlersMap[g],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return y.receivers=[],y})();function Qa(y="",p=10){let g="";for(let w=0;w<p;w++)g+=Math.floor(10*Math.random());return y+g}class yu{constructor(p){this.target=p,this.handlers=new Set}removeMessageHandler(p){p.messageChannel&&(p.messageChannel.port1.removeEventListener("message",p.onMessage),p.messageChannel.port1.close()),this.handlers.delete(p)}_send(p,g,w=50){var A=this;return(0,s.Z)(function*(){const R=typeof MessageChannel<"u"?new MessageChannel:null;if(!R)throw new Error("connection_unavailable");let q,ue;return new Promise((Be,et)=>{const It=Qa("",20);R.port1.start();const yt=setTimeout(()=>{et(new Error("unsupported_event"))},w);ue={messageChannel:R,onMessage(vn){const mi=vn;if(mi.data.eventId===It)switch(mi.data.status){case"ack":clearTimeout(yt),q=setTimeout(()=>{et(new Error("timeout"))},3e3);break;case"done":clearTimeout(q),Be(mi.data.response);break;default:clearTimeout(yt),clearTimeout(q),et(new Error("invalid_response"))}}},A.handlers.add(ue),R.port1.addEventListener("message",ue.onMessage),A.target.postMessage({eventType:p,eventId:It,data:g},[R.port2])}).finally(()=>{ue&&A.removeMessageHandler(ue)})})()}}function Qn(){return window}function rc(){return typeof Qn().WorkerGlobalScope<"u"&&"function"==typeof Qn().importScripts}function Ja(){return(Ja=(0,s.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Ks="firebaseLocalStorageDb",Qs="firebaseLocalStorage",ac="fbase_key";class Ao{constructor(p){this.request=p}toPromise(){return new Promise((p,g)=>{this.request.addEventListener("success",()=>{p(this.request.result)}),this.request.addEventListener("error",()=>{g(this.request.error)})})}}function Xa(y,p){return y.transaction([Qs],p?"readwrite":"readonly").objectStore(Qs)}function sa(){const y=indexedDB.open(Ks,1);return new Promise((p,g)=>{y.addEventListener("error",()=>{g(y.error)}),y.addEventListener("upgradeneeded",()=>{const w=y.result;try{w.createObjectStore(Qs,{keyPath:ac})}catch(A){g(A)}}),y.addEventListener("success",(0,s.Z)(function*(){const w=y.result;w.objectStoreNames.contains(Qs)?p(w):(w.close(),yield function Gd(){const y=indexedDB.deleteDatabase(Ks);return new Ao(y).toPromise()}(),p(yield sa()))}))})}function Ds(y,p,g){return vu.apply(this,arguments)}function vu(){return(vu=(0,s.Z)(function*(y,p,g){const w=Xa(y,!0).put({[ac]:p,value:g});return new Ao(w).toPromise()})).apply(this,arguments)}function el(){return(el=(0,s.Z)(function*(y,p){const g=Xa(y,!1).get(p),w=yield new Ao(g).toPromise();return void 0===w?null:w.value})).apply(this,arguments)}function xo(y,p){const g=Xa(y,!0).delete(p);return new Ao(g).toPromise()}const oa=(()=>{class y{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var g=this;return(0,s.Z)(function*(){return g.db||(g.db=yield sa()),g.db})()}_withRetries(g){var w=this;return(0,s.Z)(function*(){let A=0;for(;;)try{const R=yield w._openDb();return yield g(R)}catch(R){if(A++>3)throw R;w.db&&(w.db.close(),w.db=void 0)}})()}initializeServiceWorkerMessaging(){var g=this;return(0,s.Z)(function*(){return rc()?g.initializeReceiver():g.initializeSender()})()}initializeReceiver(){var g=this;return(0,s.Z)(function*(){g.receiver=Hd._getInstance(function oc(){return rc()?self:null}()),g.receiver._subscribe("keyChanged",function(){var w=(0,s.Z)(function*(A,R){return{keyProcessed:(yield g._poll()).includes(R.key)}});return function(A,R){return w.apply(this,arguments)}}()),g.receiver._subscribe("ping",function(){var w=(0,s.Z)(function*(A,R){return["keyChanged"]});return function(A,R){return w.apply(this,arguments)}}())})()}initializeSender(){var g=this;return(0,s.Z)(function*(){var w,A;if(g.activeServiceWorker=yield function To(){return Ja.apply(this,arguments)}(),!g.activeServiceWorker)return;g.sender=new yu(g.activeServiceWorker);const R=yield g.sender._send("ping",{},800);!R||(null===(w=R[0])||void 0===w?void 0:w.fulfilled)&&(null===(A=R[0])||void 0===A?void 0:A.value.includes("keyChanged"))&&(g.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(g){var w=this;return(0,s.Z)(function*(){if(w.sender&&w.activeServiceWorker&&function sc(){var y;return(null===(y=navigator?.serviceWorker)||void 0===y?void 0:y.controller)||null}()===w.activeServiceWorker)try{yield w.sender._send("keyChanged",{key:g},w.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,s.Z)(function*(){try{if(!indexedDB)return!1;const g=yield sa();return yield Ds(g,Mo,"1"),yield xo(g,Mo),!0}catch{}return!1})()}_withPendingWrite(g){var w=this;return(0,s.Z)(function*(){w.pendingWrites++;try{yield g()}finally{w.pendingWrites--}})()}_set(g,w){var A=this;return(0,s.Z)(function*(){return A._withPendingWrite((0,s.Z)(function*(){return yield A._withRetries(R=>Ds(R,g,w)),A.localCache[g]=w,A.notifyServiceWorker(g)}))})()}_get(g){var w=this;return(0,s.Z)(function*(){const A=yield w._withRetries(R=>function lc(y,p){return el.apply(this,arguments)}(R,g));return w.localCache[g]=A,A})()}_remove(g){var w=this;return(0,s.Z)(function*(){return w._withPendingWrite((0,s.Z)(function*(){return yield w._withRetries(A=>xo(A,g)),delete w.localCache[g],w.notifyServiceWorker(g)}))})()}_poll(){var g=this;return(0,s.Z)(function*(){const w=yield g._withRetries(q=>{const ue=Xa(q,!1).getAll();return new Ao(ue).toPromise()});if(!w)return[];if(0!==g.pendingWrites)return[];const A=[],R=new Set;for(const{fbase_key:q,value:ue}of w)R.add(q),JSON.stringify(g.localCache[q])!==JSON.stringify(ue)&&(g.notifyListeners(q,ue),A.push(q));for(const q of Object.keys(g.localCache))g.localCache[q]&&!R.has(q)&&(g.notifyListeners(q,null),A.push(q));return A})()}notifyListeners(g,w){this.localCache[g]=w;const A=this.listeners[g];if(A)for(const R of Array.from(A))R(w)}startPolling(){var g=this;this.stopPolling(),this.pollTimer=setInterval((0,s.Z)(function*(){return g._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(g,w){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[g]||(this.listeners[g]=new Set,this._get(g)),this.listeners[g].add(w)}_removeListener(g,w){this.listeners[g]&&(this.listeners[g].delete(w),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return y.type="LOCAL",y})();function aa(y,p){return Dn(y,"POST","/v2/accounts/mfaSignIn:start",Ht(y,p))}function Js(){return(Js=(0,s.Z)(function*(y){return(yield Dn(y,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function ca(y){return new Promise((p,g)=>{const w=document.createElement("script");w.setAttribute("src",y),w.onload=p,w.onerror=A=>{const R=be("internal-error");R.customData=A,g(R)},w.type="text/javascript",w.charset="UTF-8",function la(){var y,p;return null!==(p=null===(y=document.getElementsByTagName("head"))||void 0===y?void 0:y[0])&&void 0!==p?p:document}().appendChild(w)})}function dc(y){return`__${y}${Math.floor(1e6*Math.random())}`}const tl=1e12;class xn{constructor(p){this.auth=p,this.counter=tl,this._widgets=new Map}render(p,g){const w=this.counter;return this._widgets.set(w,new qm(p,this.auth.name,g||{})),this.counter++,w}reset(p){var g;const w=p||tl;null===(g=this._widgets.get(w))||void 0===g||g.delete(),this._widgets.delete(w)}getResponse(p){var g;return(null===(g=this._widgets.get(p||tl))||void 0===g?void 0:g.getResponse())||""}execute(p){var g=this;return(0,s.Z)(function*(){var w;return null===(w=g._widgets.get(p||tl))||void 0===w||w.execute(),""})()}}class qm{constructor(p,g,w){this.params=w,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const A="string"==typeof p?document.getElementById(p):p;U(A,"argument-error",{appName:g}),this.container=A,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function xy(y){const p=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let w=0;w<y;w++)p.push(g.charAt(Math.floor(Math.random()*g.length)));return p.join("")}(50);const{callback:p,"expired-callback":g}=this.params;if(p)try{p(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,g)try{g()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Zm=dc("rcb"),ky=new gn(3e4,6e4);class xf{constructor(){var p;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(p=Qn().grecaptcha)||void 0===p||!p.render)}load(p,g=""){return U(function T0(y){return y.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(y)}(g),p,"argument-error"),this.shouldResolveImmediately(g)?Promise.resolve(Qn().grecaptcha):new Promise((w,A)=>{const R=Qn().setTimeout(()=>{A(be(p,"network-request-failed"))},ky.get());Qn()[Zm]=()=>{Qn().clearTimeout(R),delete Qn()[Zm];const ue=Qn().grecaptcha;if(!ue)return void A(be(p,"internal-error"));const Be=ue.render;ue.render=(et,It)=>{const yt=Be(et,It);return this.counter++,yt},this.hostLanguage=g,w(ue)},ca(`https://www.google.com/recaptcha/api.js??${(0,P.xO)({onload:Zm,render:"explicit",hl:g})}`).catch(()=>{clearTimeout(R),A(be(p,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(p){var g;return!(null===(g=Qn().grecaptcha)||void 0===g||!g.render)&&(p===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class da{load(p){return(0,s.Z)(function*(){return new xn(p)})()}clearedOneInstance(){}}const Ym="recaptcha",Wm={theme:"light",type:"image"};class Ei{constructor(p,g=Object.assign({},Wm),w){this.parameters=g,this.type=Ym,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Fn(w),this.isInvisible="invisible"===this.parameters.size,U(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const A="string"==typeof p?document.getElementById(p):p;U(A,this.auth,"argument-error"),this.container=A,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new da:new xf,this.validateStartingState()}verify(){var p=this;return(0,s.Z)(function*(){p.assertNotDestroyed();const g=yield p.render(),w=p.getAssertedRecaptcha();return w.getResponse(g)||new Promise(R=>{const q=ue=>{!ue||(p.tokenChangeListeners.delete(q),R(ue))};p.tokenChangeListeners.add(q),p.isInvisible&&w.execute(g)})})()}render(){try{this.assertNotDestroyed()}catch(p){return Promise.reject(p)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(p=>{throw this.renderPromise=null,p})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(p=>{this.container.removeChild(p)})}validateStartingState(){U(!this.parameters.sitekey,this.auth,"argument-error"),U(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),U(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(p){return g=>{if(this.tokenChangeListeners.forEach(w=>w(g)),"function"==typeof p)p(g);else if("string"==typeof p){const w=Qn()[p];"function"==typeof w&&w(g)}}}assertNotDestroyed(){U(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var p=this;return(0,s.Z)(function*(){if(yield p.init(),!p.widgetId){let g=p.container;if(!p.isInvisible){const w=document.createElement("div");g.appendChild(w),g=w}p.widgetId=p.getAssertedRecaptcha().render(g,p.parameters)}return p.widgetId})()}init(){var p=this;return(0,s.Z)(function*(){U(pt()&&!rc(),p.auth,"internal-error"),yield function _n(){let y=null;return new Promise(p=>{"complete"!==document.readyState?(y=()=>p(),window.addEventListener("load",y)):p()}).catch(p=>{throw y&&window.removeEventListener("load",y),p})}(),p.recaptcha=yield p._recaptchaLoader.load(p.auth,p.auth.languageCode||void 0);const g=yield function lr(y){return Js.apply(this,arguments)}(p.auth);U(g,p.auth,"internal-error"),p.parameters.sitekey=g})()}getAssertedRecaptcha(){return U(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class jr{constructor(p,g){this.verificationId=p,this.onConfirmation=g}confirm(p){const g=Zs._fromVerification(this.verificationId,p);return this.onConfirmation(g)}}function Ze(){return(Ze=(0,s.Z)(function*(y,p,g){const w=Fn(y),A=yield Xs(w,p,(0,P.m9)(g));return new jr(A,R=>Hn(w,R))})).apply(this,arguments)}function Gr(){return(Gr=(0,s.Z)(function*(y,p,g){const w=(0,P.m9)(y);yield en(!1,w,"phone");const A=yield Xs(w.auth,p,(0,P.m9)(g));return new jr(A,R=>jl(w,R))})).apply(this,arguments)}function jn(){return(jn=(0,s.Z)(function*(y,p,g){const w=(0,P.m9)(y),A=yield Xs(w.auth,p,(0,P.m9)(g));return new jr(A,R=>Gl(w,R))})).apply(this,arguments)}function Xs(y,p,g){return hc.apply(this,arguments)}function hc(){return(hc=(0,s.Z)(function*(y,p,g){var w;const A=yield g.verify();try{let R;if(U("string"==typeof A,y,"argument-error"),U(g.type===Ym,y,"argument-error"),R="string"==typeof p?{phoneNumber:p}:p,"session"in R){const q=R.session;if("phoneNumber"in R)return U("enroll"===q.type,y,"internal-error"),(yield tc(y,{idToken:q.credential,phoneEnrollmentInfo:{phoneNumber:R.phoneNumber,recaptchaToken:A}})).phoneSessionInfo.sessionInfo;{U("signin"===q.type,y,"internal-error");const ue=(null===(w=R.multiFactorHint)||void 0===w?void 0:w.uid)||R.multiFactorUid;return U(ue,y,"missing-multi-factor-info"),(yield aa(y,{mfaPendingCredential:q.credential,mfaEnrollmentId:ue,phoneSignInInfo:{recaptchaToken:A}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:q}=yield Hm(y,{phoneNumber:R.phoneNumber,recaptchaToken:A});return q}}finally{g._reset()}})).apply(this,arguments)}function wu(){return(wu=(0,s.Z)(function*(y,p){yield ea((0,P.m9)(y),p)})).apply(this,arguments)}let il=(()=>{class y{constructor(g){this.providerId=y.PROVIDER_ID,this.auth=Fn(g)}verifyPhoneNumber(g,w){return Xs(this.auth,g,(0,P.m9)(w))}static credential(g,w){return Zs._fromVerification(g,w)}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{phoneNumber:w,temporaryProof:A}=g;return w&&A?Zs._fromTokenResponse(w,A):null}}return y.PROVIDER_ID="phone",y.PHONE_SIGN_IN_METHOD="phone",y})();function ha(y,p){return p?se(p):(U(y._popupRedirectResolver,y,"argument-error"),y._popupRedirectResolver)}class eo extends Mi{constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return hi(p,this._buildIdpRequest())}_linkToIdToken(p,g){return hi(p,this._buildIdpRequest(g))}_getReauthenticationResolver(p){return hi(p,this._buildIdpRequest())}_buildIdpRequest(p){const g={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(g.idToken=p),g}}function Ge(y){return Ur(y.auth,new eo(y),y.bypassAuthState)}function rl(y){const{auth:p,user:g}=y;return U(g,p,"internal-error"),bo(g,new eo(y),y.bypassAuthState)}function to(y){return fa.apply(this,arguments)}function fa(){return(fa=(0,s.Z)(function*(y){const{auth:p,user:g}=y;return U(g,p,"internal-error"),ea(g,new eo(y),y.bypassAuthState)})).apply(this,arguments)}class pa{constructor(p,g,w,A,R=!1){this.auth=p,this.resolver=w,this.user=A,this.bypassAuthState=R,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(g)?g:[g]}execute(){var p=this;return new Promise(function(){var g=(0,s.Z)(function*(w,A){p.pendingPromise={resolve:w,reject:A};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(R){p.reject(R)}});return function(w,A){return g.apply(this,arguments)}}())}onAuthEvent(p){var g=this;return(0,s.Z)(function*(){const{urlResponse:w,sessionId:A,postBody:R,tenantId:q,error:ue,type:Be}=p;if(ue)return void g.reject(ue);const et={auth:g.auth,requestUri:w,sessionId:A,tenantId:q||void 0,postBody:R||void 0,user:g.user,bypassAuthState:g.bypassAuthState};try{g.resolve(yield g.getIdpTask(Be)(et))}catch(It){g.reject(It)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return Ge;case"linkViaPopup":case"linkViaRedirect":return to;case"reauthViaPopup":case"reauthViaRedirect":return rl;default:Te(this.auth,"internal-error")}}resolve(p){Z(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){Z(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Nn=new gn(2e3,1e4);function as(){return(as=(0,s.Z)(function*(y,p,g){const w=Fn(y);Ue(y,p,_s);const A=ha(w,g);return new ls(w,"signInViaPopup",p,A).executeNotNull()})).apply(this,arguments)}function Du(){return(Du=(0,s.Z)(function*(y,p,g){const w=(0,P.m9)(y);Ue(w.auth,p,_s);const A=ha(w.auth,g);return new ls(w.auth,"reauthViaPopup",p,A,w).executeNotNull()})).apply(this,arguments)}function sl(){return(sl=(0,s.Z)(function*(y,p,g){const w=(0,P.m9)(y);Ue(w.auth,p,_s);const A=ha(w.auth,g);return new ls(w.auth,"linkViaPopup",p,A,w).executeNotNull()})).apply(this,arguments)}let ls=(()=>{class y extends pa{constructor(g,w,A,R,q){super(g,w,R,q),this.provider=A,this.authWindow=null,this.pollId=null,y.currentPopupAction&&y.currentPopupAction.cancel(),y.currentPopupAction=this}executeNotNull(){var g=this;return(0,s.Z)(function*(){const w=yield g.execute();return U(w,g.auth,"internal-error"),w})()}onExecution(){var g=this;return(0,s.Z)(function*(){Z(1===g.filter.length,"Popup operations only handle one event");const w=Qa();g.authWindow=yield g.resolver._openPopup(g.auth,g.provider,g.filter[0],w),g.authWindow.associatedEvent=w,g.resolver._originValidation(g.auth).catch(A=>{g.reject(A)}),g.resolver._isIframeWebStorageSupported(g.auth,A=>{A||g.reject(be(g.auth,"web-storage-unsupported"))}),g.pollUserCancellation()})()}get eventId(){var g;return(null===(g=this.authWindow)||void 0===g?void 0:g.associatedEvent)||null}cancel(){this.reject(be(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,y.currentPopupAction=null}pollUserCancellation(){const g=()=>{var w,A;this.pollId=null!==(A=null===(w=this.authWindow)||void 0===w?void 0:w.window)&&void 0!==A&&A.closed?window.setTimeout(()=>{this.pollId=null,this.reject(be(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(g,Nn.get())};g()}}return y.currentPopupAction=null,y})();const cr=new Map;class Eu extends pa{constructor(p,g,w=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],g,void 0,w),this.eventId=null}execute(){var p=()=>super.execute,g=this;return(0,s.Z)(function*(){let w=cr.get(g.auth._key());if(!w){try{const R=(yield function Bi(y,p){return Wi.apply(this,arguments)}(g.resolver,g.auth))?yield p().call(g):null;w=()=>Promise.resolve(R)}catch(A){w=()=>Promise.reject(A)}cr.set(g.auth._key(),w)}return g.bypassAuthState||cr.set(g.auth._key(),()=>Promise.resolve(null)),w()})()}onAuthEvent(p){var g=()=>super.onAuthEvent,w=this;return(0,s.Z)(function*(){if("signInViaRedirect"===p.type)return g().call(w,p);if("unknown"!==p.type){if(p.eventId){const A=yield w.auth._redirectUserForId(p.eventId);if(A)return w.user=A,g().call(w,p);w.resolve(null)}}else w.resolve(null)})()}onExecution(){return(0,s.Z)(function*(){})()}cleanUp(){}}function Wi(){return(Wi=(0,s.Z)(function*(y,p){const g=Ln(p),w=Ss(y);if(!(yield w._isAvailable()))return!1;const A="true"===(yield w._get(g));return yield w._remove(g),A})).apply(this,arguments)}function cs(y,p){return on.apply(this,arguments)}function on(){return(on=(0,s.Z)(function*(y,p){return Ss(y)._set(Ln(p),"true")})).apply(this,arguments)}function no(y,p){cr.set(y._key(),p)}function Ss(y){return se(y._redirectPersistence)}function Ln(y){return Y("pendingRedirect",y.config.apiKey,y.name)}function S(){return(S=(0,s.Z)(function*(y,p,g){const w=Fn(y);Ue(y,p,_s);const A=ha(w,g);return yield cs(A,w),A._openRedirect(w,p,"signInViaRedirect")})).apply(this,arguments)}function L(){return(L=(0,s.Z)(function*(y,p,g){const w=(0,P.m9)(y);Ue(w.auth,p,_s);const A=ha(w.auth,g);yield cs(A,w.auth);const R=yield St(w);return A._openRedirect(w.auth,p,"reauthViaRedirect",R)})).apply(this,arguments)}function Ee(){return(Ee=(0,s.Z)(function*(y,p,g){const w=(0,P.m9)(y);Ue(w.auth,p,_s);const A=ha(w.auth,g);yield en(!1,w,p.providerId),yield cs(A,w.auth);const R=yield St(w);return A._openRedirect(w.auth,p,"linkViaRedirect",R)})).apply(this,arguments)}function Xe(){return(Xe=(0,s.Z)(function*(y,p){return yield Fn(y)._initializationPromise,lt(y,p,!1)})).apply(this,arguments)}function lt(y,p){return Ut.apply(this,arguments)}function Ut(){return(Ut=(0,s.Z)(function*(y,p,g=!1){const w=Fn(y),A=ha(w,p),q=yield new Eu(w,A,g).execute();return q&&!g&&(delete q.user._redirectEventId,yield w._persistUserIfCurrent(q.user),yield w._setRedirectUser(null,p)),q})).apply(this,arguments)}function St(y){return ri.apply(this,arguments)}function ri(){return(ri=(0,s.Z)(function*(y){const p=Qa(`${y.uid}:::`);return y._redirectEventId=p,yield y.auth._setRedirectUser(y),yield y.auth._persistUserIfCurrent(y),p})).apply(this,arguments)}class Is{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let g=!1;return this.consumers.forEach(w=>{this.isEventForConsumer(p,w)&&(g=!0,this.sendToConsumer(p,w),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function Jn(y){switch(y.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Lt(y);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,g||(this.queuedRedirectEvent=p,g=!0)),g}sendToConsumer(p,g){var w;if(p.error&&!Lt(p)){const A=(null===(w=p.error.code)||void 0===w?void 0:w.split("auth/")[1])||"internal-error";g.onError(be(this.auth,A))}else g.onAuthEvent(p)}isEventForConsumer(p,g){const w=null===g.eventId||!!p.eventId&&p.eventId===g.eventId;return g.filter.includes(p.type)&&w}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ro(p))}saveEventToCache(p){this.cachedEventUids.add(Ro(p)),this.lastProcessedEventTime=Date.now()}}function Ro(y){return[y.type,y.eventId,y.sessionId,y.tenantId].filter(p=>p).join("-")}function Lt({type:y,error:p}){return"unknown"===y&&"auth/no-auth-event"===p?.code}function ur(y){return Ms.apply(this,arguments)}function Ms(){return(Ms=(0,s.Z)(function*(y,p={}){return Dn(y,"GET","/v1/projects",p)})).apply(this,arguments)}const A0=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Jm=/^https?/;function kf(){return(kf=(0,s.Z)(function*(y){if(y.config.emulator)return;const{authorizedDomains:p}=yield ur(y);for(const g of p)try{if(Xm(g))return}catch{}Te(y,"unauthorized-domain")})).apply(this,arguments)}function Xm(y){const p=Re(),{protocol:g,hostname:w}=new URL(p);if(y.startsWith("chrome-extension://")){const q=new URL(y);return""===q.hostname&&""===w?"chrome-extension:"===g&&y.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===g&&q.hostname===w}if(!Jm.test(g))return!1;if(A0.test(y))return w===y;const A=y.replace(/\./g,"\\.");return new RegExp("^(.+\\."+A+"|"+A+")$","i").test(w)}const eg=new gn(3e4,6e4);function Oy(){const y=Qn().___jsl;if(y?.H)for(const p of Object.keys(y.H))if(y.H[p].r=y.H[p].r||[],y.H[p].L=y.H[p].L||[],y.H[p].r=[...y.H[p].L],y.CP)for(let g=0;g<y.CP.length;g++)y.CP[g]=null}let us=null;function Rf(y){return us=us||function pi(y){return new Promise((p,g)=>{var w,A,R;function q(){Oy(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{Oy(),g(be(y,"network-request-failed"))},timeout:eg.get()})}if(null!==(A=null===(w=Qn().gapi)||void 0===w?void 0:w.iframes)&&void 0!==A&&A.Iframe)p(gapi.iframes.getContext());else{if(null===(R=Qn().gapi)||void 0===R||!R.load){const ue=dc("iframefcb");return Qn()[ue]=()=>{gapi.load?q():g(be(y,"network-request-failed"))},ca(`https://apis.google.com/js/api.js?onload=${ue}`).catch(Be=>g(Be))}q()}}).catch(p=>{throw us=null,p})}(y),us}const tg=new gn(5e3,15e3),Py={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Fy=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ng(y){const p=y.config;U(p.authDomain,y,"auth-domain-config-required");const g=p.emulator?Rn(p,"emulator/auth/iframe"):`https://${y.config.authDomain}/__/auth/iframe`,w={apiKey:p.apiKey,appName:y.name,v:oe.SDK_VERSION},A=Fy.get(y.config.apiHost);A&&(w.eid=A);const R=y._getFrameworks();return R.length&&(w.fw=R.join(",")),`${g}?${(0,P.xO)(w).slice(1)}`}function Ff(){return Ff=(0,s.Z)(function*(y){const p=yield Rf(y),g=Qn().gapi;return U(g,y,"internal-error"),p.open({where:document.body,url:ng(y),messageHandlersFilter:g.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Py,dontclear:!0},w=>new Promise(function(){var A=(0,s.Z)(function*(R,q){yield w.restyle({setHideOnLeave:!1});const ue=be(y,"network-request-failed"),Be=Qn().setTimeout(()=>{q(ue)},tg.get());function et(){Qn().clearTimeout(Be),R(w)}w.ping(et).then(et,()=>{q(ue)})});return function(R,q){return A.apply(this,arguments)}}()))}),Ff.apply(this,arguments)}const Ny={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Ly{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function $d(y,p,g,w,A,R){U(y.config.authDomain,y,"auth-domain-config-required"),U(y.config.apiKey,y,"invalid-api-key");const q={apiKey:y.config.apiKey,appName:y.name,authType:g,redirectUrl:w,v:oe.SDK_VERSION,eventId:A};if(p instanceof _s){p.setDefaultLanguage(y.languageCode),q.providerId=p.providerId||"",(0,P.xb)(p.getCustomParameters())||(q.customParameters=JSON.stringify(p.getCustomParameters()));for(const[Be,et]of Object.entries(R||{}))q[Be]=et}if(p instanceof ys){const Be=p.getScopes().filter(et=>""!==et);Be.length>0&&(q.scopes=Be.join(","))}y.tenantId&&(q.tid=y.tenantId);const ue=q;for(const Be of Object.keys(ue))void 0===ue[Be]&&delete ue[Be];return`${function Iu({config:y}){return y.emulator?Rn(y,"emulator/auth/handler"):`https://${y.authDomain}/__/auth/handler`}(y)}?${(0,P.xO)(ue).slice(1)}`}const ma="webStorageSupport";class Tu extends class By{constructor(p){this.factorId=p}_process(p,g,w){switch(g.type){case"enroll":return this._finalizeEnroll(p,g.credential,w);case"signin":return this._finalizeSignIn(p,g.credential);default:return ge("unexpected MultiFactorSessionType")}}}{constructor(p){super("phone"),this.credential=p}static _fromCredential(p){return new Tu(p)}_finalizeEnroll(p,g,w){return function nc(y,p){return Dn(y,"POST","/v2/accounts/mfaEnrollment:finalize",Ht(y,p))}(p,{idToken:g,displayName:w,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(p,g){return function uc(y,p){return Dn(y,"POST","/v2/accounts/mfaSignIn:finalize",Ht(y,p))}(p,{mfaPendingCredential:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Au=(()=>{class y{constructor(){}static assertion(g){return Tu._fromCredential(g)}}return y.FACTOR_ID="phone",y})();var xu="@firebase/auth";class Uy{constructor(p){this.auth=p,this.internalListeners=new Map}getUid(){var p;return this.assertAuthConfigured(),(null===(p=this.auth.currentUser)||void 0===p?void 0:p.uid)||null}getToken(p){var g=this;return(0,s.Z)(function*(){return g.assertAuthConfigured(),yield g.auth._initializationPromise,g.auth.currentUser?{accessToken:yield g.auth.currentUser.getIdToken(p)}:null})()}addAuthTokenListener(p){if(this.assertAuthConfigured(),this.internalListeners.has(p))return;const g=this.auth.onIdTokenChanged(w=>{p(w?.stsTokenManager.accessToken||null)});this.internalListeners.set(p,g),this.updateProactiveRefresh()}removeAuthTokenListener(p){this.assertAuthConfigured();const g=this.internalListeners.get(p);!g||(this.internalListeners.delete(p),g(),this.updateProactiveRefresh())}assertAuthConfigured(){U(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Oo(){return window}function Zd(){return(Zd=(0,s.Z)(function*(y,p,g){var w;const{BuildInfo:A}=Oo();Z(p.sessionId,"AuthEvent did not contain a session ID");const R=yield _c(p.sessionId),q={};return qt()?q.ibi=A.packageName:Xt()?q.apn=A.packageName:Te(y,"operation-not-supported-in-this-environment"),A.displayName&&(q.appDisplayName=A.displayName),q.sessionId=R,$d(y,g,p.type,void 0,null!==(w=p.eventId)&&void 0!==w?w:void 0,q)})).apply(this,arguments)}function ku(){return(ku=(0,s.Z)(function*(y){const{BuildInfo:p}=Oo(),g={};qt()?g.iosBundleId=p.packageName:Xt()?g.androidPackageName=p.packageName:Te(y,"operation-not-supported-in-this-environment"),yield ur(y,g)})).apply(this,arguments)}function Yd(){return(Yd=(0,s.Z)(function*(y,p,g){const{cordova:w}=Oo();let A=()=>{};try{yield new Promise((R,q)=>{let ue=null;function Be(){var yt;R();const vn=null===(yt=w.plugins.browsertab)||void 0===yt?void 0:yt.close;"function"==typeof vn&&vn(),"function"==typeof g?.close&&g.close()}function et(){ue||(ue=window.setTimeout(()=>{q(be(y,"redirect-cancelled-by-user"))},2e3))}function It(){"visible"===document?.visibilityState&&et()}p.addPassiveListener(Be),document.addEventListener("resume",et,!1),Xt()&&document.addEventListener("visibilitychange",It,!1),A=()=>{p.removePassiveListener(Be),document.removeEventListener("resume",et,!1),document.removeEventListener("visibilitychange",It,!1),ue&&window.clearTimeout(ue)}})}finally{A()}})).apply(this,arguments)}function _c(y){return al.apply(this,arguments)}function al(){return(al=(0,s.Z)(function*(y){const p=yc(y),g=yield crypto.subtle.digest("SHA-256",p);return Array.from(new Uint8Array(g)).map(A=>A.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function yc(y){if(Z(/[0-9a-zA-Z]+/.test(y),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(y);const p=new ArrayBuffer(y.length),g=new Uint8Array(p);for(let w=0;w<y.length;w++)g[w]=y.charCodeAt(w);return g}(0,P.Pz)("authIdTokenMaxAge"),function ig(y){(0,oe._registerComponent)(new te.wA("auth",(p,{options:g})=>{const w=p.getProvider("app").getImmediate(),A=p.getProvider("heartbeat"),{apiKey:R,authDomain:q}=w.options;return((ue,Be)=>{U(R&&!R.includes(":"),"invalid-api-key",{appName:ue.name}),U(!q?.includes(":"),"argument-error",{appName:ue.name});const et={apiKey:R,authDomain:q,clientPlatform:y,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Hs(y)},It=new jt(ue,Be,et);return function Fe(y,p){const g=p?.persistence||[],w=(Array.isArray(g)?g:[g]).map(se);p?.errorMap&&y._updateErrorMap(p.errorMap),y._initializeWithPersistence(w,p?.popupRedirectResolver)}(It,g),It})(w,A)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((p,g,w)=>{p.getProvider("auth-internal").initialize()})),(0,oe._registerComponent)(new te.wA("auth-internal",p=>{const g=Fn(p.getProvider("auth").getImmediate());return new Uy(g)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,oe.registerVersion)(xu,"0.21.0",function Hy(y){switch(y){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(y)),(0,oe.registerVersion)(xu,"0.21.0","esm2017")}("Browser");class Kd extends Is{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(p=>{this.resolveInialized=p})}addPassiveListener(p){this.passiveListeners.add(p)}removePassiveListener(p){this.passiveListeners.delete(p)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(p){return this.resolveInialized(),this.passiveListeners.forEach(g=>g(p)),super.onEvent(p)}initialized(){var p=this;return(0,s.Z)(function*(){yield p.initPromise})()}}function sg(y){return cl.apply(this,arguments)}function cl(){return(cl=(0,s.Z)(function*(y){const p=yield ul()._get(Po(y));return p&&(yield ul()._remove(Po(y))),p})).apply(this,arguments)}function Zy(){const y=[],p="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let g=0;g<20;g++){const w=Math.floor(Math.random()*p.length);y.push(p.charAt(w))}return y.join("")}function ul(){return se(Ya)}function Po(y){return Y("authEvent",y.config.apiKey,y.name)}function Fo(y){if(!y?.includes("?"))return{};const[p,...g]=y.split("?");return(0,P.zd)(g.join("?"))}function vc(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:be("no-auth-event")}}function Ru(){var y;return(null===(y=self?.location)||void 0===y?void 0:y.protocol)||null}function Uf(y=(0,P.z$)()){return!("file:"!==Ru()&&"ionic:"!==Ru()&&"capacitor:"!==Ru()||!y.toLowerCase().match(/iphone|ipad|ipod|android/))}function dg(){try{const y=self.localStorage,p=Qa();if(y)return y.setItem(p,"1"),y.removeItem(p),!function Ky(y=(0,P.z$)()){return function ug(){return(0,P.w1)()&&11===document?.documentMode}()||function jf(y=(0,P.z$)()){return/Edge\/\d+/.test(y)}(y)}()||(0,P.hl)()}catch{return Xd()&&(0,P.hl)()}return!1}function Xd(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function eh(){return(function Wy(){return"http:"===Ru()||"https:"===Ru()}()||(0,P.ru)()||Uf())&&!function Hf(){return(0,P.b$)()||(0,P.UG)()}()&&dg()&&!Xd()}function Lo(){return Uf()&&typeof document<"u"}function Ou(){return(Ou=(0,s.Z)(function*(){return!!Lo()&&new Promise(y=>{const p=setTimeout(()=>{y(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(p),y(!0)})})})).apply(this,arguments)}const Mr={LOCAL:"local",NONE:"none",SESSION:"session"},Qi=U,hl="persistence";function Pu(y){return th.apply(this,arguments)}function th(){return(th=(0,s.Z)(function*(y){yield y._initializationPromise;const p=nh(),g=Y(hl,y.config.apiKey,y.name);p&&p.setItem(g,y._getPersistence())})).apply(this,arguments)}function nh(){var y;try{return(null===(y=function Gf(){return typeof window<"u"?window:null}())||void 0===y?void 0:y.sessionStorage)||null}catch{return null}}const ih=U;class Tr{constructor(){this.browserResolver=se(class Ts{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=os,this._completeRedirectFn=lt,this._overrideRedirectResult=no}_openPopup(p,g,w,A){var R=this;return(0,s.Z)(function*(){var q;Z(null===(q=R.eventManagers[p._key()])||void 0===q?void 0:q.manager,"_initialize() not called before _openPopup()");const ue=$d(p,g,w,Re(),A);return function gc(y,p,g,w=500,A=600){const R=Math.max((window.screen.availHeight-A)/2,0).toString(),q=Math.max((window.screen.availWidth-w)/2,0).toString();let ue="";const Be=Object.assign(Object.assign({},Ny),{width:w.toString(),height:A.toString(),top:R,left:q}),et=(0,P.z$)().toLowerCase();g&&(ue=nn(et)?"_blank":g),$e(et)&&(p=p||"http://localhost",Be.scrollbars="yes");const It=Object.entries(Be).reduce((vn,[mi,$r])=>`${vn}${mi}=${$r},`,"");if(function sr(y=(0,P.z$)()){var p;return qt(y)&&!(null===(p=window.navigator)||void 0===p||!p.standalone)}(et)&&"_self"!==ue)return function Vy(y,p){const g=document.createElement("a");g.href=y,g.target=p;const w=document.createEvent("MouseEvent");w.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),g.dispatchEvent(w)}(p||"",ue),new Ly(null);const yt=window.open(p||"",ue,It);U(yt,y,"popup-blocked");try{yt.focus()}catch{}return new Ly(yt)}(p,ue,Qa())})()}_openRedirect(p,g,w,A){var R=this;return(0,s.Z)(function*(){return yield R._originValidation(p),function Hr(y){Qn().location.href=y}($d(p,g,w,Re(),A)),new Promise(()=>{})})()}_initialize(p){const g=p._key();if(this.eventManagers[g]){const{manager:A,promise:R}=this.eventManagers[g];return A?Promise.resolve(A):(Z(R,"If manager is not set, promise should be"),R)}const w=this.initAndGetManager(p);return this.eventManagers[g]={promise:w},w.catch(()=>{delete this.eventManagers[g]}),w}initAndGetManager(p){var g=this;return(0,s.Z)(function*(){const w=yield function Pf(y){return Ff.apply(this,arguments)}(p),A=new Is(p);return w.register("authEvent",R=>(U(R?.authEvent,p,"invalid-auth-event"),{status:A.onEvent(R.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),g.eventManagers[p._key()]={manager:A},g.iframes[p._key()]=w,A})()}_isIframeWebStorageSupported(p,g){this.iframes[p._key()].send(ma,{type:ma},A=>{var R;const q=null===(R=A?.[0])||void 0===R?void 0:R[ma];void 0!==q&&g(!!q),Te(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const g=p._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function io(y){return kf.apply(this,arguments)}(p)),this.originValidationPromises[g]}get _shouldInitProactively(){return mo()||mt()||qt()}}),this.cordovaResolver=se(class Bf{constructor(){this._redirectPersistence=os,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=lt,this._overrideRedirectResult=no}_initialize(p){var g=this;return(0,s.Z)(function*(){const w=p._key();let A=g.eventManagers.get(w);return A||(A=new Kd(p),g.eventManagers.set(w,A),g.attachCallbackListeners(p,A)),A})()}_openPopup(p){Te(p,"operation-not-supported-in-this-environment")}_openRedirect(p,g,w,A){var R=this;return(0,s.Z)(function*(){!function qy(y){var p,g,w,A,R,q,ue,Be,et,It;const yt=Oo();U("function"==typeof(null===(p=yt?.universalLinks)||void 0===p?void 0:p.subscribe),y,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),U(typeof(null===(g=yt?.BuildInfo)||void 0===g?void 0:g.packageName)<"u",y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),U("function"==typeof(null===(R=null===(A=null===(w=yt?.cordova)||void 0===w?void 0:w.plugins)||void 0===A?void 0:A.browsertab)||void 0===R?void 0:R.openUrl),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),U("function"==typeof(null===(Be=null===(ue=null===(q=yt?.cordova)||void 0===q?void 0:q.plugins)||void 0===ue?void 0:ue.browsertab)||void 0===Be?void 0:Be.isAvailable),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),U("function"==typeof(null===(It=null===(et=yt?.cordova)||void 0===et?void 0:et.InAppBrowser)||void 0===It?void 0:It.open),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(p);const q=yield R._initialize(p);yield q.initialized(),q.resetRedirect(),function ii(){cr.clear()}(),yield R._originValidation(p);const ue=function rg(y,p,g=null){return{type:p,eventId:g,urlResponse:null,sessionId:Zy(),postBody:null,tenantId:y.tenantId,error:be(y,"no-auth-event")}}(p,w,A);yield function ll(y,p){return ul()._set(Po(y),p)}(p,ue);const Be=yield function ga(y,p,g){return Zd.apply(this,arguments)}(p,ue,g),et=yield function zy(y){const{cordova:p}=Oo();return new Promise(g=>{p.plugins.browsertab.isAvailable(w=>{let A=null;w?p.plugins.browsertab.openUrl(y):A=p.InAppBrowser.open(y,function wi(y=(0,P.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(y)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(y)}()?"_blank":"_system","location=yes"),g(A)})})}(Be);return function $y(y,p,g){return Yd.apply(this,arguments)}(p,q,et)})()}_isIframeWebStorageSupported(p,g){throw new Error("Method not implemented.")}_originValidation(p){const g=p._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function ol(y){return ku.apply(this,arguments)}(p)),this.originValidationPromises[g]}attachCallbackListeners(p,g){const{universalLinks:w,handleOpenURL:A,BuildInfo:R}=Oo(),q=setTimeout((0,s.Z)(function*(){yield sg(p),g.onEvent(vc())}),500),ue=function(){var It=(0,s.Z)(function*(yt){clearTimeout(q);const vn=yield sg(p);let mi=null;vn&&yt?.url&&(mi=function og(y,p){var g,w;const A=function lg(y){const p=Fo(y),g=p.link?decodeURIComponent(p.link):void 0,w=Fo(g).link,A=p.deep_link_id?decodeURIComponent(p.deep_link_id):void 0;return Fo(A).link||A||w||g||y}(p);if(A.includes("/__/auth/callback")){const R=Fo(A),q=R.firebaseError?function ag(y){try{return JSON.parse(y)}catch{return null}}(decodeURIComponent(R.firebaseError)):null,ue=null===(w=null===(g=q?.code)||void 0===g?void 0:g.split("auth/"))||void 0===w?void 0:w[1],Be=ue?be(ue):null;return Be?{type:y.type,eventId:y.eventId,tenantId:y.tenantId,error:Be,urlResponse:null,sessionId:null,postBody:null}:{type:y.type,eventId:y.eventId,tenantId:y.tenantId,sessionId:y.sessionId,urlResponse:A,postBody:null}}return null}(vn,yt.url)),g.onEvent(mi||vc())});return function(vn){return It.apply(this,arguments)}}();typeof w<"u"&&"function"==typeof w.subscribe&&w.subscribe(null,ue);const Be=A,et=`${R.packageName.toLowerCase()}://`;Oo().handleOpenURL=function(){var It=(0,s.Z)(function*(yt){if(yt.toLowerCase().startsWith(et)&&ue({url:yt}),"function"==typeof Be)try{Be(yt)}catch(vn){console.error(vn)}});return function(yt){return It.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=os,this._completeRedirectFn=lt,this._overrideRedirectResult=no}_initialize(p){var g=this;return(0,s.Z)(function*(){return yield g.selectUnderlyingResolver(),g.assertedUnderlyingResolver._initialize(p)})()}_openPopup(p,g,w,A){var R=this;return(0,s.Z)(function*(){return yield R.selectUnderlyingResolver(),R.assertedUnderlyingResolver._openPopup(p,g,w,A)})()}_openRedirect(p,g,w,A){var R=this;return(0,s.Z)(function*(){return yield R.selectUnderlyingResolver(),R.assertedUnderlyingResolver._openRedirect(p,g,w,A)})()}_isIframeWebStorageSupported(p,g){this.assertedUnderlyingResolver._isIframeWebStorageSupported(p,g)}_originValidation(p){return this.assertedUnderlyingResolver._originValidation(p)}get _shouldInitProactively(){return Lo()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return ih(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var p=this;return(0,s.Z)(function*(){if(p.underlyingResolver)return;const g=yield function hg(){return Ou.apply(this,arguments)}();p.underlyingResolver=g?p.cordovaResolver:p.browserResolver})()}}function rh(y){return y.unwrap()}function sh(y){return _a(y)}function _a(y){const{_tokenResponse:p}=y instanceof P.ZR?y.customData:y;if(!p)return null;if(!(y instanceof P.ZR)&&"temporaryProof"in p&&"phoneNumber"in p)return il.credentialFromResult(y);const g=p.providerId;if(!g||"password"===g)return null;let w;switch(g){case"google.com":w=Nl;break;case"facebook.com":w=Ba;break;case"github.com":w=nu;break;case"twitter.com":w=or;break;default:const{oauthIdToken:A,oauthAccessToken:R,oauthTokenSecret:q,pendingToken:ue,nonce:Be}=p;return R||q||A||ue?ue?g.startsWith("saml.")?Li._create(g,ue):gs._fromParams({providerId:g,signInMethod:g,pendingToken:ue,idToken:A,accessToken:R}):new vo(g).credential({idToken:A,accessToken:R,rawNonce:Be}):null}return y instanceof P.ZR?w.credentialFromError(y):w.credentialFromResult(y)}function Ar(y,p){return p.catch(g=>{throw g instanceof P.ZR&&function Nu(y,p){var g;const w=null===(g=p.customData)||void 0===g?void 0:g._tokenResponse;if("auth/multi-factor-auth-required"===p?.code)p.resolver=new Qy(y,function Zn(y,p){var g;const w=(0,P.m9)(y),A=p;return U(p.customData.operationType,w,"argument-error"),U(null===(g=A.customData._serverResponse)||void 0===g?void 0:g.mfaPendingCredential,w,"argument-error"),ec._fromError(w,A)}(y,p));else if(w){const A=_a(p),R=p;A&&(R.credential=A,R.tenantId=w.tenantId||void 0,R.email=w.email||void 0,R.phoneNumber=w.phoneNumber||void 0)}}(y,g),g}).then(g=>{const A=g.user;return{operationType:g.operationType,credential:sh(g),additionalUserInfo:Jl(g),user:hs.getOrCreate(A)}})}function ya(y,p){return $f.apply(this,arguments)}function $f(){return($f=(0,s.Z)(function*(y,p){const g=yield p;return{verificationId:g.verificationId,confirm:w=>Ar(y,g.confirm(w))}})).apply(this,arguments)}class Qy{constructor(p,g){this.resolver=g,this.auth=function Fu(y){return y.wrapped()}(p)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(p){return Ar(rh(this.auth),this.resolver.resolveSignIn(p))}}class hs{constructor(p){this._delegate=p,this.multiFactor=function ra(y){const p=(0,P.m9)(y);return Io.has(p)||Io.set(p,Af._fromUser(p)),Io.get(p)}(p)}static getOrCreate(p){return hs.USER_MAP.has(p)||hs.USER_MAP.set(p,new hs(p)),hs.USER_MAP.get(p)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(p){return this._delegate.getIdTokenResult(p)}getIdToken(p){return this._delegate.getIdToken(p)}linkAndRetrieveDataWithCredential(p){return this.linkWithCredential(p)}linkWithCredential(p){var g=this;return(0,s.Z)(function*(){return Ar(g.auth,jl(g._delegate,p))})()}linkWithPhoneNumber(p,g){var w=this;return(0,s.Z)(function*(){return ya(w.auth,function yn(y,p,g){return Gr.apply(this,arguments)}(w._delegate,p,g))})()}linkWithPopup(p){var g=this;return(0,s.Z)(function*(){return Ar(g.auth,function fc(y,p,g){return sl.apply(this,arguments)}(g._delegate,p,Tr))})()}linkWithRedirect(p){var g=this;return(0,s.Z)(function*(){return yield Pu(Fn(g.auth)),function K(y,p,g){return function ie(y,p,g){return Ee.apply(this,arguments)}(y,p,g)}(g._delegate,p,Tr)})()}reauthenticateAndRetrieveDataWithCredential(p){return this.reauthenticateWithCredential(p)}reauthenticateWithCredential(p){var g=this;return(0,s.Z)(function*(){return Ar(g.auth,Gl(g._delegate,p))})()}reauthenticateWithPhoneNumber(p,g){return ya(this.auth,function nl(y,p,g){return jn.apply(this,arguments)}(this._delegate,p,g))}reauthenticateWithPopup(p){return Ar(this.auth,function Qm(y,p,g){return Du.apply(this,arguments)}(this._delegate,p,Tr))}reauthenticateWithRedirect(p){var g=this;return(0,s.Z)(function*(){return yield Pu(Fn(g.auth)),function I(y,p,g){return function x(y,p,g){return L.apply(this,arguments)}(y,p,g)}(g._delegate,p,Tr)})()}sendEmailVerification(p){return function uu(y,p){return qa.apply(this,arguments)}(this._delegate,p)}unlink(p){var g=this;return(0,s.Z)(function*(){return yield function Vi(y,p){return Vl.apply(this,arguments)}(g._delegate,p),g})()}updateEmail(p){return function Od(y,p){return Do((0,P.m9)(y),p,null)}(this._delegate,p)}updatePassword(p){return function Co(y,p){return Do((0,P.m9)(y),null,p)}(this._delegate,p)}updatePhoneNumber(p){return function Km(y,p){return wu.apply(this,arguments)}(this._delegate,p)}updateProfile(p){return function fu(y,p){return pu.apply(this,arguments)}(this._delegate,p)}verifyBeforeUpdateEmail(p,g){return function du(y,p,g){return Wl.apply(this,arguments)}(this._delegate,p,g)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}hs.USER_MAP=new WeakMap;const va=U;let bc=(()=>{class y{constructor(g,w){if(this.app=g,w.isInitialized())return this._delegate=w.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:A}=g.options;va(A,"invalid-api-key",{appName:g.name}),va(A,"invalid-api-key",{appName:g.name});const R=typeof window<"u"?Tr:void 0;this._delegate=w.initialize({options:{persistence:ba(A,g.name),popupRedirectResolver:R}}),this._delegate._updateErrorMap(Ce),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?hs.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(g){this._delegate.languageCode=g}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(g){this._delegate.tenantId=g}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(g,w){!function kl(y,p,g){const w=Fn(y);U(w._canInitEmulator,w,"emulator-config-failed"),U(/^https?:\/\//.test(p),w,"invalid-emulator-scheme");const A=!!g?.disableWarnings,R=is(p),{host:q,port:ue}=function ti(y){const p=is(y),g=/(\/\/)?([^?#/]+)/.exec(y.substr(p.length));if(!g)return{host:"",port:null};const w=g[2].split("@").pop()||"",A=/^(\[[^\]]+\])(:|$)/.exec(w);if(A){const R=A[1];return{host:R,port:js(w.substr(R.length+1))}}{const[R,q]=w.split(":");return{host:R,port:js(q)}}}(p);w.config.emulator={url:`${R}//${q}${null===ue?"":`:${ue}`}/`},w.settings.appVerificationDisabledForTesting=!0,w.emulatorConfig=Object.freeze({host:q,port:ue,protocol:R.replace(":",""),options:Object.freeze({disableWarnings:A})}),A||function Gs(){function y(){const p=document.createElement("p"),g=p.style;p.innerText="Running in emulator mode. Do not use with production credentials.",g.position="fixed",g.width="100%",g.backgroundColor="#ffffff",g.border=".1em solid #000000",g.color="#b50000",g.bottom="0px",g.left="0px",g.margin="0px",g.zIndex="10000",g.textAlign="center",p.classList.add("firebase-emulator-warning"),document.body.appendChild(p)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",y):y())}()}(this._delegate,g,w)}applyActionCode(g){return function Ir(y,p){return Ha.apply(this,arguments)}(this._delegate,g)}checkActionCode(g){return ja(this._delegate,g)}confirmPasswordReset(g,w){return function Zl(y,p,g){return ta.apply(this,arguments)}(this._delegate,g,w)}createUserWithEmailAndPassword(g,w){var A=this;return(0,s.Z)(function*(){return Ar(A._delegate,function Ga(y,p,g){return qn.apply(this,arguments)}(A._delegate,g,w))})()}fetchProvidersForEmail(g){return this.fetchSignInMethodsForEmail(g)}fetchSignInMethodsForEmail(g){return function Yl(y,p){return $a.apply(this,arguments)}(this._delegate,g)}isSignInWithEmailLink(g){return function Cs(y,p){return"EMAIL_SIGNIN"===Fl.parseLink(p)?.operation}(0,g)}getRedirectResult(){var g=this;return(0,s.Z)(function*(){va(eh(),g._delegate,"operation-not-supported-in-this-environment");const w=yield function Le(y,p){return Xe.apply(this,arguments)}(g._delegate,Tr);return w?Ar(g._delegate,Promise.resolve(w)):{credential:null,user:null}})()}addFrameworkForLogging(g){!function dl(y,p){Fn(y)._logFramework(p)}(this._delegate,g)}onAuthStateChanged(g,w,A){const{next:R,error:q,complete:ue}=Lu(g,w,A);return this._delegate.onAuthStateChanged(R,q,ue)}onIdTokenChanged(g,w,A){const{next:R,error:q,complete:ue}=Lu(g,w,A);return this._delegate.onIdTokenChanged(R,q,ue)}sendSignInLinkToEmail(g,w){return function lu(y,p,g){return wo.apply(this,arguments)}(this._delegate,g,w)}sendPasswordResetEmail(g,w){return function ql(y,p,g){return $n.apply(this,arguments)}(this._delegate,g,w||void 0)}setPersistence(g){var w=this;return(0,s.Z)(function*(){let A;switch(function zf(y,p){Qi(Object.values(Mr).includes(p),y,"invalid-persistence-type"),(0,P.b$)()?Qi(p!==Mr.SESSION,y,"unsupported-persistence-type"):(0,P.UG)()?Qi(p===Mr.NONE,y,"unsupported-persistence-type"):Xd()?Qi(p===Mr.NONE||p===Mr.LOCAL&&(0,P.hl)(),y,"unsupported-persistence-type"):Qi(p===Mr.NONE||dg(),y,"unsupported-persistence-type")}(w._delegate,g),g){case Mr.SESSION:A=os;break;case Mr.LOCAL:A=(yield se(oa)._isAvailable())?oa:Ya;break;case Mr.NONE:A=V;break;default:return Te("argument-error",{appName:w._delegate.name})}return w._delegate.setPersistence(A)})()}signInAndRetrieveDataWithCredential(g){return this.signInWithCredential(g)}signInAnonymously(){return Ar(this._delegate,function If(y){return zn.apply(this,arguments)}(this._delegate))}signInWithCredential(g){return Ar(this._delegate,Hn(this._delegate,g))}signInWithCustomToken(g){return Ar(this._delegate,function su(y,p){return Ua.apply(this,arguments)}(this._delegate,g))}signInWithEmailAndPassword(g,w){return Ar(this._delegate,function ss(y,p,g){return Hn((0,P.m9)(y),rs.credential(p,g))}(this._delegate,g,w))}signInWithEmailLink(g,w){return Ar(this._delegate,function zm(y,p,g){return za.apply(this,arguments)}(this._delegate,g,w))}signInWithPhoneNumber(g,w){return ya(this._delegate,function qe(y,p,g){return Ze.apply(this,arguments)}(this._delegate,g,w))}signInWithPopup(g){var w=this;return(0,s.Z)(function*(){return va(eh(),w._delegate,"operation-not-supported-in-this-environment"),Ar(w._delegate,function Cu(y,p,g){return as.apply(this,arguments)}(w._delegate,g,Tr))})()}signInWithRedirect(g){var w=this;return(0,s.Z)(function*(){return va(eh(),w._delegate,"operation-not-supported-in-this-environment"),yield Pu(w._delegate),function Et(y,p,g){return function Yn(y,p,g){return S.apply(this,arguments)}(y,p,g)}(w._delegate,g,Tr)})()}updateCurrentUser(g){return this._delegate.updateCurrentUser(g)}verifyPasswordResetCode(g){return function au(y,p){return Rd.apply(this,arguments)}(this._delegate,g)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return y.Persistence=Mr,y})();function Lu(y,p,g){let w=y;"function"!=typeof y&&({next:w,error:p,complete:g}=y);const A=w;return{next:q=>A(q&&hs.getOrCreate(q)),error:p,complete:g}}function ba(y,p){const g=function ds(y,p){const g=nh();if(!g)return[];const w=Y(hl,y,p);switch(g.getItem(w)){case Mr.NONE:return[V];case Mr.LOCAL:return[oa,os];case Mr.SESSION:return[os];default:return[]}}(y,p);if(typeof self<"u"&&!g.includes(oa)&&g.push(oa),typeof window<"u")for(const w of[Ya,os])g.includes(w)||g.push(w);return g.includes(V)||g.push(V),g}class qf{constructor(){this.providerId="phone",this._delegate=new il(rh(ee.Z.auth()))}static credential(p,g){return il.credential(p,g)}verifyPhoneNumber(p,g){return this._delegate.verifyPhoneNumber(p,g)}unwrap(){return this._delegate}}qf.PHONE_SIGN_IN_METHOD=il.PHONE_SIGN_IN_METHOD,qf.PROVIDER_ID=il.PROVIDER_ID;const Vu=U;class Zf{constructor(p,g,w=ee.Z.app()){var A;Vu(null===(A=w.options)||void 0===A?void 0:A.apiKey,"invalid-api-key",{appName:w.name}),this._delegate=new Ei(p,g,w.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Yf(y){y.INTERNAL.registerComponent(new te.wA("auth-compat",p=>{const g=p.getProvider("app-compat").getImmediate(),w=p.getProvider("auth");return new bc(g,w)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:rs,FacebookAuthProvider:Ba,GithubAuthProvider:nu,GoogleAuthProvider:Nl,OAuthProvider:vo,SAMLAuthProvider:Er,PhoneAuthProvider:qf,PhoneMultiFactorGenerator:Au,RecaptchaVerifier:Zf,TwitterAuthProvider:or,Auth:bc,AuthCredential:Mi,Error:P.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),y.registerVersion("@firebase/auth-compat","0.3.0")}(ee.Z)},8766:(ct,Ie,F)=>{F.d(Ie,{Lj:()=>Te,X3:()=>at});var s=F(5861);let P,oe;const te=new WeakMap,fe=new WeakMap,pe=new WeakMap,H=new WeakMap,j=new WeakMap;let xe={get(U,ge,Z){if(U instanceof IDBTransaction){if("done"===ge)return fe.get(U);if("objectStoreNames"===ge)return U.objectStoreNames||pe.get(U);if("store"===ge)return Z.objectStoreNames[1]?void 0:Z.objectStore(Z.objectStoreNames[0])}return me(U[ge])},set:(U,ge,Z)=>(U[ge]=Z,!0),has:(U,ge)=>U instanceof IDBTransaction&&("done"===ge||"store"===ge)||ge in U};function _e(U){return"function"==typeof U?function rt(U){return U!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function he(){return oe||(oe=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(U)?function(...ge){return U.apply(tt(this),ge),me(te.get(this))}:function(...ge){return me(U.apply(tt(this),ge))}:function(ge,...Z){const J=U.call(tt(this),ge,...Z);return pe.set(J,ge.sort?ge.sort():[ge]),me(J)}}(U):(U instanceof IDBTransaction&&function Ne(U){if(fe.has(U))return;const ge=new Promise((Z,J)=>{const se=()=>{U.removeEventListener("complete",re),U.removeEventListener("error",Fe),U.removeEventListener("abort",Fe)},re=()=>{Z(),se()},Fe=()=>{J(U.error||new DOMException("AbortError","AbortError")),se()};U.addEventListener("complete",re),U.addEventListener("error",Fe),U.addEventListener("abort",Fe)});fe.set(U,ge)}(U),((U,ge)=>ge.some(Z=>U instanceof Z))(U,function ae(){return P||(P=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(U,xe):U)}function me(U){if(U instanceof IDBRequest)return function W(U){const ge=new Promise((Z,J)=>{const se=()=>{U.removeEventListener("success",re),U.removeEventListener("error",Fe)},re=()=>{Z(me(U.result)),se()},Fe=()=>{J(U.error),se()};U.addEventListener("success",re),U.addEventListener("error",Fe)});return ge.then(Z=>{Z instanceof IDBCursor&&te.set(Z,U)}).catch(()=>{}),j.set(ge,U),ge}(U);if(H.has(U))return H.get(U);const ge=_e(U);return ge!==U&&(H.set(U,ge),j.set(ge,U)),ge}const tt=U=>j.get(U);function at(U,ge,{blocked:Z,upgrade:J,blocking:se,terminated:re}={}){const Fe=indexedDB.open(U,ge),Re=me(Fe);return J&&Fe.addEventListener("upgradeneeded",pt=>{J(me(Fe.result),pt.oldVersion,pt.newVersion,me(Fe.transaction))}),Z&&Fe.addEventListener("blocked",()=>Z()),Re.then(pt=>{re&&pt.addEventListener("close",()=>re()),se&&pt.addEventListener("versionchange",()=>se())}).catch(()=>{}),Re}function Te(U,{blocked:ge}={}){const Z=indexedDB.deleteDatabase(U);return ge&&Z.addEventListener("blocked",()=>ge()),me(Z).then(()=>{})}const be=["get","getKey","getAll","getAllKeys","count"],De=["put","add","delete","clear"],Ue=new Map;function He(U,ge){if(!(U instanceof IDBDatabase)||ge in U||"string"!=typeof ge)return;if(Ue.get(ge))return Ue.get(ge);const Z=ge.replace(/FromIndex$/,""),J=ge!==Z,se=De.includes(Z);if(!(Z in(J?IDBIndex:IDBObjectStore).prototype)||!se&&!be.includes(Z))return;const re=function(){var Fe=(0,s.Z)(function*(Re,...pt){const an=this.transaction(Re,se?"readwrite":"readonly");let Yt=an.store;return J&&(Yt=Yt.index(pt.shift())),(yield Promise.all([Yt[Z](...pt),se&&an.done]))[0]});return function(pt){return Fe.apply(this,arguments)}}();return Ue.set(ge,re),re}!function Ce(U){xe=U(xe)}(U=>({...U,get:(ge,Z,J)=>He(ge,Z)||U.get(ge,Z,J),has:(ge,Z)=>!!He(ge,Z)||U.has(ge,Z)}))},5861:(ct,Ie,F)=>{function s(P,oe,ae,he,te,fe,pe){try{var H=P[fe](pe),j=H.value}catch(W){return void ae(W)}H.done?oe(j):Promise.resolve(j).then(he,te)}function ee(P){return function(){var oe=this,ae=arguments;return new Promise(function(he,te){var fe=P.apply(oe,ae);function pe(j){s(fe,he,te,pe,H,"next",j)}function H(j){s(fe,he,te,pe,H,"throw",j)}pe(void 0)})}}F.d(Ie,{Z:()=>ee})}},ct=>{ct(ct.s=3520)}]);